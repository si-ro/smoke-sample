!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=30)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(31);t.Events=s.Events;var n=r(32);t.Barrier=n.Barrier;var i=r(33);t.Semaphore=i.Semaphore},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(38);t.Buffer=s.Buffer},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(41);t.Writable=s.Writable;var n=r(42);t.Readable=n.Readable},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(63);t.HeaderProtocol=s.HeaderProtocol;var n=r(64);t.BodyProtocol=n.BodyProtocol},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(58);t.Sockets=s.Sockets;var n=r(22);t.SocketServer=n.SocketServer;var i=r(9);t.Socket=i.Socket;var a=r(59);t.NetworkStream=a.NetworkStream},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(0);t.Barrier=s.Barrier,t.Events=s.Events,t.Semaphore=s.Semaphore;var n=r(11);t.QueryString=n.QueryString;var i=r(35);t.Path=i.Path;var a=r(6);t.Url=a.Url;var o=r(1);t.Buffer=o.Buffer;var c=r(2);t.Readable=c.Readable,t.Writable=c.Writable;var h=r(7);t.Queryable=h.Queryable;var u=r(12);t.System=u.System;var l=r(13);t.Database=l.Database;var f=r(47);t.Bucket=f.Bucket;var d=r(16);t.PageHub=d.PageHub,t.NetworkHub=d.NetworkHub;var p=r(21);t.Network=p.Network;var w=r(4);t.Sockets=w.Sockets,t.SocketServer=w.SocketServer,t.Socket=w.Socket,t.NetworkStream=w.NetworkStream;var b=r(23);t.Rest=b.Rest,t.Fetch=b.Fetch,t.FetchRequest=b.FetchRequest,t.FetchResponse=b.FetchResponse,t.Router=b.Router,t.Route=b.Route,t.RestServer=b.RestServer,t.RestRequest=b.RestRequest,t.RestResponse=b.RestResponse;var y=r(67);t.Node=y.Node},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(37);t.Url=s.Url},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(43);t.Queryable=s.Queryable},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileStore="files",t.BlobStore="blobs"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(1),i=1e6,a=32768,o=0,c=1;class h extends Error{constructor(){super("Received invalid socket message.")}}t.InvalidSocketMessage=h;class u extends Error{constructor(){super(`Message size exceeds ${i} bytes.`)}}t.MessageSendSizeTooLarge=u;class l extends Error{constructor(){super(`Message received exceeded ${i} bytes.`)}}t.MessageReceiveSizeTooLarge=l;const f=e=>e();class d extends s.Events{constructor(){super(...arguments),this.senders=[],this.buffers=[]}once(e,t){super.once(e,t)}on(e,t){super.on(e,t)}addTrack(e,t){this.senders.push(this.connection.addTrack(e,t))}send(e){const t=n.Buffer.from(e);if(t.length>i)throw new u;{let e=0;for(;e!==t.length;){const r=t.slice(e,e+a);(e+=r.length)!==t.length?this.channel.send(this.encode(c,r)):this.channel.send(this.encode(o,r))}}}close(){for(;this.senders.length>0;){const e=this.senders.shift();this.connection.removeTrack(e)}this.channel.close()}encode(e,t=n.Buffer.alloc(0)){return n.Buffer.concat([n.Buffer.from([e]),t])}decode(e){const t=n.Buffer.from(e);return[t.readInt8(0),t.slice(1)]}setupEvents(){this.connection.addEventListener("track",e=>this.emit("track",e)),this.channel.addEventListener("error",e=>this.emit("error",e)),this.channel.addEventListener("close",e=>this.emit("close",e)),this.channel.addEventListener("message",e=>{const[t,r]=this.decode(e.data);switch(this.buffers.push(r),this.buffers.reduce((e,t)=>e+t.length,0)>i&&(this.emit("error",new l),this.close()),t){case o:{const e=n.Buffer.concat(this.buffers);this.emit("message",{data:e}),this.buffers=[];break}case c:break;default:this.emit("error",new h),this.close()}})}static async fromChannel(e,t,r,s){t.binaryType="arraybuffer";const n=new d;return n.connection=e,n.channel=t,n.remote=s,n.local=r,n.buffers=[],n.setupEvents(),n}static createSocket(e,t,r){const s=new d;return f(async()=>{try{const[n,i]=await e.connect(t,r);s.connection=n.connection,s.channel=i,s.setupEvents(),s.emit("open")}catch(e){s.emit("error",e),s.emit("close")}}),s}}t.Socket=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(24);t.Router=s.Router,t.Route=s.Route;var n=r(25);t.RestRequest=n.RestRequest;var i=r(26);t.RestResponse=i.RestResponse;var a=r(65);t.RestServer=a.RestServer},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(34);t.QueryString=s.QueryString},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(44);t.System=s.System},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(14);t.Reader=s.Reader;var n=r(45);t.Database=n.Database},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=()=>{const e=window;return e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB};class n{constructor(){this.awaiters=[],this.running=!1}run(e){return new Promise((t,r)=>{this.awaiters.push({func:e,resolve:t,reject:r}),this.dispatch()})}async dispatch(){if(this.running||0===this.awaiters.length)return;const e=this.awaiters.shift();this.running=!0;try{e.resolve(await e.func()),setTimeout(()=>{this.running=!1,this.dispatch()},0)}catch(t){e.reject(t),setTimeout(()=>{this.running=!1,this.dispatch()},0)}}}class i{constructor(e){this.reader=e}async next(){const e=await this.reader.read();if(null===e){return{done:!0,value:null}}return{done:!1,value:e}}}t.ReaderAsyncIterator=i;class a{constructor(){this.deferreds=[],this.values=[],this.ended=!1}[Symbol.asyncIterator](){return new i(this)}resolve(){if(this.values.length>0&&this.deferreds.length>0){const e=this.deferreds.shift(),t=this.values.shift();return null!==t&&null===t.record&&(this.ended=!0),t.error?e.reject(t.error):e.resolve(t.record)}}write(e){this.values.push({record:e}),this.resolve()}error(e){this.values.push({error:e}),this.resolve()}read(){if(this.ended)return Promise.resolve(null);const e=new Promise((e,t)=>{this.deferreds.push({resolve:e,reject:t})});return this.resolve(),e}}t.Reader=a;class o{constructor(e){this.database=e,this.semaphore=new n}add(e){return this.semaphore.run(async()=>{for(const t of e){const e=this.database.name,r=this.database.version;this.stores().includes(t)||(this.database.close(),this.database=await o.open(e,{version:r+1,additions:[t],removals:[]}))}})}remove(e){return this.semaphore.run(async()=>{for(const t of e){const e=this.database.name,r=this.database.version;this.stores().includes(t)&&(this.database.close(),this.database=await o.open(e,{version:r+1,additions:[],removals:[t]}))}})}name(){return this.database.name}version(){return this.database.version}stores(){const e=[];for(let t=0;t<this.database.objectStoreNames.length;t++)e.push(this.database.objectStoreNames[t]);return e}get(e,t){return this.semaphore.run(()=>new Promise((r,s)=>{const n=this.database.transaction([e],"readonly").objectStore(e).get(t);n.addEventListener("success",()=>r(n.result)),n.addEventListener("error",()=>s(n.error))}))}count(e){return this.semaphore.run(()=>new Promise((t,r)=>{const s=this.database.transaction([e],"readonly").objectStore(e).count();s.addEventListener("success",()=>t(s.result)),s.addEventListener("error",()=>r(s.error))}))}read(e){const t=new a,r=this.database.transaction([e],"readonly");r.addEventListener("error",()=>t.error(r.error)),r.addEventListener("complete",()=>t.write(null));const s=r.objectStore(e).openCursor();return s.addEventListener("error",()=>t.error(s.error)),s.addEventListener("success",e=>{const r=e.target.result;r&&(t.write(r.value),r.continue())}),t}transactUpdateRecordCursors(e,t,r){return new Promise((s,n)=>{const i=e.objectStore(t).openCursor();i.addEventListener("error",()=>n(e.error)),i.addEventListener("success",e=>{const t=e.target.result;if(null!==t){for(const e of r)if(e.key===t.key)return t.update(e),void t.continue();t.continue()}else s()})})}transactUpdateRecords(e,t){return Promise.all([...t.keys()].map(r=>{const s=t.get(r);return this.transactUpdateRecordCursors(e,r,s)}))}transactInsertRecords(e,t){for(const r of t.keys()){const s=e.objectStore(r);t.get(r).forEach(e=>s.add(e))}}transactDeleteRecords(e,t){for(const r of t.keys()){const s=e.objectStore(r);t.get(r).forEach(e=>s.delete(e.key))}}transact(e){return this.semaphore.run(()=>new Promise(async(t,r)=>{const s=[...e.inserts.keys(),...e.deletes.keys(),...e.updates.keys()].filter((e,t,r)=>r.indexOf(e)===t);if(0===s.length)return void t();const n=this.database.transaction(s,"readwrite");n.addEventListener("error",e=>r(e.target.error)),n.addEventListener("complete",()=>t()),[...e.inserts.keys()].length>0&&this.transactInsertRecords(n,e.inserts),[...e.updates.keys()].length>0&&await this.transactUpdateRecords(n,e.updates),[...e.deletes.keys()].length>0&&this.transactDeleteRecords(n,e.deletes)}))}close(){this.database.close()}static open(e,t={additions:[],removals:[]}){return new Promise((r,n)=>{const i=s().open(e,t.version);i.addEventListener("error",()=>n(i.error)),i.addEventListener("success",()=>r(i.result)),i.addEventListener("upgradeneeded",()=>{const e=i.result;t.additions.forEach(t=>e.createObjectStore(t,{keyPath:"key"})),t.removals.forEach(t=>e.deleteObjectStore(t))})})}static async connect(e){const t=await o.open(e);return new o(t)}static drop(e){return new Promise((t,r)=>{const n=s().deleteDatabase(e);n.addEventListener("error",()=>r(n.error)),n.addEventListener("success",()=>t())})}}t.IDBDriver=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileNotFoundError=class extends Error{constructor(e){super(`File '${e}' not found`)}};t.BlobNotFound=class extends Error{constructor(e,t){super(`Blob '${t}' not found for file '${e}'`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(17);t.PageHubServer=s.PageHubServer;var n=r(17);t.PageHub=n.PageHub;var i=r(55);t.NetworkHub=i.NetworkHub},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(51);t.PageHubServer=s.PageHubServer;var n=r(54);t.PageHub=n.PageHub},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(52);t.Server=s.Server;const n=r(20);t.Socket=n.Socket,t.createServer=function(e){return new s.Server(e)},t.connect=function(e){return n.Socket.connect(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0);t.Bus=new s.Events},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(19);class i extends s.Events{constructor(e,t){super(),this.sendFunction=e,this.closeFunction=t,this.disposed=!1}once(e,t){super.once(e,t)}on(e,t){super.on(e,t)}send(e){if(this.disposed)throw Error("cannot send to disposed socket.");this.sendFunction(e)}close(){this.dispose()}dispose(){this.disposed||(this.disposed=!0,this.closeFunction(),super.dispose())}static connect(e){let t;const r=new i(r=>setTimeout(()=>{n.Bus.emit(`${e}:${t}:server:message`,r)},0),()=>setTimeout(()=>{n.Bus.emit(`${e}:${t}:server:close`),r.dispose()},0)),s=setTimeout(()=>{r.emit("error",new Error("socket connect timeout")),r.emit("close"),r.dispose()},100);return setTimeout(()=>{n.Bus.emit(`${e}:server:connect`),n.Bus.once(`${e}:client:connect`,i=>{t=i,clearTimeout(s),n.Bus.on(`${e}:${t}:client:message`,e=>{r.emit("message",{data:e})}),n.Bus.on(`${e}:${t}:client:close`,()=>{r.emit("close"),r.dispose()}),r.emit("open")})}),r}}t.Socket=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(57);t.Network=s.Network},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(9);t.SocketServer=class{constructor(e,t){this.net=e,this.func=t,this.listening=!1,this.disposed=!1}listen(e){return this.port=e.toString(),this.net.bindPort(this.port,e=>this.onChannel(e)),this.listening=!0,this}dispose(){!this.disposed&&this.listening&&(this.net.unbindPort(this.port),this.disposed=!0)}async onChannel(e){const[t,r]=e;return this.func(await s.Socket.fromChannel(t.connection,r,t.local,t.remote))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(60);t.Rest=s.Rest;var n=r(27);t.Fetch=n.Fetch,t.FetchRequest=n.FetchRequest,t.FetchResponse=n.FetchResponse;var i=r(10);t.Router=i.Router,t.Route=i.Route;var a=r(10);t.RestServer=a.RestServer,t.RestRequest=a.RestRequest,t.RestResponse=a.RestResponse},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(11),n=r(6),i=r(61),a=r(62);class o{constructor(e,t,r,s){this.method=e,this.pattern=t,this.middleware=r,this.handler=s}handle(e,t,r){const a=n.Url.parse(e.url),o=this.pattern.match(a.pathname);if(o&&e.method===this.method)return e.params=o,e.path=a.path,e.query=s.QueryString.parse(e.url),i.runStack([...this.middleware],e,t,()=>this.handler(e,t));r()}}t.Route=o;t.Router=class{constructor(){this.middleware=[]}get(...e){return this.method.apply(this,["get",...e])}post(...e){return this.method.apply(this,["post",...e])}put(...e){return this.method.apply(this,["put",...e])}patch(...e){return this.method.apply(this,["patch",...e])}delete(...e){return this.method.apply(this,["delete",...e])}method(...e){if(4===e.length){const[t,r,s,n]=e,c=s.map(e=>i.asMiddleware(e));return this.use(new o(t,new a.Pattern(r),c,n))}if(3===e.length){const[t,r,s]=e;return this.use(new o(t,new a.Pattern(r),[],s))}throw Error("invalid argument")}use(e){if("function"==typeof e){const t=e;this.middleware.push({handle:t})}else this.middleware.push(e);return this}handle(e,t,r){i.runStack([...this.middleware],e,t,()=>r())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),n=r(3);t.InvalidRequestError=class extends Error{constructor(e){super(e)}};t.ReadRequestError=class extends Error{constructor(e){super(e)}};t.RestRequest=class{constructor(e,t){this.stream=e,this.header=t,this.local=this.stream.socket.local,this.remote=this.stream.socket.remote,this.url=t.url,this.headers=t.headers,this.method=t.method,this.path="",this.query={},this.params={}}readable(){return n.BodyProtocol.readReadable(this.stream)}async buffer(){const e=[];for await(const t of this.readable())e.push(t);return s.Buffer.concat(e)}async text(e){return(await this.buffer()).toString(e)}async json(){const e=await this.buffer();return JSON.parse(e.toString("utf-8"))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),n=r(2),i=r(3);class a{constructor(e){this.stream=e,this.streaming=!0,this.transmit()}dispose(){this.streaming=!1}async delay(e){return new Promise(t=>setTimeout(t,e))}async transmit(){for(;this.streaming;)await this.stream.writable.write(s.Buffer.from([1])),await this.delay(100);await this.stream.writable.close()}}t.MediaStreamContext=a;class o extends Error{constructor(){super("Responses can only be sent once.")}}t.ResponseAlreadySentError=o;t.RestResponse=class{constructor(e){this.stream=e,this.headers={},this.status=200,this.sent=!1}async mediastream(e,t){if(this.sent)throw new o;return this.sent=!0,this.status=t||this.status,await i.HeaderProtocol.writeResponseHeader(this.stream,{status:this.status,headers:this.headers}),await i.BodyProtocol.writeMediaStream(this.stream,e),new a(this.stream)}async readable(e,t){if(this.sent)throw new o;this.sent=!0,this.status=t||this.status,await i.HeaderProtocol.writeResponseHeader(this.stream,{status:this.status,headers:this.headers}),await i.BodyProtocol.writeReadable(this.stream,e),await this.stream.writable.close()}async query(e,t){if(this.sent)throw new o;this.sent=!0,this.status=t||this.status,await i.HeaderProtocol.writeResponseHeader(this.stream,{status:this.status,headers:this.headers}),await i.BodyProtocol.writeQueryable(this.stream,e),await this.stream.writable.close()}async buffer(e,t){const r=[e];return this.readable(new n.Readable({pull:async e=>{r.length>0?e.enqueue(r.shift()):e.close()}}),t)}async send(e,t){return this.buffer(s.Buffer.from(e),t)}async text(e,t){return this.headers["Content-Type"]="text/plain",this.buffer(s.Buffer.from(e),t)}async json(e,t){this.headers["Content-Type"]="application/json";const r=s.Buffer.from(JSON.stringify(e));return this.buffer(r,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(28);t.FetchRequest=s.FetchRequest;var n=r(29);t.FetchResponse=n.FetchResponse;var i=r(66);t.Fetch=i.Fetch},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3);t.FetchRequest=class{constructor(e,t,r){this.stream=e,this.header=t,this.body=r}async getResponse(){return await s.HeaderProtocol.writeRequestHeader(this.stream,this.header),s.BodyProtocol.writeReadable(this.stream,this.body,{ignoreError:!0}),s.HeaderProtocol.readResponseHeader(this.stream)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),n=r(3);t.FetchResponse=class{constructor(e,t){this.stream=e,this.response=t,this.headers=this.response.headers,this.status=this.response.status}readable(){return n.BodyProtocol.readReadable(this.stream)}query(){return n.BodyProtocol.readQueryable(this.stream)}mediastream(){return n.BodyProtocol.readMediaStream(this.stream)}async buffer(){const e=[];for await(const t of this.readable())e.push(t);return s.Buffer.concat(e)}async text(e){return(await this.buffer()).toString(e)}async json(){const e=await this.buffer();return JSON.parse(e.toString("utf-8"))}}},function(e,t,r){"use strict";r.r(t);var s=r(5),n=function(e,t,r,s){return new(r||(r=Promise))(function(n,i){function a(e){try{c(s.next(e))}catch(e){i(e)}}function o(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,o)}c((s=s.apply(e,t||[])).next())})},i=function(e,t){var r,s,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,s&&(n=2&i[0]?s.return:i[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,i[1])).done)return n;switch(s=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],s=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},a=new s.Node,o=new s.Node,c=new s.Node;a.rest.createServer().get("/mediastream",function(e,t){console.log("node0");var r=a.media.createTestPattern();t.mediastream(r)}).listen(80),o.rest.createServer().get("/mediastream",function(e,t){return n(void 0,void 0,void 0,function(){var e,r,s;return i(this,function(n){switch(n.label){case 0:return console.log("node1"),[4,o.rest.fetch("rest://0.0.0.1/mediastream")];case 1:return e=n.sent(),s=(r=t).mediastream,[4,e.mediastream()];case 2:return s.apply(r,[n.sent()]),[2]}})})}).listen(80),n(void 0,void 0,void 0,function(){var e,t,r;return i(this,function(s){switch(s.label){case 0:return console.log("node2"),[4,c.rest.fetch("rest://0.0.0.2/mediastream")];case 1:return e=s.sent(),t=document.getElementById("video-0"),r=t,[4,e.mediastream()];case 2:return r.srcObject=s.sent(),t.play(),[2]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.handlers=[],this.messages=[]}once(e){this.handlers.push({once:!0,func:e}),this.dispatch()}on(e){this.handlers.push({once:!1,func:e}),this.dispatch()}remove(e){this.handlers=this.handlers.filter(t=>t.func!=e)}emit(e){this.messages.push(e),this.dispatch()}dispatch(){for(;this.messages.length>0&&this.handlers.length>0;){const e=this.messages.shift(),t=this.handlers.filter(e=>e.once),r=this.handlers.filter(e=>!e.once);this.handlers=[...r],t.forEach(t=>t.func(e)),r.forEach(t=>t.func(e))}}dispose(){for(;this.handlers.length>0;)this.handlers.shift();for(;this.messages.length>0;)this.messages.shift()}}t.Events=class{constructor(){this.events=new Map}once(e,t){this.events.has(e)||this.events.set(e,new s),this.events.get(e).once(t)}on(e,t){this.events.has(e)||this.events.set(e,new s),this.events.get(e).on(t)}remove(e,t){this.events.has(e)||this.events.set(e,new s),this.events.get(e).remove(t)}emit(e,t){if("error"===e&&!this.events.has(e))throw t;this.events.has(e)||this.events.set(e,new s),this.events.get(e).emit(t)}dispose(){for(const e of this.events.keys()){const t=this.events.get(e);this.events.delete(e),t.dispose()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Barrier=class{constructor(){this.awaiters=[],this.paused=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.dispatch()}run(e){return this.paused?new Promise((t,r)=>{this.awaiters.push({func:e,resolve:t,reject:r})}):Promise.resolve(e())}async dispatch(){for(;this.awaiters.length>0;){const e=this.awaiters.shift();Promise.resolve(e.func()).then(t=>e.resolve(t)).catch(t=>e.reject(t))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Semaphore=class{constructor(e=1){this.concurrency=e,this.awaiters=[],this.running=0}run(e){return new Promise((t,r)=>{this.awaiters.push({func:e,resolve:t,reject:r}),this.dispatch()})}async dispatch(){if(0===this.awaiters.length||this.running>=this.concurrency)return;const e=this.awaiters.shift();this.running+=1;try{e.resolve(await e.func()),setTimeout(()=>{this.running-=1,this.dispatch()},1)}catch(t){e.reject(t),setTimeout(()=>{this.running-=1,this.dispatch()},1)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QueryString=class{static parseQuerySegments(e){const t=[];for(let r=0;r<e.length;r++){const s=e.charAt(r);if("#"===s)break;"?"===s&&t.push(r)}const r=[];for(let s=0;s<t.length;s++)r.push(e.slice(t[s]+1,t[s+1]));return r}static parsePairs(e){return e.split("&").map(e=>e.split("=")).filter(e=>""!==e[0]).map(e=>[e[0],e[1]||""])}static expandResult(e){const t={};for(const[r,s]of e)void 0===t[r]&&(t[r]=[]),t[r]=[...t[r],s];return t}static collapseResult(e){for(const t of Object.keys(e)){let r=e[t];(r=r.filter((e,t,r)=>r.indexOf(e)===t)).length>1&&(r=r.filter(e=>e.length>0)),1===r.length?e[t]=r[0]:e[t]=r}return e}static parse(e){const t=this.parseQuerySegments(e).map(e=>this.parsePairs(e)).flatMap(e=>e),r=this.expandResult(t);return this.collapseResult(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(36);t.Path=s.Path},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static basename(e,t){var r=this.posixSplitPath(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}static dirname(e){const t=this.posixSplitPath(e),r=t[0];let s=t[1];return r||s?(s&&(s=s.substr(0,s.length-1)),r+s):"."}static extname(e){return this.posixSplitPath(e)[3]}static format(e){if("object"!=typeof e)throw new TypeError(`Parameter 'pathObject' must be an object, not ${typeof e}`);if("string"!=typeof(e.root||""))throw new TypeError(`'pathObject.root' must be a string or undefined, not ${typeof e.root}`);return(e.dir?e.dir+this.sep:"")+(e.base||"")}static isAbsolute(e){return"/"===e.charAt(0)}static join(...e){let t="";for(let r=0;r<e.length;r++){const s=e[r];if("string"!=typeof s)throw new TypeError("Arguments to path.join must be strings");s&&(t+=t?"/"+s:s)}return this.normalize(t)}static normalize(e){const t=this.isAbsolute(e),r=e&&"/"===e[e.length-1];return(e=this.normalizeArray(e.split("/"),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}static parse(e){if("string"!=typeof e)throw new TypeError(`Parameter 'pathString' must be a string, not ${typeof e}`);let t=this.posixSplitPath(e);if(!t||4!==t.length)throw new TypeError(`Invalid path '${e}'`);return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}}static relative(e,t){e=this.resolve(e).substr(1),t=this.resolve(t).substr(1);const r=this.trimArray(e.split("/")),s=this.trimArray(t.split("/")),n=Math.min(r.length,s.length);let i=n;for(let e=0;e<n;e++)if(r[e]!==s[e]){i=e;break}let a=[];for(let e=i;e<r.length;e++)a.push("..");return(a=a.concat(s.slice(i))).join("/")}static resolve(...e){let t="",r=!1;for(let s=e.length-1;s>=-1&&!r;s--){let n=s>=0?e[s]:this.cwd;if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,r="/"===n[0])}return(r?"/":"")+(t=this.normalizeArray(t.split("/"),!r).join("/"))||"."}static posixSplitPath(e){return this.splitPathPattern.exec(e).slice(1)}static normalizeArray(e,t){const r=[];for(let s=0;s<e.length;s++){const n=e[s];n&&"."!==n&&(".."===n?r.length&&".."!==r[r.length-1]?r.pop():t&&r.push(".."):r.push(n))}return r}static trimArray(e){const t=e.length-1;let r=0;for(;r<=t&&!e[r];r++);let s=t;for(;s>=0&&!e[s];s--);return 0===r&&s===t?e:r>s?[]:e.slice(r,s+1)}}s.splitPathPattern=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s.sep="/",s.delimiter=":",s.cwd="/",t.Path=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Url=class{static parseProtocol(e){for(let t=0;t<e.length;t++)if(":"===e.charAt(t)){const r=e.charAt(t+1),s=e.charAt(t+2);if("/"===r&&"/"===s)return[e.slice(0,t+1),e.slice(t+3)]}return[null,e]}static parseAuth(e){for(let t=0;t<e.length;t++){if("/"===e.charAt(t))return[null,e];if("@"===e.charAt(t))return[e.slice(0,t),e.slice(t+1)]}return[null,e]}static parseHostname(e){for(let t=0;t<e.length;t++){const r=e.charAt(t);if("/"===r||"?"===r||"#"===r)return[e.slice(0,t),e.slice(t)]}return[e,""]}static parseHost(e){for(let t=0;t<e.length;t++)if(":"===e.charAt(t))return[e.slice(0,t),e.slice(t)];return[e,""]}static parsePort(e){for(let t=0;t<e.length;t++)if(":"===e.charAt(t))return[e.slice(t+1),""];return[null,e]}static parsePath(e){return 0===e.length?["/",""]:[e,""]}static parsePathname(e){for(let t=0;t<e.length;t++){const r=e.charAt(t);if("?"===r||"#"===r)return[e.slice(0,t),e.slice(t)]}return[e,""]}static parseHash(e){for(let t=0;t<e.length;t++)if("#"===e.charAt(t))return[e.slice(t),e.slice(0,t)];return[null,e]}static parseSearch(e){for(let t=0;t<e.length;t++)if("?"===e.charAt(t))return[e.slice(t),e.slice(0,t)];return["",e]}static parseQuery(e){for(let t=0;t<e.length;t++)if("?"===e.charAt(t))return[e.slice(t+1),e.slice(0,t)];return["",e]}static parse(e){const[t,r]=this.parseProtocol(e);if(t){const[s,n]=this.parseAuth(r),[i,a]=this.parseHostname(n),[o,c]=this.parseHost(i),[h,u]=this.parsePort(i),[l,f]=this.parsePath(a),[d,p]=this.parsePathname(l),[w,b]=this.parseHash(l),[y,m]=this.parseSearch(b),[g,v]=this.parseQuery(y);return{protocol:t,auth:s,hash:w,host:o,hostname:i,href:e,path:l,pathname:d,port:h,query:g,search:y}}{const s=null,n=null,i=null,a=null,[o,c]=this.parsePath(r),[h,u]=this.parsePathname(o),[l,f]=this.parseHash(o),[d,p]=this.parseSearch(f),[w,b]=this.parseQuery(d);return{protocol:t,auth:s,hash:l,host:i,hostname:n,href:e,path:o,pathname:h,port:a,query:w,search:d}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(39),n=r(40),i=4096,a=/[^+\/0-9A-Za-z-_]/g,o=50,c=2147483647;class h extends Uint8Array{static swap(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}swap16(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h.swap(this,t,t+1);return this}swap32(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h.swap(this,t,t+3),h.swap(this,t+1,t+2);return this}swap64(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h.swap(this,t,t+7),h.swap(this,t+1,t+6),h.swap(this,t+2,t+5),h.swap(this,t+3,t+4);return this}slowToString(...e){let t=!1;if((void 0===e[1]||e[1]<0)&&(e[1]=0),e[1]>this.length)return"";if((void 0===e[2]||e[2]>this.length)&&(e[2]=this.length),e[2]<=0)return"";if(e[2]>>>=0,e[1]>>>=0,e[2]<=e[1])return"";for(e[0]||(e[0]="utf8");;)switch(e[0]){case"hex":return h.hexSlice(this,e[1],e[2]);case"utf8":case"utf-8":return h.utf8Slice(this,e[1],e[2]);case"ascii":return h.asciiSlice(this,e[1],e[2]);case"latin1":case"binary":return h.latin1Slice(this,e[1],e[2]);case"base64":return h.base64Slice(this,e[1],e[2]);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h.utf16leSlice(this,e[1],e[2]);default:if(t)throw new TypeError("Unknown encoding: "+e[0]);e[0]=(e[0]+"").toLowerCase(),t=!0}}toString(...e){const t=this.length;return 0===t?"":0===e.length?h.utf8Slice(this,0,t):this.slowToString(...e)}toLocaleString(...e){return this.toString(...e)}equals(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)}inspect(){let e="";const t=o;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"}compare(...e){if(h.isInstance(e[0],Uint8Array)&&(e[0]=h.from(e[0],e[0].offset,e[0].byteLength)),!h.isBuffer(e[0]))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e[0]);if(void 0===e[1]&&(e[1]=0),void 0===e[2]&&(e[2]=e[0]?e[0].length:0),void 0===e[3]&&(e[3]=0),void 0===e[4]&&(e[4]=this.length),e[1]<0||e[2]>e[0].length||e[3]<0||e[4]>this.length)throw new RangeError("out of range index");if(e[3]>=e[4]&&e[1]>=e[2])return 0;if(e[3]>=e[4])return-1;if(e[1]>=e[2])return 1;if(e[1]>>>=0,e[2]>>>=0,e[3]>>>=0,e[4]>>>=0,this===e[0])return 0;let t=e[4]-e[3],r=e[2]-e[1];const s=Math.min(t,r),n=this.slice(e[3],e[4]),i=e[0].slice(e[1],e[2]);for(let e=0;e<s;++e)if(n[e]!==i[e]){t=n[e],r=i[e];break}return t<r?-1:r<t?1:0}static arrayIndexOf(e,t,r,s,n){let i,a=1,o=e.length,c=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,r/=2}function h(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){let s=-1;for(i=r;i<o;i++)if(h(e,i)===h(t,-1===s?0:i-s)){if(-1===s&&(s=i),i-s+1===c)return s*a}else-1!==s&&(i-=i-s),s=-1}else for(r+c>o&&(r=o-c),i=r;i>=0;i--){let r=!0;for(let s=0;s<c;s++)if(h(e,i+s)!==h(t,s)){r=!1;break}if(r)return i}return-1}static bidirectionalIndexOf(...e){if(0===e[0].length)return-1;if("string"==typeof e[2]?(e[3]=e[2],e[2]=0):e[2]>2147483647?e[2]=2147483647:e[2]<-2147483648&&(e[2]=-2147483648),e[2]=+e[2],h.numberIsNaN(e[2])&&(e[2]=e[4]?0:e[0].length-1),e[2]<0&&(e[2]=e[0].length+e[2]),e[2]>=e[0].length){if(e[4])return-1;e[2]=e[0].length-1}else if(e[2]<0){if(!e[4])return-1;e[2]=0}if("string"==typeof e[1]&&(e[1]=h.from(e[1],e[3])),h.isBuffer(e[1]))return 0===e[1].length?-1:h.arrayIndexOf(e[0],e[1],e[2],e[3],e[4]);if("number"==typeof e[1])return e[1]=255&e[1],"function"==typeof Uint8Array.prototype.indexOf?e[4]?Uint8Array.prototype.indexOf.call(e[0],e[1],e[2]):Uint8Array.prototype.lastIndexOf.call(e[0],e[1],e[2]):h.arrayIndexOf(e[0],[e[1]],e[2],e[3],e[4]);throw new TypeError("val must be string, number or Buffer")}indexOf(e,t,r){return h.bidirectionalIndexOf(this,e,t,r,!0)}lastIndexOf(e,t,r){return h.bidirectionalIndexOf(this,e,t,r,!1)}includes(e,t,r){return-1!==this.indexOf(e,t,r)}toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}static base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}static utf8Slice(e,t,r){r=Math.min(e.length,r);const s=[];let n=t;for(;n<r;){const t=e[n];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(n+a<=r){let r,s,o,c;switch(a){case 1:t<128&&(i=t);break;case 2:128==(192&(r=e[n+1]))&&(c=(31&t)<<6|63&r)>127&&(i=c);break;case 3:r=e[n+1],s=e[n+2],128==(192&r)&&128==(192&s)&&(c=(15&t)<<12|(63&r)<<6|63&s)>2047&&(c<55296||c>57343)&&(i=c);break;case 4:r=e[n+1],s=e[n+2],o=e[n+3],128==(192&r)&&128==(192&s)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(i=c)}}null===i?(i=65533,a=1):i>65535&&(i-=65536,s.push(i>>>10&1023|55296),i=56320|1023&i),s.push(i),n+=a}return h.decodeCodePointsArray(s)}static decodeCodePointsArray(e){const t=e.length;if(t<=i)return String.fromCharCode.apply(String,e);let r="",s=0;for(;s<t;)r+=String.fromCharCode.apply(String,e.slice(s,s+=i));return r}static asciiSlice(e,t,r){let s="";r=Math.min(e.length,r);for(let n=t;n<r;++n)s+=String.fromCharCode(127&e[n]);return s}static latin1Slice(e,t,r){let s="";r=Math.min(e.length,r);for(let n=t;n<r;++n)s+=String.fromCharCode(e[n]);return s}static hexSlice(e,t,r){const s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);let n="";for(let s=t;s<r;++s)n+=h.toHex(e[s]);return n}static utf16leSlice(e,t,r){const s=e.slice(t,r);let n="";for(let e=0;e<s.length;e+=2)n+=String.fromCharCode(s[e]+256*s[e+1]);return n}slice(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let s=this.subarray(e,t);return s.__proto__=h.prototype,s}copy(e,t,r,s){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);const n=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(let s=n-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return n}fill(...e){if("string"==typeof e[0]){if("string"==typeof e[1]?(e[3]=e[1],e[1]=0,e[2]=this.length):"string"==typeof e[2]&&(e[3]=e[2],e[2]=this.length),void 0!==e[3]&&"string"!=typeof e[3])throw new TypeError("encoding must be a string");if("string"==typeof e[3]&&!h.isEncoding(e[3]))throw new TypeError("Unknown encoding: "+e[3]);if(1===e[0].length){const t=e[0].charCodeAt(0);("utf8"===e[3]&&t<128||"latin1"===e[3])&&(e[0]=t)}}else"number"==typeof e[0]&&(e[0]=255&e[0]);if(e[1]<0||this.length<e[1]||this.length<e[2])throw new RangeError("Out of range index");if(e[2]<=e[1])return this;let t;if(e[1]=e[1]>>>0,e[2]=void 0===e[2]?this.length:e[2]>>>0,e[0]||(e[0]=0),"number"==typeof e[0])for(t=e[1];t<e[2];++t)this[t]=e[0];else{const r=h.isBuffer(e[0])?e[0]:h.from(e[0],e[3]),s=r.length;if(0===s)throw new TypeError('The value "'+e[0]+'" is invalid for argument "value"');for(t=0;t<e[2]-e[1];++t)this[t+e[1]]=r[t%s]}return this}static checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond Buffer length")}readUIntLE(e,t,r){e>>>=0,t>>>=0,r||h.checkOffset(e,t,this.length);let s=this[e],n=1,i=0;for(;++i<t&&(n*=256);)s+=this[e+i]*n;return s}readUIntBE(e,t,r){e>>>=0,t>>>=0,r||h.checkOffset(e,t,this.length);let s=this[e+--t],n=1;for(;t>0&&(n*=256);)s+=this[e+--t]*n;return s}readUInt8(e,t){return e>>>=0,t||h.checkOffset(e,1,this.length),this[e]}readUInt16LE(e,t){return e>>>=0,t||h.checkOffset(e,2,this.length),this[e]|this[e+1]<<8}readUInt16BE(e,t){return e>>>=0,t||h.checkOffset(e,2,this.length),this[e]<<8|this[e+1]}readUInt32LE(e,t){return e>>>=0,t||h.checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]}readUInt32BE(e,t){return e>>>=0,t||h.checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])}readIntLE(e,t,r){e>>>=0,t>>>=0,r||h.checkOffset(e,t,this.length);let s=this[e],n=1,i=0;for(;++i<t&&(n*=256);)s+=this[e+i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s}readIntBE(e,t,r){e>>>=0,t>>>=0,r||h.checkOffset(e,t,this.length);let s=t,n=1,i=this[e+--s];for(;s>0&&(n*=256);)i+=this[e+--s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i}readInt8(e,t){return e>>>=0,t||h.checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]}readInt16LE(e,t){e>>>=0,t||h.checkOffset(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r}readInt16BE(e,t){e>>>=0,t||h.checkOffset(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r}readInt32LE(e,t){return e>>>=0,t||h.checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24}readInt32BE(e,t){return e>>>=0,t||h.checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]}readFloatLE(e,t){e>>>=0,t||h.checkOffset(e,4,this.length);return s.read(this,e,!0,23,4)}readFloatBE(e,t){e>>>=0,t||h.checkOffset(e,4,this.length);return s.read(this,e,!1,23,4)}readDoubleLE(e,t){e>>>=0,t||h.checkOffset(e,8,this.length);return s.read(this,e,!0,52,8)}readDoubleBE(e,t){e>>>=0,t||h.checkOffset(e,8,this.length);return s.read(this,e,!1,52,8)}static hexWrite(e,t,r,s){r=Number(r)||0;const n=e.length-r;s?(s=Number(s))>n&&(s=n):s=n;const i=t.length;s>i/2&&(s=i/2);for(var a=0;a<s;++a){const s=parseInt(t.substr(2*a,2),16);if(h.numberIsNaN(s))return a;e[r+a]=s}return a}static utf8Write(e,t,r,s){return h.blitBuffer(h.utf8ToBytes(t,e.length-r),e,r,s)}static asciiWrite(e,t,r,s){return h.blitBuffer(h.asciiToBytes(t),e,r,s)}static latin1Write(e,t,r,s){return h.asciiWrite(e,t,r,s)}static base64Write(e,t,r,s){return h.blitBuffer(h.base64ToBytes(t),e,r,s)}static ucs2Write(e,t,r,s){return h.blitBuffer(h.utf16leToBytes(t,e.length-r),e,r,s)}write(...e){if(void 0===e[1])e[3]="utf8",e[2]=this.length,e[1]=0;else if(void 0===e[2]&&"string"==typeof e[1])e[3]=e[1],e[2]=this.length,e[1]=0;else{if(!isFinite(e[1]))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e[1]=e[1]>>>0,isFinite(e[2])?(e[2]=e[2]>>>0,void 0===e[3]&&(e[3]="utf8")):(e[3]=e[2],e[2]=void 0)}const t=this.length-e[1];if((void 0===e[2]||e[2]>t)&&(e[2]=t),e[0].length>0&&(e[2]<0||e[1]<0)||e[1]>this.length)throw new RangeError("Attempt to write outside Buffer bounds");e[3]||(e[3]="utf8");let r=!1;for(;;)switch(e[3]){case"hex":return h.hexWrite(this,e[0],e[1],e[2]);case"utf8":case"utf-8":return h.utf8Write(this,e[0],e[1],e[2]);case"ascii":return h.asciiWrite(this,e[0],e[1],e[2]);case"latin1":case"binary":return h.latin1Write(this,e[0],e[1],e[2]);case"base64":return h.base64Write(this,e[0],e[1],e[2]);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h.ucs2Write(this,e[0],e[1],e[2]);default:if(r)throw new TypeError("Unknown encoding: "+e[3]);e[3]=(""+e[3]).toLowerCase(),r=!0}}static checkInt(e,t,r,s,n,i){if(!h.isBuffer(e))throw new TypeError('"Buffer" argument must be a Buffer instance');if(t>n||t<i)throw new RangeError('"value" argument is out of bounds');if(r+s>e.length)throw new RangeError("Index out of range")}writeUIntLE(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){const s=Math.pow(2,8*r)-1;h.checkInt(this,e,t,r,s,0)}let n=1,i=0;for(this[t]=255&e;++i<r&&(n*=256);)this[t+i]=e/n&255;return t+r}writeUIntBE(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){const s=Math.pow(2,8*r)-1;h.checkInt(this,e,t,r,s,0)}let n=r-1,i=1;for(this[t+n]=255&e;--n>=0&&(i*=256);)this[t+n]=e/i&255;return t+r}writeUInt8(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,1,255,0),this[t]=255&e,t+1}writeUInt16LE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2}writeUInt16BE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2}writeUInt32LE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4}writeUInt32BE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4}writeIntLE(e,t,r,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*r-1);h.checkInt(this,e,t,r,s-1,-s)}let n=0,i=1,a=0;for(this[t]=255&e;++n<r&&(i*=256);)e<0&&0===a&&0!==this[t+n-1]&&(a=1),this[t+n]=(e/i>>0)-a&255;return t+r}writeIntBE(e,t,r,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*r-1);h.checkInt(this,e,t,r,s-1,-s)}let n=r-1,i=1,a=0;for(this[t+n]=255&e;--n>=0&&(i*=256);)e<0&&0===a&&0!==this[t+n+1]&&(a=1),this[t+n]=(e/i>>0)-a&255;return t+r}writeInt8(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1}writeInt16LE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2}writeInt16BE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2}writeInt32LE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4}writeInt32BE(e,t,r){return e=+e,t>>>=0,r||h.checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4}static checkIEEE754(e,t,r,s,n,i){if(r+s>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}static writeFloat(e,t,r,n,i){return t=+t,r>>>=0,i||h.checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),s.write(e,t,r,n,23,4),r+4}writeFloatLE(e,t,r){return h.writeFloat(this,e,t,!0,r)}writeFloatBE(e,t,r){return h.writeFloat(this,e,t,!1,r)}static writeDouble(e,t,r,n,i){return t=+t,r>>>=0,i||h.checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),s.write(e,t,r,n,52,8),r+8}writeDoubleLE(e,t,r){return h.writeDouble(this,e,t,!0,r)}writeDoubleBE(e,t,r){return h.writeDouble(this,e,t,!1,r)}static allocUnsafe(e){return h.assertSize(e),h.createBuffer(e<0?0:0|h.checked(e))}static alloc(e,t,r){return h.assertSize(e),e<=0?h.createBuffer(e):void 0!==t?"string"==typeof r?h.createBuffer(e).fill(t,r):h.createBuffer(e).fill(t):h.createBuffer(e)}static fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h.byteLength(e,t);let s=h.createBuffer(r);const n=s.write(e,t);return n!==r&&(s=s.slice(0,n)),s}static fromArrayLike(e){const t=e.length<0?0:0|h.checked(e.length),r=h.createBuffer(t);for(let s=0;s<t;s+=1)r[s]=255&e[s];return r}static fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let s;const n=s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=h.prototype,n}static fromObject(e){if(h.isBuffer(e)){const t=0|h.checked(e.length),r=h.createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return"number"!=typeof e.length||h.numberIsNaN(e.length)?h.createBuffer(0):h.fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return h.fromArrayLike(e.data);throw TypeError("Unable create buffer from given object.")}static from(...e){if("string"==typeof e[0])return h.fromString(e[0],e[1]);if(ArrayBuffer.isView(e[0]))return h.fromArrayLike(e[0]);if(null==e[0])throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e[0]);if(h.isInstance(e[0],ArrayBuffer)||e[0]&&h.isInstance(e[0].buffer,ArrayBuffer))return h.fromArrayBuffer(e[0],e[1],e[2]);if("number"==typeof e[0])throw new TypeError('The "value" argument must not be of type number. Received type number');const t=e[0].valueOf&&e[0].valueOf();if(null!=t&&t!==e[0])return h.from(e[0],e[1],e[2]);const r=h.fromObject(e[0]);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[0][Symbol.toPrimitive])return h.from(e[0][Symbol.toPrimitive]("string"),e[1],e[2]);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e[0])}static isBuffer(e){return e instanceof h}static byteLength(...e){if(h.isBuffer(e[0]))return e[0].length;if(ArrayBuffer.isView(e[0])||h.isInstance(e[0],ArrayBuffer))return e[0].byteLength;if("string"!=typeof e[0])throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e[0]);const t=e[0].length,r=e.length>2&&!0===e[2];if(!r&&0===t)return 0;let s=!1;for(;;)switch(e[1]){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return h.utf8ToBytes(e[0]).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return h.base64ToBytes(e[0]).length;default:if(s)return r?-1:h.utf8ToBytes(e[0]).length;e[1]=(""+e[1]).toLowerCase(),s=!0}}static compare(e,t){if(h.isInstance(e,Uint8Array)&&(e=h.from(e,e.byteOffset,e.byteLength)),h.isInstance(t,Uint8Array)&&(t=h.from(t,t.byteOffset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,s=t.length;for(let n=0,i=Math.min(r,s);n<i;++n)if(e[n]!==t[n]){r=e[n],s=t[n];break}return r<s?-1:s<r?1:0}static isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}}static concat(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const s=h.allocUnsafe(t);let n=0;for(r=0;r<e.length;++r){let t=e[r];if(h.isInstance(t,Uint8Array)&&(t=h.from(t)),!h.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(s,n),n+=t.length}return s}static assertSize(e){if("number"!=typeof e)throw new TypeError("'size' argument must be of type number");if(e<0)throw new RangeError(`The value '${e}' is invalid for option "size"`)}static createBuffer(e){if(e>c)throw new RangeError('The value "'+e+'" is invalid for option "size"');return new h(e)}static checked(e){if(e>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum "+`size: 0x${c.toString(16)} bytes`);return 0|e}static base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}static toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}static utf8ToBytes(e,t){let r;t=t||1/0;const s=e.length;let n=null;const i=[];for(let a=0;a<s;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===s){(t-=3)>-1&&i.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&i.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}static asciiToBytes(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}static utf16leToBytes(e,t){let r,s,n;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)s=(r=e.charCodeAt(a))>>8,n=r%256,i.push(n),i.push(s);return i}static base64ToBytes(e){return n.toByteArray(h.base64clean(e))}static blitBuffer(e,t,r,s){for(var n=0;n<s&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}static isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}static numberIsNaN(e){return e!=e}}t.Buffer=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t,r,s,n){let i,a;const o=8*n-s-1,c=(1<<o)-1,h=c>>1;let u=-7,l=r?n-1:0;const f=r?-1:1;let d=e[t+l];for(l+=f,i=d&(1<<-u)-1,d>>=-u,u+=o;u>0;i=256*i+e[t+l],l+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=s;u>0;a=256*a+e[t+l],l+=f,u-=8);if(0===i)i=1-h;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,s),i-=h}return(d?-1:1)*a*Math.pow(2,i-s)},t.write=function(e,t,r,s,n,i){let a,o,c,h=8*i-n-1;const u=(1<<h)-1,l=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0;let d=s?0:i-1;const p=s?1:-1,w=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=u?(o=0,a=u):a+l>=1?(o=(t*c-1)*Math.pow(2,n),a+=l):(o=t*Math.pow(2,l-1)*Math.pow(2,n),a=0));n>=8;e[r+d]=255&o,d+=p,o/=256,n-=8);for(a=a<<n|o,h+=n;h>0;e[r+d]=255&a,d+=p,a/=256,h-=8);e[r+d-p]|=128*w}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let e=0,t=a.length;e<t;++e)s[e]=a[e],n[a.charCodeAt(e)]=e;function o(e){const t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function h(e,t,r){let s;const n=[];for(let i=t;i<r;i+=3)s=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),n.push(c(s));return n.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,t.byteLength=function(e){const t=o(e),r=t[0],s=t[1];return 3*(r+s)/4-s},t.toByteArray=function(e){const t=o(e),r=t[0],s=t[1],a=new i(function(e,t){return 3*(e+t)/4-t}(r,s));let c,h=0;const u=s>0?r-4:r;for(var l=0;l<u;l+=4)c=n[e.charCodeAt(l)]<<18|n[e.charCodeAt(l+1)]<<12|n[e.charCodeAt(l+2)]<<6|n[e.charCodeAt(l+3)],a[h++]=c>>16&255,a[h++]=c>>8&255,a[h++]=255&c;return 2===s&&(c=n[e.charCodeAt(l)]<<2|n[e.charCodeAt(l+1)]>>4,a[h++]=255&c),1===s&&(c=n[e.charCodeAt(l)]<<10|n[e.charCodeAt(l+1)]<<4|n[e.charCodeAt(l+2)]>>2,a[h++]=c>>8&255,a[h++]=255&c),a},t.tripletToBase64=c,t.encodeChunk=h,t.fromByteArray=function(e){let t;const r=e.length,n=r%3,i=[];for(let t=0,s=r-n;t<s;t+=16383)i.push(h(e,t,t+16383>s?s:t+16383));return 1===n?(t=e[r-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),i.join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0);t.Writable=class{constructor(e){this.sink=e,this.controller={},this.semaphore=new s.Semaphore(1),this.start()}async start(){if(this.sink.start)try{await this.semaphore.run(()=>this.sink.start(this.controller))}catch(e){throw this.error=e,e}}async write(e){if(void 0!==this.error)throw this.error;if(this.sink.write)try{await this.semaphore.run(()=>this.sink.write(e,this.controller))}catch(e){throw this.error=e,e}}async abort(e=new Error("abort")){if(void 0!==this.error)throw this.error;if(this.sink.abort)try{await this.semaphore.run(()=>this.sink.abort(e))}catch(e){throw this.error=e,e}}async close(){if(void 0!==this.error)throw this.error;if(this.sink.close)try{await this.semaphore.run(()=>this.sink.close())}catch(e){throw this.error=e,e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.readable=e}async next(){return this.readable.read()}}t.ReadableAsyncIterator=s;t.Readable=class{constructor(e){this.stream=new ReadableStream(e),this.reader=this.stream.getReader()}[Symbol.asyncIterator](){return new s(this)}async read(){return this.reader.read()}cancel(){return this.reader.cancel()}async pipe(e){for(;;){const{done:t,value:r}=await this.read();if(t)return e.close();try{await e.write(r)}catch(t){throw await e.abort(t),t}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.iterable=e}[Symbol.asyncIterator](){return async function*(e){for await(const t of e)yield t}(this.iterable)}concat(e){return new s(async function*(t){for await(const e of t)yield e;for await(const t of e.iterable)yield t}(this.iterable))}distinct(e){e=e||(e=>e);const t=[];return new s(async function*(r){for await(const s of r){const r=e(s);-1===t.indexOf(r)&&(t.push(r),yield s)}}(this.iterable))}async elementAt(e){return(await this.toArray())[e]}async first(){return(await this.toArray())[0]}async last(){const e=await this.toArray();return e[e.length-1]}ordering(e,t){return new s(async function*(r){const s=[];for await(const e of r)s.push(e);const n=s.sort((r,s)=>{const n=t(r),i=t(s);return"asc"===e?+(n>i)||+(n===i)-1:+(n<i)||+(n===i)-1});for(const e of n)yield e}(this.iterable))}orderBy(e){return this.ordering("asc",e)}orderByDescending(e){return this.ordering("desc",e)}reverse(){return new s(async function*(e){const t=[];for await(const r of e)t.push(r);for(let e=t.length-1;0!==e;e--)yield t[e]}(this.iterable))}select(e){return new s(async function*(t){let r=0;for await(const s of t)yield e(s,r++)}(this.iterable))}selectMany(e){return new s(async function*(t){let r=0;for await(const s of t)for await(const t of e(s,r++))yield t}(this.iterable))}skip(e){return new s(async function*(t){let r=0;for await(const s of t)r>=e&&(yield s),r+=1}(this.iterable))}take(e){return new s(async function*(t){let r=0;for await(const s of t)r<e&&(yield s),r+=1}(this.iterable))}where(e){return new s(async function*(t){let r=0;for await(const s of t)e(s,r++)&&(yield s)}(this.iterable))}async aggregate(e,t){return(await this.toArray()).reduce(e,t)}async all(e){return(await this.toArray()).every(e)}async average(e){const t=await this.toArray();return t.map(e).reduce((e,t)=>e+t,0)/t.length}async any(e){return(await this.toArray()).some(e)}async count(){let e=0;for await(const t of this.iterable)e+=1;return e}async sum(e){return(await this.toArray()).reduce((t,r,s)=>t+e(r,s),0)}async toArray(){const e=[];for await(const t of this.iterable)e.push(t);return e}}t.Queryable=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.System=class{constructor(e){this.net=e,this.started=new Date}uptime(){const e=this.started.getTime();return Date.now()-e}async getNetStat(e){const t=e.local,r=e.remote,s=e.loopback,n=e.connection.getTransceivers().length,i=e.connection.getSenders().length,a=await e.connection.getStats(),o={};return a.forEach(e=>{Object.keys(e).forEach(t=>{o[t]=e[t]})}),{local:t,remote:r,loopback:s,transceivers:n,senders:i,...o}}async netstat(){const e=this.net.getPeers(),t=[];for(const r of e.keys()){const s=e.get(r),n=await this.getNetStat(s);t.push(n)}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(7),i=r(14),a=r(2),o=r(46);class c extends Error{constructor(e){super(e)}}t.KeyRequiredError=c;t.Database=class{constructor(e){this.barrier=new s.Barrier,this.transact={inserts:new Map,updates:new Map,deletes:new Map},this.connect(e)}async connect(e){this.driver=await i.IDBDriver.connect(e),this.barrier.resume()}name(){return this.barrier.run(()=>this.driver.name())}version(){return this.barrier.run(()=>this.driver.version())}stores(){return this.barrier.run(()=>this.driver.stores())}count(e){return this.barrier.run(()=>this.driver.stores().includes(e)?this.driver.count(e):0)}exists(e,t){return this.barrier.run(async()=>!!this.driver.stores().includes(e)&&void 0!==await this.driver.get(e,t))}get(e,t){return this.barrier.run(()=>this.driver.stores().includes(e)?this.driver.get(e,t):void 0)}insert(e,t){this.transact.inserts.has(e)||this.transact.inserts.set(e,[]),this.transact.inserts.get(e).push(t)}update(e,t){this.transact.updates.has(e)||this.transact.updates.set(e,[]),this.transact.updates.get(e).push(t)}delete(...e){const t=e[0],r="string"==typeof e[1]?{key:e[1]}:e[1];if(void 0===r.key)throw new c('Cannot delete record without "key" property.');this.transact.deletes.has(t)||this.transact.deletes.set(t,[]),this.transact.deletes.get(t).push(r)}drop(e){return this.barrier.run(()=>this.driver.remove([e]))}async commit(){return this.barrier.run(async()=>{const e=[...this.transact.inserts.keys(),...this.transact.updates.keys(),...this.transact.deletes.keys()];await this.driver.add(e),await this.driver.transact(this.transact),this.transact.inserts.clear(),this.transact.updates.clear(),this.transact.deletes.clear()})}query(e){return new n.Queryable(this.readable(e))}key(){return o.Key.create()}readable(e){let t;return new a.Readable({start:async r=>this.barrier.run(async()=>{this.driver.stores().includes(e)||r.close(),t=this.driver.read(e)}),pull:async e=>{const r=await t.read();null!==r?e.enqueue(r):e.close()}})}dispose(){return this.barrier.run(()=>this.driver.close())}static async drop(e){await i.IDBDriver.drop(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Key=class{static create(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(48);t.Bucket=s.Bucket},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),n=r(2),i=r(0),a=r(13),o=r(8),c=r(49),h=r(50),u=r(15);t.Bucket=class{constructor(e){this.dbname=e,this.database=new a.Database(this.dbname),this.semaphore=new i.Semaphore(1)}exists(e){return this.database.exists(o.FileStore,e)}info(e){return this.semaphore.run(async()=>this.database.query(o.FileStore).where(e=>void 0!==e).where(t=>e.includes(t.key)).select(e=>({key:e.key,created:e.created,updated:e.updated,size:e.size})).toArray())}list(e="",t){return this.semaphore.run(()=>this.database.query(o.FileStore).where(t=>0===t.key.indexOf(e)).where(r=>!r.key.replace(e,"").includes(t)).select(e=>e.key).toArray())}readable(e,t,r){const s=new c.Reader({database:this.database,semaphore:this.semaphore,key:e,start:t,end:r});return new n.Readable({start:()=>s.prepare(),pull:async e=>{try{const t=await s.read();t.byteLength>0?e.enqueue(t):e.close()}catch(t){e.error(t)}}})}writable(e){const t=new h.Writer({database:this.database,semaphore:this.semaphore,key:e});return new n.Writable({start:()=>t.prepare(),write:e=>t.write(e),close:()=>t.close()})}async read(...e){const t=e[0],r=e[1],n=this.readable(t),i=[];for await(const e of n)i.push(e);return r?s.Buffer.concat(i).toString(r):s.Buffer.concat(i)}async readBlob(e){return this.semaphore.run(async()=>{if(!await this.database.exists(o.FileStore,e))throw new u.FileNotFoundError(e);const t=(await this.database.get(o.FileStore,e)).blobs.map(async t=>{const r=await this.database.get(o.BlobStore,t);if(!r)throw new u.BlobNotFound(e,t);return r.blob});return new Blob(await Promise.all(t))})}async append(...e){const t=e[0],r=e[1],n=e[2],i=n?s.Buffer.from(r,n):s.Buffer.from(r),a=this.writable(t);await a.write(i),await a.close()}async write(...e){const t=e[0],r=e[1],n=e[2],i=n?s.Buffer.from(r,n):s.Buffer.from(r);await this.delete(t);const a=this.writable(t);await a.write(i),await a.close()}async delete(e){if(await this.database.exists(o.FileStore,e)){const t=await this.database.get(o.FileStore,e);this.database.delete(o.FileStore,e);for(const e of t.blobs)this.database.delete(o.BlobStore,e);await this.database.commit()}}async dispose(){return this.semaphore.run(()=>this.database.dispose())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(1),i=r(15),a=r(8);t.Reader=class{constructor(e){this.database=e.database,this.semaphore=e.semaphore,this.key=e.key,this.barrier=new s.Barrier,this.blob=new Blob([]),this.chunkSize=65536,this.start=e.start||0,this.end=e.end||1/0,this.offset=this.start}async prepare(){return this.semaphore.run(async()=>{if(!await this.database.exists(a.FileStore,this.key))throw new i.FileNotFoundError(this.key);const e=(await this.database.get(a.FileStore,this.key)).blobs.map(async e=>{const t=await this.database.get(a.BlobStore,e);if(!t)throw new i.BlobNotFound(this.key,e);return t.blob});return this.blob=new Blob(await Promise.all(e)),this.barrier.resume()})}read(){return this.execute(async()=>{let e=this.offset,t=e+this.chunkSize;e>=this.end&&(e=this.end),t>=this.end&&(t=this.end);const r=await this.readBuffer(e,t);return this.offset+=this.chunkSize,r})}readBuffer(e,t){return new Promise((r,s)=>{const i=new FileReader;i.addEventListener("progress",e=>{}),i.addEventListener("loadend",e=>r(n.Buffer.from(e.target.result))),i.addEventListener("error",e=>s(e)),i.readAsArrayBuffer(this.blob.slice(e,t))})}execute(e){return this.barrier.run(()=>e())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(1),i=r(8);class a{constructor(){this.buffers=[]}size(){return this.buffers.reduce((e,t)=>e+t.byteLength,0)}write(e){this.buffers.push(e)}read(e){let t=0;const r=[];for(;this.buffers.length>0&&t<=e;){let e=this.buffers.shift();t+=e.length,r.push(e)}const s=n.Buffer.concat(r),i=s.slice(0,e),a=s.slice(e);return a.length>0&&this.buffers.unshift(a),i}}t.Writer=class{constructor(e){const t=e.key,r=new Date,n=new Date;this.file={key:t,blobs:[],created:r,updated:n,size:0},this.database=e.database,this.semaphore=e.semaphore,this.highWaterMark=8e6,this.buffer=new a,this.barrier=new s.Barrier}prepare(){return this.semaphore.run(async()=>{await this.database.exists(i.FileStore,this.file.key)?this.file=await this.database.get(i.FileStore,this.file.key):(this.database.insert(i.FileStore,this.file),await this.database.commit()),this.barrier.resume()})}write(e){return this.execute(async()=>{if(this.buffer.write(e),!(this.buffer.size()<this.highWaterMark)){for(;this.buffer.size()>this.highWaterMark;){const e=this.buffer.read(this.highWaterMark),t=this.database.key(),r=new Blob([e]);this.file.size+=e.byteLength,this.file.updated=new Date,this.file.blobs=[...this.file.blobs,t],this.database.insert(i.BlobStore,{key:t,blob:r}),this.database.update(i.FileStore,this.file)}await this.database.commit()}})}flush(){return this.execute(async()=>{if(0!==this.buffer.size()){for(;this.buffer.size()>0;){const e=this.buffer.read(this.highWaterMark),t=this.database.key(),r=new Blob([e]);this.file.size+=e.byteLength,this.file.updated=new Date,this.file.blobs=[...this.file.blobs,t],this.database.insert(i.BlobStore,{key:t,blob:r}),this.database.update(i.FileStore,this.file)}await this.database.commit()}})}async close(){await this.flush()}execute(e){return this.barrier.run(()=>this.semaphore.run(()=>e()))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(18),n=r(53);t.PageHubServer=class{constructor(e){this.configuration=e,this.sockets=new Map,this.dhcp=new n.Dhcp}onConnection(e){const t=this.configuration,r=this.dhcp.next();e.on("message",e=>this.onMessage(r,e)),e.on("error",e=>this.onError(r,e)),e.on("close",()=>this.onClose(r)),e.send(JSON.stringify({type:"binding",address:r,configuration:t})),this.sockets.set(r,e)}onMessage(e,t){try{const r=JSON.parse(t.data);switch(r.type){case"forward":return this.onForward(e,r)}}catch{this.sockets.get(e).close(),this.sockets.delete(e)}}onForward(e,t){if(this.sockets.has(t.to)){const r=this.sockets.get(t.to),s="forward",n=e,i=t.to,a=t.data;r.send(JSON.stringify({type:s,from:n,to:i,data:a}))}}onError(e,t){console.error(e,t)}onClose(e){this.sockets.delete(e)}listen(e){this.server=s.createServer(e=>{this.onConnection(e)}).listen(e)}dispose(){this.server.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(19),n=r(20);t.Server=class{constructor(e){this.func=e,this.channel=0,this.sockets=new Map}listen(e){return s.Bus.on(`${e}:server:connect`,t=>{const r=this.channel,i=new n.Socket(t=>setTimeout(()=>{s.Bus.emit(`${e}:${r}:client:message`,t)},0),()=>setTimeout(()=>{s.Bus.emit(`${e}:${r}:client:close`),i.dispose()},0));s.Bus.on(`${e}:${r}:server:message`,e=>{i.emit("message",{data:e})}),s.Bus.on(`${e}:${r}:server:close`,()=>{this.sockets.delete(r),i.emit("close"),i.dispose()}),this.sockets.set(r,i),s.Bus.emit(`${e}:client:connect`,r),this.func(i),this.channel+=1}),this}dispose(){for(const e of this.sockets.keys()){const t=this.sockets.get(e);t.emit("close"),t.dispose(),this.sockets.delete(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Dhcp=class{constructor(){this.element=new Uint32Array(1),this.element[0]=0}next(){const e=[...new Uint8Array(this.element.buffer)].join(".");return this.element[0]+=1,e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(0),i=r(18);t.PageHub=class extends s.Events{constructor(e){super(),this.port=e,this.barrier=new n.Barrier,this.socket=i.connect(this.port),this.socket.on("message",e=>this.onMessage(e)),this.socket.on("error",e=>this.onError(e)),this.socket.on("close",()=>this.onClose())}on(e,t){super.on(e,t)}configuration(){return this.barrier.run(()=>this.binding.configuration)}address(){return this.barrier.run(()=>this.binding.address)}forward(e,t){return this.barrier.run(()=>{const r=this.binding.address;this.socket.send(JSON.stringify({to:e,from:r,type:"forward",data:t}))})}onMessage(e){const t=JSON.parse(e.data);switch(t.type){case"binding":this.onBinding(t);break;case"forward":this.onForward(t)}}onBinding(e){this.binding=e,this.barrier.resume()}onForward(e){super.emit("forward",e)}onClose(){this.barrier.pause()}onError(e){super.emit("error",e)}dispose(){this.socket.dispose(),super.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(56);t.NetworkHub=s.NetworkHub},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(0);t.NetworkHub=class extends s.Events{constructor(e){super(),this.endpoint=e,this.barrier=new n.Barrier,this.socket=new WebSocket(this.endpoint),this.socket.addEventListener("message",e=>this.onMessage(e)),this.socket.addEventListener("error",e=>this.onError(e)),this.socket.addEventListener("close",()=>this.onClose())}on(e,t){super.on(e,t)}configuration(){return this.barrier.run(()=>this.binding.configuration)}address(){return this.barrier.run(()=>this.binding.address)}forward(e,t){return this.barrier.run(()=>{const r=this.binding.address;this.socket.send(JSON.stringify({to:e,from:r,type:"forward",data:t}))})}onMessage(e){const t=JSON.parse(e.data);switch(t.type){case"binding":this.onBinding(t);break;case"forward":this.onForward(t)}}onBinding(e){this.binding=e,this.barrier.resume()}onForward(e){super.emit("forward",e)}onClose(){this.barrier.pause()}onError(e){super.emit("error",e)}dispose(){this.socket.close()}}},function(e,t,r){"use strict";function s(e,t="timeout"){return new Promise((r,s)=>{setTimeout(()=>s(new Error(t)),e)})}function n(e,t){return new Promise(r=>{e.addEventListener(t,function s(n){e.removeEventListener(t,s),r(n)})})}var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Sender=1]="Sender",e[e.Receiver=2]="Receiver"}(i||(i={}));const a=e=>e===i.Receiver?i.Sender:e===i.Sender?i.Receiver:e;class o extends Error{constructor(e,t,r,s){super(`local: ${e} remote: ${t} error: ${r.message}`),this.local=e,this.remote=t,this.error=r,this.sdp=s}}t.NegotiateError=o;t.SignallingError=class extends Error{constructor(e,t){super(`remote: ${e} error: ${t.message}`),this.remote=e,this.error=t}};class c extends Error{constructor(e){super(`The port '${e}' is already in use.`),this.port=e}}t.PortInUseError=c;t.Network=class{constructor(e){this.hub=e,this.hub.on("forward",e=>this.onForward(e)),this.ports=new Map,this.peers=new Map,this.createLoopback()}address(){return this.hub.address()}getPeers(){return this.peers}async connect(e,t){e=e===await this.hub.address()||"localhost"===e?"localhost:1":e;const r=await this.getPeer(e),i=r.connection.createDataChannel(t);if(i.binaryType="arraybuffer",await Promise.race([s(4e3,`Connection to host '${r.remote}' timed out.`),n(i,"open")]),1===(await Promise.race([s(4e3,`${r.remote}' is not responding.`),n(i,"message")]).then(e=>new Uint8Array(e.data)))[0])throw i.close(),Error(`'${r.remote}' forcefully closed this connection.`);return[r,i]}bindPort(e,t){if(this.ports.has(e))throw new c(e);this.ports.set(e,t)}unbindPort(e){this.ports.delete(e)}dispose(){for(const e of this.peers.keys())this.peers.get(e).connection.close(),this.peers.delete(e)}async getPeer(e){const t=await this.hub.configuration(),r=await this.hub.address();if(!this.peers.has(e)){const s=new RTCPeerConnection(t),n={connection:s,local:r,remote:e,loopback:i.None};s.addEventListener("negotiationneeded",e=>this.onNegotiationNeeded(n,e)),s.addEventListener("icecandidate",e=>this.onIceCandidate(n,e)),s.addEventListener("datachannel",e=>this.onDataChannel(n,e)),this.peers.set(e,n)}return this.peers.get(e)}async forward(e,t){if("localhost"===e){const e="forward",r="localhost",s="localhost";return this.onForward({type:e,to:s,from:r,data:t})}this.hub.forward(e,t)}onForward(e){switch(e.data.type){case"candidate":this.onCandidate(e);break;case"answer":this.onAnswer(e);break;case"offer":this.onOffer(e)}}async onOffer(e){try{const t=await this.getPeer(this.resolveLoopbackTarget(e));await t.connection.setRemoteDescription(e.data.sdp);const r=await t.connection.createAnswer(),s=a(e.data.loopback);await t.connection.setLocalDescription(r),await this.forward(e.from,{type:"answer",sdp:r,loopback:s})}catch(t){const r=e.to,s=e.from;console.warn(new o(r,s,t,e.data.sdp))}}async onAnswer(e){try{const t=await this.getPeer(this.resolveLoopbackTarget(e));await t.connection.setRemoteDescription(e.data.sdp)}catch(t){console.warn(new o(e.to,e.from,t,e.data.sdp))}}async onCandidate(e){try{const t=await this.getPeer(this.resolveLoopbackTarget(e));await t.connection.addIceCandidate(e.data.candidate)}catch(t){console.warn(new o(e.to,e.from,t,e.data.candidate))}}async onNegotiationNeeded(e,t){try{const t=await e.connection.createOffer(),r=e.loopback;await e.connection.setLocalDescription(t),await this.forward(e.remote,{type:"offer",sdp:t,loopback:r})}catch(t){const r=e.local,s=e.remote;console.warn(new o(r,s,t))}}onIceCandidate(e,t){if(null!==t.candidate)try{const r=t.candidate,s=e.loopback;this.forward(e.remote,{type:"candidate",candidate:r,loopback:s})}catch(t){console.error(new o(e.local,e.remote,t))}}async onDataChannel(e,t){const r=t.channel.label,i=t.channel;i.binaryType="arraybuffer";try{await Promise.race([s(2e3,`Received connection from ${e.remote} failed to open.`),n(i,"open")]),this.ports.has(r)?(i.send(new Uint8Array([0])),this.ports.get(r)([e,i])):(i.send(new Uint8Array([1])),i.close())}catch{}}createLoopback(){{const e=new RTCPeerConnection,t={connection:e,local:"localhost",remote:"localhost",loopback:i.Sender};e.addEventListener("negotiationneeded",e=>this.onNegotiationNeeded(t,e)),e.addEventListener("icecandidate",e=>this.onIceCandidate(t,e)),e.addEventListener("datachannel",e=>this.onDataChannel(t,e)),this.peers.set("localhost:0",t)}{const e=new RTCPeerConnection,t={connection:e,local:"localhost",remote:"localhost",loopback:i.Receiver};e.addEventListener("negotiationneeded",e=>this.onNegotiationNeeded(t,e)),e.addEventListener("icecandidate",e=>this.onIceCandidate(t,e)),e.addEventListener("datachannel",e=>this.onDataChannel(t,e)),this.peers.set("localhost:1",t)}}resolveLoopbackTarget(e){return e.data.loopback===i.Sender?"localhost:1":e.data.loopback===i.Receiver?"localhost:0":e.from}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(9),n=r(22);t.Sockets=class{constructor(e){this.net=e,this.servers=[]}createServer(e){const t=new n.SocketServer(this.net,e);return this.servers.push(t),t}connect(e,t){return s.Socket.createSocket(this.net,e,t.toString())}dispose(){for(;this.servers.length>0;)this.servers.shift().dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),n=r(0),i=r(2),a=0,o=1,c=2,h=3,u=4;t.NetworkStream=class{constructor(e,t=8e3){this.socket=e,this.timeout=t,this.read_buffer=[],this.read_barrier=new n.Barrier,this.readable=new i.Readable({cancel:()=>this.push(o),pull:async e=>{this.push(a),await this.read_barrier.run(()=>{this.read_barrier.pause();const[t,r]=this.read_buffer.shift();try{switch(t){case c:return e.enqueue(r);case u:return e.close();case h:throw new Error(r.toString());default:throw new Error(`Readable receive invalid header. ${t}`)}}catch(t){return e.error(t)}})}}),this.write_buffer=[],this.write_barrier=new n.Barrier,this.writable=new i.Writable({write:async e=>{const[t]=await this.next();switch(t){case o:throw Error("Readable cancelled");case a:return this.push(c,e)}},abort:async e=>{const[t]=await this.next();switch(t){case o:throw Error("Readable cancelled");case a:return this.push(h,s.Buffer.from(e.message))}},close:async()=>{const[e]=await this.next();switch(e){case o:throw Error("Readable cancelled");case a:return this.push(u)}}}),this.readInternal()}next(){return new Promise((e,t)=>{const r=setTimeout(()=>{t(new Error("Network send timeout.")),this.socket.close()},this.timeout);return this.write_barrier.run(()=>{clearTimeout(r),this.write_barrier.pause();const t=this.write_buffer.shift();e(t)})})}push(e,t=s.Buffer.alloc(0)){this.socket.send(s.Buffer.concat([s.Buffer.from([e]),s.Buffer.from(t)]))}pull(){return new Promise(e=>{setTimeout(()=>e([h,s.Buffer.from("Network receive timeout.")]),this.timeout),this.socket.once("error",()=>e([h,s.Buffer.from("NetworkStream Socket encounted error.")])),this.socket.once("close",()=>e([u,s.Buffer.alloc(0)])),this.socket.once("message",t=>{const r=s.Buffer.from(t.data),n=r.readInt8(0),i=r.slice(1);switch(n){case a:return e([a,s.Buffer.alloc(0)]);case o:return e([o,s.Buffer.alloc(0)]);case c:return e([c,i]);case h:return e([h,i]);case u:return e([u,s.Buffer.alloc(0)]);default:return e([h,s.Buffer.from("NetworkStream Socket sent unknown message header.")])}})})}async readInternal(){let e=!0;for(;e;){const t=await this.pull();switch(t[0]){case a:this.write_buffer.push(t),this.write_barrier.resume();break;case o:this.write_buffer.push(t),this.write_barrier.resume(),e=!1;break;case c:this.read_buffer.push(t),this.read_barrier.resume();break;case u:case h:this.read_buffer.push(t),this.read_barrier.resume(),e=!1}}this.socket.close()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(10),n=r(27);t.Rest=class{constructor(e){this.sockets=e,this.servers=[]}createServer(e){const t=new s.RestServer(this.sockets,e);return this.servers.push(t),t}async fetch(e,t={method:"get",headers:{}}){return new n.Fetch(this.sockets).fetch(e,t)}dispose(){for(;this.servers.length>0;)this.servers.shift().dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asMiddleware=function(e){if("function"==typeof e)return{handle:e};return e},t.runStack=function e(t,r,s,n){return t.length>0?t.shift().handle(r,s,()=>e(t,r,s,n)):n()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.pattern=e,this.results=s.parsePattern(this.pattern),this.regex=s.buildRegex(this.results),this.params=s.buildParams(this.results)}match(e){const t=e.match(this.regex);if(t)return this.params.reduce((e,r,s)=>(e[r]=t[s+1],e),{})}static parsePattern(e){const t=e.split(""),r=[];let s="literal",n=[];for(;t.length>0;){const i=t.shift();if("?"===i||"&"===i)throw Error(`Illegal character '${i}' in pattern '${e}'`);if("literal"!==s||":"===i)if(":"!==i)if("param"!==s||"/"!==i&&"-"!==i)n.push(i);else{const e="param",t=n.join("");r.push({type:e,value:t}),s="literal",(n=[]).push(i)}else{const e="literal",t=n.join("");r.push({type:e,value:t}),s="param",n=[]}else n.push(i)}if(n.length>0){const e=s,t=n.join("");r.push({type:e,value:t})}return r}static buildRegex(e){const t=e.map(e=>"param"===e.type?"([\\w-_$]*)":e.value).join("");return new RegExp(`^${t}$`)}static buildParams(e){return e.filter(e=>"param"===e.type).map(e=>e.value)}}t.Pattern=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1);class n extends Error{constructor(){super("Server closed without sending a header.")}}t.ResponseHeaderNotReceivedError=n;class i extends Error{constructor(){super("Server sent an invalid request header.")}}t.ResponseHeaderInvalidError=i;class a extends Error{constructor(){super("Client sent an invalid request header.")}}t.RequestHeaderInvalidError=a;t.HeaderProtocol=class{static async writeRequestHeader(e,t){await e.writable.write(s.Buffer.from(JSON.stringify(t)))}static async readRequestHeader(e){const t=await e.readable.read();if(t.done)throw new a;const r=JSON.parse(t.value.toString());if(void 0===r.url||"string"!=typeof r.url)throw new a;if(void 0===r.method||"string"!=typeof r.method)throw new a;if(void 0===r.headers||"object"!=typeof r.headers)throw new a;return r}static async writeResponseHeader(e,t){await e.writable.write(s.Buffer.from(JSON.stringify(t)))}static async readResponseHeader(e){const{done:t,value:r}=await e.readable.read();if(t)throw new n;const s=JSON.parse(r.toString());if(void 0===s.status)throw new i;if(void 0===s.headers)throw new i;return s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(7),n=r(2),i=r(1),a=65536;t.BodyProtocol=class{static partition(e,t){const r=i.Buffer.concat(e),s=[];let n=0;for(;;){const e=r.slice(n,n+t);if(n+=e.length,!(e.length>0))break;s.push(e)}return s}static async writeReadable(e,t,r={ignoreError:!1}){try{const s=i.Buffer.alloc(0);let n=s;for await(const r of t){const t=this.partition([n,r],a);n=s;for(const r of t)r.length===a?await e.writable.write(r):n=r}n.length>0&&await e.writable.write(n),await e.writable.write(i.Buffer.alloc(0))}catch(e){if(!r.ignoreError)throw e}}static readReadable(e){return new n.Readable({pull:async t=>{try{const r=(await e.readable.read()).value;0===r.length?t.close():t.enqueue(r)}catch(e){t.error(new Error("Unable to read from this stream."))}}})}static async writeQueryable(e,t,r={ignoreError:!1}){try{for await(const r of t){const t=JSON.stringify(r),s=i.Buffer.from(t,"utf-8");await e.writable.write(s)}await e.writable.write(i.Buffer.alloc(0))}catch(e){if(!r.ignoreError)throw e}}static readQueryable(e){return new s.Queryable(async function*(e){for await(const t of e.readable){if(0===t.length)break;const e=t.toString("utf-8"),r=JSON.parse(e);yield r}}(e))}static async writeMediaStream(e,t,r={ignoreError:!1}){try{await e.writable.write(i.Buffer.from("mediastream"));for(const r of t.getTracks())await e.socket.addTrack(r,t);await e.writable.write(i.Buffer.alloc(0))}catch(e){if(!r.ignoreError)throw e}}static async readMediaStream(e){const[t,r]=await async function(){const{value:t}=await e.readable.read(),{value:r}=await e.readable.read();return[t,r]}();if("mediastream"!==t.toString()&&0!==r.length)throw Error("Unable to read mediastream. Sender sent invalid data.");const s=await function(e,t){return new Promise((r,s)=>{setTimeout(()=>s(new Error("MediaStream receive timeout.")),t),e.socket.once("track",e=>r(e.streams[0]))})}(e,4e3);return async function(){for await(const t of e.readable);}(),s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(4),n=r(3),i=r(25),a=r(26),o=r(24),c=4e3;t.RestServer=class extends o.Router{constructor(e,t){super(),this.sockets=e,this.options=t,this.options=this.options||{},this.options.timeout=this.options.timeout||c}listen(e){return this.server=this.sockets.createServer(e=>this.onSocket(e)),this.server.listen(e),this}dispose(){this.server.dispose()}async onSocket(e){const t=new s.NetworkStream(e,this.options.timeout),r=new a.RestResponse(t);try{const e=await n.HeaderProtocol.readRequestHeader(t),s=new i.RestRequest(t,e);this.handle(s,r,()=>{r.text("not found",404)})}catch(e){r.text("internal server error",500)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(6),n=r(1),i=r(2),a=r(4),o=r(28),c=r(29);class h extends Error{constructor(e){super(e)}}t.FetchUrlError=h;t.FetchReadError=class extends Error{constructor(e,t){super(`Cannot read a '${e}' from a '${t}' response.`)}};t.Fetch=class{constructor(e){this.sockets=e}createReadable(e){const t=e.length>0?[e]:[];return new i.Readable({pull:e=>{if(t.length>0){const r=t.shift();e.enqueue(r)}else e.close()}})}resolveBodyAsReadable(e){if(void 0===e)return this.createReadable(n.Buffer.alloc(0));if(e instanceof i.Readable)return e;if(e instanceof Uint8Array)return this.createReadable(e);if(e instanceof ArrayBuffer)return this.createReadable(n.Buffer.from(e));if("string"==typeof e)return this.createReadable(n.Buffer.from(e));{const t=JSON.stringify(e);return this.createReadable(n.Buffer.from(t))}}async connect(e,t){return new Promise((r,s)=>{const n=this.sockets.connect(e,t);n.once("error",e=>s(e)),n.once("close",()=>s(new Error("Fetch socket closed unexpectedly."))),n.once("open",()=>r(n))})}async fetch(e,t){(t=t||{}).method=t.method||"get",t.headers=t.headers||{};const r=s.Url.parse(e);if(r.protocol&&"rest:"!==r.protocol)throw new h("Can only fetch with 'rest:// protocols.'");if(null===r.path)throw new h(`The fetch URL '${r.path}' is invalid.`);const n=r.path,i=r.host||"localhost",u=r.port||"80",l=t.method||"get",f=t.headers||{},d=this.resolveBodyAsReadable(t.body),p=new a.NetworkStream(await this.connect(i,u)),w=new o.FetchRequest(p,{url:n,method:l,headers:f},d),b=await w.getResponse();return new c.FetchResponse(p,b)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(12),n=r(16),i=r(21),a=r(4),o=r(23),c=r(68);new n.PageHubServer({}).listen(0);t.Node=class{constructor(e){this.options=e,e=e||{},this.hub=e.hub||new n.PageHub(0),this.network=new i.Network(this.hub),this.system=new s.System(this.network),this.sockets=new a.Sockets(this.network),this.rest=new o.Rest(this.sockets),this.media=new c.Media}address(){return this.hub.address()}async dispose(){await this.rest.dispose(),await this.sockets.dispose(),await this.network.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(69);t.Media=s.Media},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(70),n=r(71);t.Media=class{createTestPattern(){return s.WebRTC.createTestPattern()}createMediaSource(e,t){return n.MediaSourceExtensions.createMediaSource(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebRTC=class{static createTestPattern(){const e=document.createElement("canvas");e.width=1024,e.height=768;const t=e.getContext("2d");return setInterval(()=>{const e=Math.floor(255*Math.random()),r=Math.floor(255*Math.random()),s=Math.floor(255*Math.random());t.fillStyle=`rgb(${e}, ${r}, ${s})`,t.fillRect(0,0,100,100)},10),e.captureStream(30)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MediaSourceExtensions=class{static resolveCodec(e){switch(e){case"mp4":return'video/mp4; codecs="avc1.640029, mp4a.40.5"';case"webm":return'video/webm; codecs="vp8, vorbis"';default:throw Error(`Unknown media codec type ${e}`)}}static async writeSourceBuffer(e,t){const{done:r,value:s}=await e.read();return r?0:(t.appendBuffer(s),s.length)}static createMediaSource(e,t){const r=new MediaSource;return r.addEventListener("sourceopen",async()=>{const s=r.addSourceBuffer(this.resolveCodec(t));s.mode="sequence",s.addEventListener("updateend",async()=>{0===await this.writeSourceBuffer(e,s)&&r.endOfStream()}),0===await this.writeSourceBuffer(e,s)&&r.endOfStream()}),r}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYXN5bmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3N0cmVhbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvcmVzdC9wcm90b2NvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zb2NrZXRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3VybC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9xdWVyeWFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYnVja2V0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zb2NrZXRzL3NvY2tldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9yZXN0L3NlcnZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9xdWVyeXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zeXN0ZW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvZGF0YWJhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvZGF0YWJhc2UvZHJpdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2J1Y2tldC9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvaHViL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9wYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9wYWdlL3NvY2tldHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvaHViL3BhZ2Uvc29ja2V0cy9idXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvaHViL3BhZ2Uvc29ja2V0cy9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvbmV0d29yay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zb2NrZXRzL3NlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9yZXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3Qvc2VydmVyL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9yZXN0L3NlcnZlci9yZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3Qvc2VydmVyL3Jlc3BvbnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3QvZmV0Y2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvcmVzdC9mZXRjaC9yZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3QvZmV0Y2gvcmVzcG9uc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2FzeW5jL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9hc3luYy9iYXJyaWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2FzeW5jL3NlbWFwaG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9xdWVyeXN0cmluZy9xdWVyeXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9wYXRoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3BhdGgvcGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2J1ZmZlci9idWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYnVmZmVyL2llZWU3NTQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYnVmZmVyL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zdHJlYW1zL3dyaXRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3N0cmVhbXMvcmVhZGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvcXVlcnlhYmxlL3F1ZXJ5YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9zeXN0ZW0vc3lzdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2RhdGFiYXNlL2RhdGFiYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2RhdGFiYXNlL2tleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9idWNrZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvYnVja2V0L2J1Y2tldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9idWNrZXQvcmVhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2J1Y2tldC93cml0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvaHViL3BhZ2Uvc2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9wYWdlL3NvY2tldHMvc2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9wYWdlL2RoY3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvaHViL3BhZ2UvY2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9uZXR3b3JrL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL2h1Yi9uZXR3b3JrL2NsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9uZXR3b3JrL25ldHdvcmsuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvc29ja2V0cy9zb2NrZXRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3NvY2tldHMvc3RyZWFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3QvcmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9yZXN0L3NlcnZlci9taWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3Qvc2VydmVyL3BhdHRlcm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvcmVzdC9wcm90b2NvbC9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvcmVzdC9wcm90b2NvbC9ib2R5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL3Jlc3Qvc2VydmVyL3NlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc21va2Utbm9kZS9yZXN0L2ZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL25vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvbWVkaWEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvbWVkaWEvbWVkaWEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb2tlLW5vZGUvbWVkaWEvd2VicnRjLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zbW9rZS1ub2RlL21lZGlhL21zZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV2ZW50c18xIiwiRXZlbnRzIiwiYmFycmllcl8xIiwiQmFycmllciIsInNlbWFwaG9yZV8xIiwiU2VtYXBob3JlIiwiYnVmZmVyXzEiLCJCdWZmZXIiLCJ3cml0YWJsZV8xIiwiV3JpdGFibGUiLCJyZWFkYWJsZV8xIiwiUmVhZGFibGUiLCJoZWFkZXJfMSIsIkhlYWRlclByb3RvY29sIiwiYm9keV8xIiwiQm9keVByb3RvY29sIiwic29ja2V0c18xIiwiU29ja2V0cyIsInNlcnZlcl8xIiwiU29ja2V0U2VydmVyIiwic29ja2V0XzEiLCJTb2NrZXQiLCJzdHJlYW1fMSIsIk5ldHdvcmtTdHJlYW0iLCJhc3luY18xIiwicXVlcnlzdHJpbmdfMSIsIlF1ZXJ5U3RyaW5nIiwicGF0aF8xIiwiUGF0aCIsInVybF8xIiwiVXJsIiwic3RyZWFtc18xIiwicXVlcnlhYmxlXzEiLCJRdWVyeWFibGUiLCJzeXN0ZW1fMSIsIlN5c3RlbSIsImRhdGFiYXNlXzEiLCJEYXRhYmFzZSIsImJ1Y2tldF8xIiwiQnVja2V0IiwiaHViXzEiLCJQYWdlSHViIiwiTmV0d29ya0h1YiIsIm5ldHdvcmtfMSIsIk5ldHdvcmsiLCJyZXN0XzEiLCJSZXN0IiwiRmV0Y2giLCJGZXRjaFJlcXVlc3QiLCJGZXRjaFJlc3BvbnNlIiwiUm91dGVyIiwiUm91dGUiLCJSZXN0U2VydmVyIiwiUmVzdFJlcXVlc3QiLCJSZXN0UmVzcG9uc2UiLCJub2RlXzEiLCJOb2RlIiwiRmlsZVN0b3JlIiwiQmxvYlN0b3JlIiwiTUFYX01FU1NBR0VfU0laRSIsIk1BWF9TRUdNRU5UX1NJWkUiLCJDT01QTEVURSIsIlBBUlRJQUwiLCJJbnZhbGlkU29ja2V0TWVzc2FnZSIsIkVycm9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJNZXNzYWdlU2VuZFNpemVUb29MYXJnZSIsIk1lc3NhZ2VSZWNlaXZlU2l6ZVRvb0xhcmdlIiwiaW50byIsImZ1bmMiLCJhcmd1bWVudHMiLCJ0aGlzIiwic2VuZGVycyIsImJ1ZmZlcnMiLCJldmVudCIsIm9uY2UiLCJvbiIsInRyYWNrIiwibWVkaWFzdHJlYW0iLCJwdXNoIiwiY29ubmVjdGlvbiIsImFkZFRyYWNrIiwibWVzc2FnZSIsImJ1ZmZlciIsImZyb20iLCJsZW5ndGgiLCJpbmRleCIsInNsaWNlIiwiY2hhbm5lbCIsInNlbmQiLCJlbmNvZGUiLCJzZW5kZXIiLCJzaGlmdCIsInJlbW92ZVRyYWNrIiwiY2xvc2UiLCJ0eXBlIiwiZGF0YSIsImFsbG9jIiwiY29uY2F0IiwicmVhZEludDgiLCJhZGRFdmVudExpc3RlbmVyIiwiZW1pdCIsImRlY29kZSIsInJlZHVjZSIsImFjYyIsImxvY2FsIiwicmVtb3RlIiwiYmluYXJ5VHlwZSIsInNvY2tldCIsInNldHVwRXZlbnRzIiwibmV0IiwicG9ydCIsImFzeW5jIiwicGVlciIsImNvbm5lY3QiLCJlcnJvciIsInJvdXRlcl8xIiwicmVxdWVzdF8xIiwicmVzcG9uc2VfMSIsImRyaXZlcl8xIiwiUmVhZGVyIiwiREJGYWN0b3J5IiwiaG9zdCIsIndpbmRvdyIsImluZGV4ZWREQiIsIm1vekluZGV4ZWREQiIsIndlYmtpdEluZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwic2hpbUluZGV4ZWREQiIsImF3YWl0ZXJzIiwicnVubmluZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGlzcGF0Y2giLCJhd2FpdGVyIiwic2V0VGltZW91dCIsIlJlYWRlckFzeW5jSXRlcmF0b3IiLCJyZWFkZXIiLCJuZXh0IiwicmVhZCIsImRvbmUiLCJkZWZlcnJlZHMiLCJ2YWx1ZXMiLCJlbmRlZCIsImFzeW5jSXRlcmF0b3IiLCJkZWZlcnJlZCIsInJlY29yZCIsInByb21pc2UiLCJJREJEcml2ZXIiLCJkYXRhYmFzZSIsInNlbWFwaG9yZSIsInN0b3JlS2V5cyIsInJ1biIsInN0b3JlS2V5IiwidmVyc2lvbiIsInN0b3JlcyIsImluY2x1ZGVzIiwib3BlbiIsImFkZGl0aW9ucyIsInJlbW92YWxzIiwib2JqZWN0U3RvcmVOYW1lcyIsInJlY29yZEtleSIsInJlcXVlc3QiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwicmVzdWx0IiwiY291bnQiLCJ3cml0ZSIsIm9wZW5DdXJzb3IiLCJjdXJzb3IiLCJ0YXJnZXQiLCJjb250aW51ZSIsInJlY29yZHMiLCJ1cGRhdGUiLCJ1cGRhdGVzIiwiYWxsIiwia2V5cyIsIm1hcCIsInRyYW5zYWN0VXBkYXRlUmVjb3JkQ3Vyc29ycyIsImluc2VydHMiLCJzdG9yZSIsImZvckVhY2giLCJhZGQiLCJkZWxldGVzIiwiZGVsZXRlIiwidHJhbnNhY3QiLCJmaWx0ZXIiLCJpbmRleE9mIiwidHJhbnNhY3RJbnNlcnRSZWNvcmRzIiwidHJhbnNhY3RVcGRhdGVSZWNvcmRzIiwidHJhbnNhY3REZWxldGVSZWNvcmRzIiwiZGF0YWJhc2VLZXkiLCJvcHRpb25zIiwidXBkYXRlZCIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImRlbGV0ZU9iamVjdFN0b3JlIiwiZGVsZXRlRGF0YWJhc2UiLCJGaWxlTm90Rm91bmRFcnJvciIsIkJsb2JOb3RGb3VuZCIsImJsb2JLZXkiLCJwYWdlXzEiLCJQYWdlSHViU2VydmVyIiwicGFnZV8yIiwiY2xpZW50XzEiLCJTZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJCdXMiLCJidXNfMSIsInNlbmRGdW5jdGlvbiIsImNsb3NlRnVuY3Rpb24iLCJkaXNwb3NlZCIsImRpc3Bvc2UiLCJ0aW1lb3V0IiwiY2giLCJjbGVhclRpbWVvdXQiLCJsaXN0ZW5pbmciLCJ0b1N0cmluZyIsImJpbmRQb3J0Iiwib25DaGFubmVsIiwidW5iaW5kUG9ydCIsImZyb21DaGFubmVsIiwiZmV0Y2hfMSIsInNlcnZlcl8yIiwibWlkZGxld2FyZV8xIiwicGF0dGVybl8xIiwibWV0aG9kIiwicGF0dGVybiIsIm1pZGRsZXdhcmUiLCJoYW5kbGVyIiwicmVzcG9uc2UiLCJ1cmwiLCJwYXJzZSIsInBhcmFtcyIsIm1hdGNoIiwicGF0aG5hbWUiLCJwYXRoIiwicXVlcnkiLCJydW5TdGFjayIsImFyZ3MiLCJhcHBseSIsImVuZHBvaW50IiwicmVzb2x2ZWQiLCJhc01pZGRsZXdhcmUiLCJ1c2UiLCJQYXR0ZXJuIiwiaGFuZGxlIiwicHJvdG9jb2xfMSIsIkludmFsaWRSZXF1ZXN0RXJyb3IiLCJSZWFkUmVxdWVzdEVycm9yIiwic3RyZWFtIiwiaGVhZGVyIiwiaGVhZGVycyIsInJlYWRSZWFkYWJsZSIsInJlYWRhYmxlIiwiZW5jb2RpbmciLCJKU09OIiwiTWVkaWFTdHJlYW1Db250ZXh0Iiwic3RyZWFtaW5nIiwidHJhbnNtaXQiLCJtcyIsIndyaXRhYmxlIiwiZGVsYXkiLCJSZXNwb25zZUFscmVhZHlTZW50RXJyb3IiLCJzdGF0dXMiLCJzZW50Iiwid3JpdGVSZXNwb25zZUhlYWRlciIsIndyaXRlTWVkaWFTdHJlYW0iLCJ3cml0ZVJlYWRhYmxlIiwicXVlcnlhYmxlIiwid3JpdGVRdWVyeWFibGUiLCJxdWV1ZSIsInB1bGwiLCJjb250cm9sbGVyIiwiZW5xdWV1ZSIsInN0cmluZ2lmeSIsImJvZHkiLCJ3cml0ZVJlcXVlc3RIZWFkZXIiLCJpZ25vcmVFcnJvciIsInJlYWRSZXNwb25zZUhlYWRlciIsInJlYWRRdWVyeWFibGUiLCJyZWFkTWVkaWFTdHJlYW0iLCJub2RlMCIsInNtb2tlX25vZGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIm5vZGUxIiwibm9kZTIiLCJyZXN0IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsIm1lZGlhIiwiY3JlYXRlVGVzdFBhdHRlcm4iLCJsaXN0ZW4iLCJfX2F3YWl0ZXIiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIl9jIiwiX2IiLCJfYSIsInZpZGVvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNyY09iamVjdCIsInBsYXkiLCJFdmVudCIsImhhbmRsZXJzIiwibWVzc2FnZXMiLCJvbmNlcyIsImxpc3RlbmVyIiwib25zIiwiZXZlbnRzIiwiTWFwIiwiaGFzIiwic2V0IiwicmVtb3ZlIiwicGF1c2VkIiwidGhlbiIsImNhdGNoIiwiY29uY3VycmVuY3kiLCJtYXJrZXJzIiwiY2hhckF0Iiwic2VnbWVudHMiLCJzZWdtZW50Iiwic3BsaXQiLCJhc3NpZ24iLCJwYWlyIiwicGFpcnMiLCJhcnJheSIsInBhcnNlUXVlcnlTZWdtZW50cyIsInNlZyIsInBhcnNlUGFpcnMiLCJmbGF0TWFwIiwiZXhwYW5kZWQiLCJleHBhbmRSZXN1bHQiLCJjb2xsYXBzZVJlc3VsdCIsImV4dCIsImYiLCJwb3NpeFNwbGl0UGF0aCIsInN1YnN0ciIsInJvb3QiLCJkaXIiLCJwYXRoT2JqZWN0IiwiVHlwZUVycm9yIiwic2VwIiwiYmFzZSIsInBhdGhzIiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJub3JtYWxpemVBcnJheSIsImpvaW4iLCJwYXJ0cyIsInRvIiwiZnJvbVBhcnRzIiwidHJpbUFycmF5IiwidG9QYXJ0cyIsIk1hdGgiLCJtaW4iLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsInJlc29sdmVkUGF0aCIsInJlc29sdmVkQWJzb2x1dGUiLCJjd2QiLCJzcGxpdFBhdGhQYXR0ZXJuIiwiZXhlYyIsImFsbG93QWJvdmVSb290IiwicG9wIiwibGFzdEluZGV4Iiwic3RhcnQiLCJlbmQiLCJkZWxpbWl0ZXIiLCJocmVmIiwibmV4dDAiLCJuZXh0MSIsImhvc3RuYW1lIiwic2VhcmNoIiwicHJvdG9jb2wiLCJyMCIsInBhcnNlUHJvdG9jb2wiLCJhdXRoIiwicjEiLCJwYXJzZUF1dGgiLCJyMiIsInBhcnNlSG9zdG5hbWUiLCJyMyIsInBhcnNlSG9zdCIsInI0IiwicGFyc2VQb3J0IiwicjUiLCJwYXJzZVBhdGgiLCJyNiIsInBhcnNlUGF0aG5hbWUiLCJoYXNoIiwicjciLCJwYXJzZUhhc2giLCJyOCIsInBhcnNlU2VhcmNoIiwicjkiLCJwYXJzZVF1ZXJ5IiwiaWVlZTc1NCIsImJhc2U2NCIsIk1BWF9BUkdVTUVOVFNfTEVOR1RIIiwiSU5WQUxJRF9CQVNFNjRfUkUiLCJJTlNQRUNUX01BWF9CWVRFUyIsIktfTUFYX0xFTkdUSCIsIlVpbnQ4QXJyYXkiLCJidWYiLCJsZW4iLCJSYW5nZUVycm9yIiwic3dhcCIsImxvd2VyZWRDYXNlIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInRvTG93ZXJDYXNlIiwic2xvd1RvU3RyaW5nIiwiaXNCdWZmZXIiLCJjb21wYXJlIiwic3RyIiwibWF4IiwicmVwbGFjZSIsInRyaW0iLCJpc0luc3RhbmNlIiwib2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIngiLCJ5IiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiYXJyIiwidmFsIiwiYnl0ZU9mZnNldCIsImluZGV4U2l6ZSIsImFyckxlbmd0aCIsInZhbExlbmd0aCIsIlN0cmluZyIsInJlYWRVSW50MTZCRSIsImZvdW5kSW5kZXgiLCJmb3VuZCIsImoiLCJudW1iZXJJc05hTiIsImFycmF5SW5kZXhPZiIsImxhc3RJbmRleE9mIiwiYmlkaXJlY3Rpb25hbEluZGV4T2YiLCJBcnJheSIsIl9hcnIiLCJmcm9tQnl0ZUFycmF5IiwiZmlyc3RCeXRlIiwiY29kZVBvaW50IiwiYnl0ZXNQZXJTZXF1ZW5jZSIsInNlY29uZEJ5dGUiLCJ0aGlyZEJ5dGUiLCJmb3VydGhCeXRlIiwidGVtcENvZGVQb2ludCIsImRlY29kZUNvZGVQb2ludHNBcnJheSIsImNvZGVQb2ludHMiLCJmcm9tQ2hhckNvZGUiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiZmFjYWRlIiwic3ViYXJyYXkiLCJfX3Byb3RvX18iLCJ0YXJnZXRTdGFydCIsImNvcHlXaXRoaW4iLCJpc0VuY29kaW5nIiwiY29kZSIsImNoYXJDb2RlQXQiLCJub0Fzc2VydCIsImNoZWNrT2Zmc2V0IiwibXVsIiwicG93Iiwic3RyaW5nIiwiTnVtYmVyIiwicmVtYWluaW5nIiwic3RyTGVuIiwicGFyc2VkIiwicGFyc2VJbnQiLCJibGl0QnVmZmVyIiwidXRmOFRvQnl0ZXMiLCJhc2NpaVRvQnl0ZXMiLCJhc2NpaVdyaXRlIiwiYmFzZTY0VG9CeXRlcyIsInV0ZjE2bGVUb0J5dGVzIiwiaXNGaW5pdGUiLCJoZXhXcml0ZSIsInV0ZjhXcml0ZSIsImxhdGluMVdyaXRlIiwiYmFzZTY0V3JpdGUiLCJ1Y3MyV3JpdGUiLCJtYXhCeXRlcyIsImNoZWNrSW50IiwibGltaXQiLCJzdWIiLCJsaXR0bGVFbmRpYW4iLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwid3JpdGVEb3VibGUiLCJzaXplIiwiYXNzZXJ0U2l6ZSIsImNyZWF0ZUJ1ZmZlciIsImNoZWNrZWQiLCJmaWxsIiwiYWN0dWFsIiwib2JqIiwiY29weSIsImZyb21BcnJheUxpa2UiLCJpc0FycmF5IiwiZnJvbVN0cmluZyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiZnJvbUFycmF5QnVmZmVyIiwidmFsdWVPZiIsImIiLCJmcm9tT2JqZWN0IiwidG9QcmltaXRpdmUiLCJtdXN0TWF0Y2giLCJhIiwibGlzdCIsImFsbG9jVW5zYWZlIiwicG9zIiwidW5pdHMiLCJJbmZpbml0eSIsImxlYWRTdXJyb2dhdGUiLCJieXRlQXJyYXkiLCJoaSIsImxvIiwidG9CeXRlQXJyYXkiLCJiYXNlNjRjbGVhbiIsInNyYyIsImRzdCIsImNvbnN0cnVjdG9yIiwiaXNMRSIsIm1MZW4iLCJuQnl0ZXMiLCJlIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJhYnMiLCJpc05hTiIsImZsb29yIiwiTE4yIiwibG9va3VwIiwicmV2TG9va3VwIiwiQXJyIiwiZ2V0TGVucyIsImI2NCIsInZhbGlkTGVuIiwidHJpcGxldFRvQmFzZTY0IiwibnVtIiwiZW5jb2RlQ2h1bmsiLCJ1aW50OCIsInRtcCIsIm91dHB1dCIsImxlbnMiLCJwbGFjZUhvbGRlcnNMZW4iLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJleHRyYUJ5dGVzIiwibGVuMiIsInNpbmsiLCJhYm9ydCIsIlJlYWRhYmxlQXN5bmNJdGVyYXRvciIsInNvdXJjZSIsIlJlYWRhYmxlU3RyZWFtIiwiZ2V0UmVhZGVyIiwiY2FuY2VsIiwiaXRlcmFibGUiLCJlbGVtZW50IiwiZ2VuZXJhdG9yIiwiYWNjdSIsInRvQXJyYXkiLCJkaXJlY3Rpb24iLCJzb3J0ZWQiLCJzb3J0IiwibGVmdCIsInJpZ2h0Iiwib3JkZXJpbmciLCJlbGVtZW50MCIsImVsZW1lbnQxIiwiaW5pdGlhbCIsImV2ZXJ5Iiwic29tZSIsInN0YXJ0ZWQiLCJEYXRlIiwiZ2V0VGltZSIsIm5vdyIsImxvb3BiYWNrIiwidHJhbnNjZWl2ZXJzIiwiZ2V0VHJhbnNjZWl2ZXJzIiwiZ2V0U2VuZGVycyIsInN0YXRzIiwiZ2V0U3RhdHMiLCJpbmZvIiwicGVlcnMiLCJnZXRQZWVycyIsInN0YXQiLCJnZXROZXRTdGF0Iiwia2V5XzEiLCJLZXlSZXF1aXJlZEVycm9yIiwiYmFycmllciIsImRyaXZlciIsInJlc3VtZSIsImNyZWF0ZXMiLCJjbGVhciIsIktleSIsImRyb3AiLCJyYW5kb20iLCJjb25zdGFudHNfMSIsInJlYWRlcl8xIiwid3JpdGVyXzEiLCJlcnJvcnNfMSIsImRibmFtZSIsImV4aXN0cyIsIndoZXJlIiwiZmlsZSIsInNlbGVjdCIsImNyZWF0ZWQiLCJwcmVmaXgiLCJwcmVwYXJlIiwid3JpdGVyIiwiV3JpdGVyIiwiY29udGVudHMiLCJibG9icyIsImxpbmsiLCJibG9iIiwiQmxvYiIsImNvbW1pdCIsImNodW5rU2l6ZSIsImV4ZWN1dGUiLCJyZWFkQnVmZmVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiQnl0ZUJ1ZmZlciIsInRvdGFsIiwiY29uc3VtZWQiLCJ1bnNoaWZ0IiwiaGlnaFdhdGVyTWFyayIsImluc2VydCIsImZsdXNoIiwiZGhjcF8xIiwiY29uZmlndXJhdGlvbiIsInNvY2tldHMiLCJkaGNwIiwiRGhjcCIsImFkZHJlc3MiLCJvbk1lc3NhZ2UiLCJvbkVycm9yIiwib25DbG9zZSIsIm9uRm9yd2FyZCIsImZvcndhcmQiLCJzZXJ2ZXIiLCJvbkNvbm5lY3Rpb24iLCJVaW50MzJBcnJheSIsImFzeW5jXzIiLCJiaW5kaW5nIiwib25CaW5kaW5nIiwicGF1c2UiLCJXZWJTb2NrZXQiLCJfIiwicmVjZWl2ZSIsImV2ZW50TmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJMb29wYmFjayIsImxvb3BiYWNrU3dpdGNoIiwiUmVjZWl2ZXIiLCJTZW5kZXIiLCJOZWdvdGlhdGVFcnJvciIsInNkcCIsIlNpZ25hbGxpbmdFcnJvciIsIlBvcnRJblVzZUVycm9yIiwiaHViIiwicG9ydHMiLCJjcmVhdGVMb29wYmFjayIsImdldFBlZXIiLCJjcmVhdGVEYXRhQ2hhbm5lbCIsInJhY2UiLCJjYWxsYmFjayIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiTm9uZSIsIm9uTmVnb3RpYXRpb25OZWVkZWQiLCJvbkljZUNhbmRpZGF0ZSIsIm9uRGF0YUNoYW5uZWwiLCJvbkNhbmRpZGF0ZSIsIm9uQW5zd2VyIiwib25PZmZlciIsInJlc29sdmVMb29wYmFja1RhcmdldCIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiY3JlYXRlQW5zd2VyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsIndhcm4iLCJhZGRJY2VDYW5kaWRhdGUiLCJjYW5kaWRhdGUiLCJjcmVhdGVPZmZlciIsImxhYmVsIiwic2VydmVycyIsImNyZWF0ZVNvY2tldCIsIk5FWFQiLCJDQU5DRUwiLCJEQVRBIiwiRVJST1IiLCJFTkQiLCJyZWFkX2J1ZmZlciIsInJlYWRfYmFycmllciIsIndyaXRlX2J1ZmZlciIsIndyaXRlX2JhcnJpZXIiLCJyZWFkSW50ZXJuYWwiLCJzdGFjayIsInJlc3VsdHMiLCJwYXJzZVBhdHRlcm4iLCJyZWdleCIsImJ1aWxkUmVnZXgiLCJidWlsZFBhcmFtcyIsInBhcmFtIiwiY2hhcmFjdGVycyIsImN1cnJlbnQiLCJleHByIiwiUmVnRXhwIiwiUmVzcG9uc2VIZWFkZXJOb3RSZWNlaXZlZEVycm9yIiwiUmVzcG9uc2VIZWFkZXJJbnZhbGlkRXJyb3IiLCJSZXF1ZXN0SGVhZGVySW52YWxpZEVycm9yIiwiU0VORF9DSFVOS19TSVpFIiwiZW1wdHkiLCJwYXJ0aXRpb24iLCJqc29uIiwiZ2V0VHJhY2tzIiwiZGlzcG9zaXRpb24iLCJlb2YiLCJyZWFkX2Rpc3Bvc2l0aW9uIiwic3RyZWFtcyIsIndhaXRfZm9yX3N0cmVhbSIsInJlYWRfdHJhbnNtaXQiLCJORVRXT1JLX1RJTUVPVVQiLCJvblNvY2tldCIsInJlYWRSZXF1ZXN0SGVhZGVyIiwidGV4dCIsIkZldGNoVXJsRXJyb3IiLCJGZXRjaFJlYWRFcnJvciIsImV4cGVjdGVkIiwiY3JlYXRlUmVhZGFibGUiLCJyZXNvbHZlQm9keUFzUmVhZGFibGUiLCJnZXRSZXNwb25zZSIsIm1lZGlhXzEiLCJuZXR3b3JrIiwic3lzdGVtIiwiTWVkaWEiLCJ3ZWJydGNfMSIsIm1zZV8xIiwiV2ViUlRDIiwiY29kZWMiLCJNZWRpYVNvdXJjZUV4dGVuc2lvbnMiLCJjcmVhdGVNZWRpYVNvdXJjZSIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwic2V0SW50ZXJ2YWwiLCJnIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJhcHBlbmRCdWZmZXIiLCJtZWRpYXNvdXJjZSIsIk1lZGlhU291cmNlIiwiYWRkU291cmNlQnVmZmVyIiwicmVzb2x2ZUNvZGVjIiwid3JpdGVTb3VyY2VCdWZmZXIiLCJlbmRPZlN0cmVhbSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFB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anhCLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBNkM5Q25CLEVBQUEyeEIsc0JBekNBLE1BQ0F4ckIsb0JBQUF1ckIsR0FDQSxPQUFBQSxHQUNBLDZEQUNBLG9EQUNBLGNBQUF4ckIsa0NBQTZEd3JCLE1BRzdEdnJCLCtCQUFBK0wsRUFBQTVLLEdBQ0EsTUFBQTBELEtBQWVBLEVBQUE3SixlQUFjK1EsRUFBQW5ILE9BQzdCLE9BQUFDLEVBS0EsR0FKQTFELEVBQUFpckIsYUFBQXB4QixHQUNBQSxFQUFBcUcsUUFVQXJCLHlCQUFBK0wsRUFBQXdmLEdBQ0EsTUFBQWMsRUFBQSxJQUFBQyxZQWVBLE9BZEFELEVBQUFqcUIsaUJBQUEsYUFBQVksVUFDQSxNQUFBN0IsRUFBQWtyQixFQUFBRSxnQkFBQWhzQixLQUFBaXNCLGFBQUFqQixJQUNBcHFCLEVBQUFqRyxLQUFBLFdBQ0FpRyxFQUFBaUIsaUJBQUEsWUFBQVksVUFFQSxVQURBekMsS0FBQWtzQixrQkFBQTFnQixFQUFBNUssSUFFQWtyQixFQUFBSyxnQkFJQSxVQURBbnNCLEtBQUFrc0Isa0JBQUExZ0IsRUFBQTVLLElBRUFrckIsRUFBQUssZ0JBR0FMIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGV2ZW50c18xID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xyXG5leHBvcnRzLkV2ZW50cyA9IGV2ZW50c18xLkV2ZW50cztcclxudmFyIGJhcnJpZXJfMSA9IHJlcXVpcmUoXCIuL2JhcnJpZXJcIik7XHJcbmV4cG9ydHMuQmFycmllciA9IGJhcnJpZXJfMS5CYXJyaWVyO1xyXG52YXIgc2VtYXBob3JlXzEgPSByZXF1aXJlKFwiLi9zZW1hcGhvcmVcIik7XHJcbmV4cG9ydHMuU2VtYXBob3JlID0gc2VtYXBob3JlXzEuU2VtYXBob3JlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi9idWZmZXJcIik7XHJcbmV4cG9ydHMuQnVmZmVyID0gYnVmZmVyXzEuQnVmZmVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgd3JpdGFibGVfMSA9IHJlcXVpcmUoXCIuL3dyaXRhYmxlXCIpO1xyXG5leHBvcnRzLldyaXRhYmxlID0gd3JpdGFibGVfMS5Xcml0YWJsZTtcclxudmFyIHJlYWRhYmxlXzEgPSByZXF1aXJlKFwiLi9yZWFkYWJsZVwiKTtcclxuZXhwb3J0cy5SZWFkYWJsZSA9IHJlYWRhYmxlXzEuUmVhZGFibGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBoZWFkZXJfMSA9IHJlcXVpcmUoXCIuL2hlYWRlclwiKTtcclxuZXhwb3J0cy5IZWFkZXJQcm90b2NvbCA9IGhlYWRlcl8xLkhlYWRlclByb3RvY29sO1xyXG52YXIgYm9keV8xID0gcmVxdWlyZShcIi4vYm9keVwiKTtcclxuZXhwb3J0cy5Cb2R5UHJvdG9jb2wgPSBib2R5XzEuQm9keVByb3RvY29sO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc29ja2V0c18xID0gcmVxdWlyZShcIi4vc29ja2V0c1wiKTtcclxuZXhwb3J0cy5Tb2NrZXRzID0gc29ja2V0c18xLlNvY2tldHM7XHJcbnZhciBzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3NlcnZlclwiKTtcclxuZXhwb3J0cy5Tb2NrZXRTZXJ2ZXIgPSBzZXJ2ZXJfMS5Tb2NrZXRTZXJ2ZXI7XHJcbnZhciBzb2NrZXRfMSA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcclxuZXhwb3J0cy5Tb2NrZXQgPSBzb2NrZXRfMS5Tb2NrZXQ7XHJcbnZhciBzdHJlYW1fMSA9IHJlcXVpcmUoXCIuL3N0cmVhbVwiKTtcclxuZXhwb3J0cy5OZXR3b3JrU3RyZWFtID0gc3RyZWFtXzEuTmV0d29ya1N0cmVhbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gQXN5bmMgUHJpbWl0aXZlc1xyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuL2FzeW5jXCIpO1xyXG5leHBvcnRzLkJhcnJpZXIgPSBhc3luY18xLkJhcnJpZXI7XHJcbmV4cG9ydHMuRXZlbnRzID0gYXN5bmNfMS5FdmVudHM7XHJcbmV4cG9ydHMuU2VtYXBob3JlID0gYXN5bmNfMS5TZW1hcGhvcmU7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vXHJcbi8vIFBhdGggUXVlcnlTdHJpbmcgVXJsXHJcbi8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBxdWVyeXN0cmluZ18xID0gcmVxdWlyZShcIi4vcXVlcnlzdHJpbmdcIik7XHJcbmV4cG9ydHMuUXVlcnlTdHJpbmcgPSBxdWVyeXN0cmluZ18xLlF1ZXJ5U3RyaW5nO1xyXG52YXIgcGF0aF8xID0gcmVxdWlyZShcIi4vcGF0aFwiKTtcclxuZXhwb3J0cy5QYXRoID0gcGF0aF8xLlBhdGg7XHJcbnZhciB1cmxfMSA9IHJlcXVpcmUoXCIuL3VybFwiKTtcclxuZXhwb3J0cy5VcmwgPSB1cmxfMS5Vcmw7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vXHJcbi8vIEJ1ZmZlcnMsIFN0cmVhbXMgYW5kIFF1ZXJ5YWJsZVxyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG52YXIgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi9idWZmZXJcIik7XHJcbmV4cG9ydHMuQnVmZmVyID0gYnVmZmVyXzEuQnVmZmVyO1xyXG52YXIgc3RyZWFtc18xID0gcmVxdWlyZShcIi4vc3RyZWFtc1wiKTtcclxuZXhwb3J0cy5SZWFkYWJsZSA9IHN0cmVhbXNfMS5SZWFkYWJsZTtcclxuZXhwb3J0cy5Xcml0YWJsZSA9IHN0cmVhbXNfMS5Xcml0YWJsZTtcclxudmFyIHF1ZXJ5YWJsZV8xID0gcmVxdWlyZShcIi4vcXVlcnlhYmxlXCIpO1xyXG5leHBvcnRzLlF1ZXJ5YWJsZSA9IHF1ZXJ5YWJsZV8xLlF1ZXJ5YWJsZTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gU3lzdGVtXHJcbi8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBzeXN0ZW1fMSA9IHJlcXVpcmUoXCIuL3N5c3RlbVwiKTtcclxuZXhwb3J0cy5TeXN0ZW0gPSBzeXN0ZW1fMS5TeXN0ZW07XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vXHJcbi8vIERhdGFiYXNlXHJcbi8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBkYXRhYmFzZV8xID0gcmVxdWlyZShcIi4vZGF0YWJhc2VcIik7XHJcbmV4cG9ydHMuRGF0YWJhc2UgPSBkYXRhYmFzZV8xLkRhdGFiYXNlO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL1xyXG4vLyBCdWNrZXRcclxuLy9cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxudmFyIGJ1Y2tldF8xID0gcmVxdWlyZShcIi4vYnVja2V0XCIpO1xyXG5leHBvcnRzLkJ1Y2tldCA9IGJ1Y2tldF8xLkJ1Y2tldDtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gTmV0d29ya1xyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG52YXIgaHViXzEgPSByZXF1aXJlKFwiLi9odWJcIik7XHJcbmV4cG9ydHMuUGFnZUh1YiA9IGh1Yl8xLlBhZ2VIdWI7XHJcbmV4cG9ydHMuTmV0d29ya0h1YiA9IGh1Yl8xLk5ldHdvcmtIdWI7XHJcbnZhciBuZXR3b3JrXzEgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xyXG5leHBvcnRzLk5ldHdvcmsgPSBuZXR3b3JrXzEuTmV0d29yaztcclxudmFyIHNvY2tldHNfMSA9IHJlcXVpcmUoXCIuL3NvY2tldHNcIik7XHJcbmV4cG9ydHMuU29ja2V0cyA9IHNvY2tldHNfMS5Tb2NrZXRzO1xyXG5leHBvcnRzLlNvY2tldFNlcnZlciA9IHNvY2tldHNfMS5Tb2NrZXRTZXJ2ZXI7XHJcbmV4cG9ydHMuU29ja2V0ID0gc29ja2V0c18xLlNvY2tldDtcclxuZXhwb3J0cy5OZXR3b3JrU3RyZWFtID0gc29ja2V0c18xLk5ldHdvcmtTdHJlYW07XHJcbnZhciByZXN0XzEgPSByZXF1aXJlKFwiLi9yZXN0XCIpO1xyXG5leHBvcnRzLlJlc3QgPSByZXN0XzEuUmVzdDtcclxuZXhwb3J0cy5GZXRjaCA9IHJlc3RfMS5GZXRjaDtcclxuZXhwb3J0cy5GZXRjaFJlcXVlc3QgPSByZXN0XzEuRmV0Y2hSZXF1ZXN0O1xyXG5leHBvcnRzLkZldGNoUmVzcG9uc2UgPSByZXN0XzEuRmV0Y2hSZXNwb25zZTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSByZXN0XzEuUm91dGVyO1xyXG5leHBvcnRzLlJvdXRlID0gcmVzdF8xLlJvdXRlO1xyXG5leHBvcnRzLlJlc3RTZXJ2ZXIgPSByZXN0XzEuUmVzdFNlcnZlcjtcclxuZXhwb3J0cy5SZXN0UmVxdWVzdCA9IHJlc3RfMS5SZXN0UmVxdWVzdDtcclxuZXhwb3J0cy5SZXN0UmVzcG9uc2UgPSByZXN0XzEuUmVzdFJlc3BvbnNlO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL1xyXG4vLyBTbW9rZVxyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG52YXIgbm9kZV8xID0gcmVxdWlyZShcIi4vbm9kZVwiKTtcclxuZXhwb3J0cy5Ob2RlID0gbm9kZV8xLk5vZGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1cmxfMSA9IHJlcXVpcmUoXCIuL3VybFwiKTtcclxuZXhwb3J0cy5VcmwgPSB1cmxfMS5Vcmw7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBxdWVyeWFibGVfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5YWJsZVwiKTtcclxuZXhwb3J0cy5RdWVyeWFibGUgPSBxdWVyeWFibGVfMS5RdWVyeWFibGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuRmlsZVN0b3JlID0gJ2ZpbGVzJztcclxuZXhwb3J0cy5CbG9iU3RvcmUgPSAnYmxvYnMnO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uL2FzeW5jXCIpO1xyXG5jb25zdCBidWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9idWZmZXJcIik7XHJcbmNvbnN0IE1BWF9NRVNTQUdFX1NJWkUgPSAxMDAwMDAwOyAvLyAxbWIgbWF4aW11bSBtZXNzYWdlIHJlY2VpdmUgc2l6ZS5cclxuY29uc3QgTUFYX1NFR01FTlRfU0laRSA9IDMyNzY4OyAvLyAzMmsgbWF4aW11bSBtZXNzYWdlIHNpemUuXHJcbmNvbnN0IENPTVBMRVRFID0gMDtcclxuY29uc3QgUEFSVElBTCA9IDE7XHJcbmNsYXNzIEludmFsaWRTb2NrZXRNZXNzYWdlIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1JlY2VpdmVkIGludmFsaWQgc29ja2V0IG1lc3NhZ2UuJyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5JbnZhbGlkU29ja2V0TWVzc2FnZSA9IEludmFsaWRTb2NrZXRNZXNzYWdlO1xyXG5jbGFzcyBNZXNzYWdlU2VuZFNpemVUb29MYXJnZSBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKGBNZXNzYWdlIHNpemUgZXhjZWVkcyAke01BWF9NRVNTQUdFX1NJWkV9IGJ5dGVzLmApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuTWVzc2FnZVNlbmRTaXplVG9vTGFyZ2UgPSBNZXNzYWdlU2VuZFNpemVUb29MYXJnZTtcclxuY2xhc3MgTWVzc2FnZVJlY2VpdmVTaXplVG9vTGFyZ2UgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihgTWVzc2FnZSByZWNlaXZlZCBleGNlZWRlZCAke01BWF9NRVNTQUdFX1NJWkV9IGJ5dGVzLmApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuTWVzc2FnZVJlY2VpdmVTaXplVG9vTGFyZ2UgPSBNZXNzYWdlUmVjZWl2ZVNpemVUb29MYXJnZTtcclxuY29uc3QgaW50byA9IChmdW5jKSA9PiBmdW5jKCk7XHJcbi8qKlxyXG4gKiBBIFdlYiBTb2NrZXQgbGlrZSB0eXBlIGJ1aWx0IG92ZXIgUlRDRGF0YUNoYW5uZWwuIEl0IHN1cHBvcnRzXHJcbiAqIGJpLWRpcmVjdGlvbmFsIG1lc3NhZ2luZyBiZXR3ZWVuIHBlZXJzIHdpdGhpbiBhIG5ldHdvcmsuIFRoaXNcclxuICogc29ja2V0IHR5cGUgZnVuY3Rpb25zIGJvdGggYXMgYSBXZWIgU29ja2V0IGFzIHdlbGwgYXMgYSBXZWJSVENcclxuICogcGFzcy10aHJvdWdoIGZvciBzZW5kaW5nIGFuZCByZWNlaXZpbmcgTWVkaWFTdHJlYW0gVHJhY2tzIHRvXHJcbiAqIHRoZSBzb2NrZXRzIHVuZGVybHlpbmcgUlRDUGVlckNvbm5lY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBTb2NrZXQgZXh0ZW5kcyBhc3luY18xLkV2ZW50cyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKiBSVENSVFBTZW5kZXJzIHNlbmRpbmcgZnJvbSB0aGlzIHNvY2tldC4gKi9cclxuICAgICAgICB0aGlzLnNlbmRlcnMgPSBbXTtcclxuICAgICAgICAvKiogQSBtZXNzYWdlIHJlY2VpdmUgYnVmZmVyLiAqL1xyXG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZXMgb25jZSB0byBldmVudHMgb24gdGhpcyBzb2NrZXQuICovXHJcbiAgICBvbmNlKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgc3VwZXIub25jZShldmVudCwgZnVuYyk7XHJcbiAgICB9XHJcbiAgICAvKiogU3Vic2NyaWJlcyB0byBldmVudHMgb24gdGhpcyBzb2NrZXQuICovXHJcbiAgICBvbihldmVudCwgZnVuYykge1xyXG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyB0aGlzIG1lZGlhc3RyZWFtIHRyYWNrIHRvIHRoaXMgc29ja2V0LiBJbnRlcm5hbGx5LCB0aGlzIHRyYWNrXHJcbiAgICAgKiBpcyBmb3J3YXJkZWQgb24gdG8gdGhpcyBzb2NrZXRzIGludGVybmFsIHBlZXIgY29ubmVjdGlvbi4gUmVjZWl2aW5nXHJcbiAgICAgKiBzb2NrZXRzIG1heSBsaXN0ZW4gZm9yIGBvblRyYWNrYCBldmVudHMgbmVnb3RpYXRlZCBzb21ld2hlcmUgb3V0c2lkZVxyXG4gICAgICogb2YgdGhpcyBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAqL1xyXG4gICAgYWRkVHJhY2sodHJhY2ssIG1lZGlhc3RyZWFtKSB7XHJcbiAgICAgICAgdGhpcy5zZW5kZXJzLnB1c2godGhpcy5jb25uZWN0aW9uLmFkZFRyYWNrKHRyYWNrLCBtZWRpYXN0cmVhbSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGlzIHNvY2tldC4gKi9cclxuICAgIHNlbmQobWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKG1lc3NhZ2UpO1xyXG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gTUFYX01FU1NBR0VfU0laRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWVzc2FnZVNlbmRTaXplVG9vTGFyZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCAhPT0gYnVmZmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpY2UgPSBidWZmZXIuc2xpY2UoaW5kZXgsIGluZGV4ICsgTUFYX1NFR01FTlRfU0laRSk7XHJcbiAgICAgICAgICAgICAgICBpbmRleCArPSBzbGljZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IGJ1ZmZlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwuc2VuZCh0aGlzLmVuY29kZShQQVJUSUFMLCBzbGljZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnNlbmQodGhpcy5lbmNvZGUoQ09NUExFVEUsIHNsaWNlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsb3NlcyB0aGlzIHNvY2tldC4gV2lsbCBhbHNvIHJlbW92ZSBhbnkgUlRDUnRwU2VuZGVyIHRyYWNrcyB0aGF0IHdlcmVcclxuICAgICAqIHNlbnQgdGhyb3VnaCB0aGlzIHNvY2tldC5cclxuICAgICAqL1xyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuc2VuZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVycy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soc2VuZGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFubmVsLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICBlbmNvZGUodHlwZSwgZGF0YSA9IGJ1ZmZlcl8xLkJ1ZmZlci5hbGxvYygwKSkge1xyXG4gICAgICAgIHJldHVybiBidWZmZXJfMS5CdWZmZXIuY29uY2F0KFtidWZmZXJfMS5CdWZmZXIuZnJvbShbdHlwZV0pLCBkYXRhXSk7XHJcbiAgICB9XHJcbiAgICBkZWNvZGUoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEpO1xyXG4gICAgICAgIHJldHVybiBbYnVmZmVyLnJlYWRJbnQ4KDApLCBidWZmZXIuc2xpY2UoMSldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHVwIHRoZSBldmVudHMgZm9yIHRoaXMgc29ja2V0LiBTb2NrZXQgbWVzc2FnZXMgc3VwcG9ydCBwYXJ0aWFsIHNlbmRzXHJcbiAgICAgKiBvZiBtZXNzYWdlIHBheWxvYWRzLCB0aGUgZm9sbG93aW5nIGxvZ2ljIGJ1ZmZlcnMgYW5kIGVtaXRzIG9ubHkgb25cclxuICAgICAqIHJlY2VpdmluZyBDT01QTEVURSBzaWduYWxzIGZyb20gdGhlIHNlbmRlci5cclxuICAgICAqL1xyXG4gICAgc2V0dXBFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgZXZlbnQgPT4gdGhpcy5lbWl0KCd0cmFjaycsIGV2ZW50KSk7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXZlbnQgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGV2ZW50KSk7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgZXZlbnQgPT4gdGhpcy5lbWl0KCdjbG9zZScsIGV2ZW50KSk7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBidWZmZXJdID0gdGhpcy5kZWNvZGUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcmVkID0gdGhpcy5idWZmZXJzLnJlZHVjZSgoYWNjLCBjKSA9PiBhY2MgKyBjLmxlbmd0aCwgMCk7XHJcbiAgICAgICAgICAgIGlmIChidWZmZXJlZCA+IE1BWF9NRVNTQUdFX1NJWkUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgTWVzc2FnZVJlY2VpdmVTaXplVG9vTGFyZ2UoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENPTVBMRVRFOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlcl8xLkJ1ZmZlci5jb25jYXQodGhpcy5idWZmZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLCB7IGRhdGEgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFBBUlRJQUw6IHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEludmFsaWRTb2NrZXRNZXNzYWdlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgc29ja2V0IGZyb20gYSBkYXRhIGNoYW5uZWwgc2VudCBmcm9tIHRoZSBuZXR3b3JrIGRldmljZS4gVXNlZCBieVxyXG4gICAgICogdGhlIHNvY2tldCBzZXJ2ZXIgdG8gaW5pdGlhbGl6ZSBuZXcgc29ja2V0cyBvbiBsaXN0ZW4gZXZlbnRzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZnJvbUNoYW5uZWwoY29ubmVjdGlvbiwgY2hhbm5lbCwgbG9jYWwsIHJlbW90ZSkge1xyXG4gICAgICAgIGNoYW5uZWwuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldCgpO1xyXG4gICAgICAgIHNvY2tldC5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcclxuICAgICAgICBzb2NrZXQuY2hhbm5lbCA9IGNoYW5uZWw7XHJcbiAgICAgICAgc29ja2V0LnJlbW90ZSA9IHJlbW90ZTtcclxuICAgICAgICBzb2NrZXQubG9jYWwgPSBsb2NhbDtcclxuICAgICAgICBzb2NrZXQuYnVmZmVycyA9IFtdO1xyXG4gICAgICAgIHNvY2tldC5zZXR1cEV2ZW50cygpO1xyXG4gICAgICAgIHJldHVybiBzb2NrZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSB3ZWIgc29ja2V0IHRvIHRoZSByZW1vdGUgaG9zdCBhbmQgcG9ydC4gVGhpcyBmdW5jdGlvbiBsYXppbHlcclxuICAgICAqIGluaXRpYWxpemVzIHRoZSB1bmRlcmx5aW5nIHNvY2tldC4gQ2FsbGVycyBzaG91bGQgd2FpdCBmb3IgdGhlIG9wZW4gZXZlbnRcclxuICAgICAqIHRvIGZpcmUgYmVmb3JlIGludGVyYWN0aW5nIHdpdGggdGhpcyBzb2NrZXQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVTb2NrZXQobmV0LCByZW1vdGUsIHBvcnQpIHtcclxuICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXcgU29ja2V0KCk7XHJcbiAgICAgICAgaW50byhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbcGVlciwgY2hhbm5lbF0gPSBhd2FpdCBuZXQuY29ubmVjdChyZW1vdGUsIHBvcnQpO1xyXG4gICAgICAgICAgICAgICAgc29ja2V0LmNvbm5lY3Rpb24gPSBwZWVyLmNvbm5lY3Rpb247XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2hhbm5lbCA9IGNoYW5uZWw7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2V0dXBFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzb2NrZXQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Tb2NrZXQgPSBTb2NrZXQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciByb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL3JvdXRlclwiKTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSByb3V0ZXJfMS5Sb3V0ZXI7XHJcbmV4cG9ydHMuUm91dGUgPSByb3V0ZXJfMS5Sb3V0ZTtcclxudmFyIHJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3JlcXVlc3RcIik7XHJcbmV4cG9ydHMuUmVzdFJlcXVlc3QgPSByZXF1ZXN0XzEuUmVzdFJlcXVlc3Q7XHJcbnZhciByZXNwb25zZV8xID0gcmVxdWlyZShcIi4vcmVzcG9uc2VcIik7XHJcbmV4cG9ydHMuUmVzdFJlc3BvbnNlID0gcmVzcG9uc2VfMS5SZXN0UmVzcG9uc2U7XHJcbnZhciBzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3NlcnZlclwiKTtcclxuZXhwb3J0cy5SZXN0U2VydmVyID0gc2VydmVyXzEuUmVzdFNlcnZlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHF1ZXJ5c3RyaW5nXzEgPSByZXF1aXJlKFwiLi9xdWVyeXN0cmluZ1wiKTtcclxuZXhwb3J0cy5RdWVyeVN0cmluZyA9IHF1ZXJ5c3RyaW5nXzEuUXVlcnlTdHJpbmc7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzeXN0ZW1fMSA9IHJlcXVpcmUoXCIuL3N5c3RlbVwiKTtcclxuZXhwb3J0cy5TeXN0ZW0gPSBzeXN0ZW1fMS5TeXN0ZW07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBkcml2ZXJfMSA9IHJlcXVpcmUoXCIuL2RyaXZlclwiKTtcclxuZXhwb3J0cy5SZWFkZXIgPSBkcml2ZXJfMS5SZWFkZXI7XHJcbnZhciBkYXRhYmFzZV8xID0gcmVxdWlyZShcIi4vZGF0YWJhc2VcIik7XHJcbmV4cG9ydHMuRGF0YWJhc2UgPSBkYXRhYmFzZV8xLkRhdGFiYXNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBEQkZhY3RvcnkgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBob3N0ID0gd2luZG93O1xyXG4gICAgcmV0dXJuIGhvc3QuaW5kZXhlZERCXHJcbiAgICAgICAgfHwgaG9zdC5tb3pJbmRleGVkREJcclxuICAgICAgICB8fCBob3N0LndlYmtpdEluZGV4ZWREQlxyXG4gICAgICAgIHx8IGhvc3QubXNJbmRleGVkREJcclxuICAgICAgICB8fCBob3N0LnNoaW1JbmRleGVkREI7XHJcbn07XHJcbmNsYXNzIFNlbWFwaG9yZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF3YWl0ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKiogU2NoZWR1bGVzIHRoaXMgb3BlcmF0aW9uIHRvIHJ1bi4gKi9cclxuICAgIHJ1bihmdW5jKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hd2FpdGVycy5wdXNoKHsgZnVuYywgcmVzb2x2ZSwgcmVqZWN0IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogKGFzeW5jLXJlY3Vyc2l2ZSkgRGlzcGF0Y2hzIG9wZXJhdGlvbnMgdG8gdGhlIGNvbmZpZ3VyZWQgY29uY3VycmVuY3kgbGltaXQuICovXHJcbiAgICBhc3luYyBkaXNwYXRjaCgpIHtcclxuICAgICAgICBpZiAodGhpcy5ydW5uaW5nIHx8IHRoaXMuYXdhaXRlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXdhaXRlciA9IHRoaXMuYXdhaXRlcnMuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0ZXIucmVzb2x2ZShhd2FpdCBhd2FpdGVyLmZ1bmMoKSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgYXdhaXRlci5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL1xyXG4vLyBSZWFkZXJBc3luY0l0ZXJhdG9yXHJcbi8vXHJcbi8vIEEgc3BlY2lhbGl6ZWQgYXN5bmMgaXRlcmF0b3IgaW1wbGVtZW50YXRpb24gc3BlY2lmaWMgdG8gdGhlIFJlYWRlci5cclxuLy8gVGhpcyBpdGVyYXRvciB3aWxsIGl0ZXJhdG9yIHNvIGxvbmcgYXMgdGhlICduZXh0JyB2YWx1ZSBnaXZlbiBmcm9tXHJcbi8vIHRoZSBSZWFkZXIgaXMgbm90IGBudWxsYC5cclxuLy9cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jbGFzcyBSZWFkZXJBc3luY0l0ZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlYWRlcikge1xyXG4gICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgbmV4dCgpIHtcclxuICAgICAgICBjb25zdCBuZXh0ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xyXG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGRvbmUsIHZhbHVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRvbmUgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IG5leHQ7XHJcbiAgICAgICAgcmV0dXJuIHsgZG9uZSwgdmFsdWUgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlJlYWRlckFzeW5jSXRlcmF0b3IgPSBSZWFkZXJBc3luY0l0ZXJhdG9yO1xyXG5jbGFzcyBSZWFkZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZWZlcnJlZHMgPSBbXTtcclxuICAgICAgICB0aGlzLnZhbHVlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXJBc3luY0l0ZXJhdG9yKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgcmVzb2x2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZXMubGVuZ3RoID4gMCAmJiB0aGlzLmRlZmVycmVkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5kZWZlcnJlZHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUucmVjb3JkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgPyBkZWZlcnJlZC5yZWplY3QodmFsdWUuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmVycmVkLnJlc29sdmUodmFsdWUucmVjb3JkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB3cml0ZShyZWNvcmQpIHtcclxuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKHsgcmVjb3JkIH0pO1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgZXJyb3IoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKHsgZXJyb3IgfSk7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICByZWFkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmZXJyZWRzLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZWFkZXIgPSBSZWFkZXI7XHJcbi8qKlxyXG4qIEFuIEluZGV4ZWREQiBkYXRhYmFzZSBhYnN0cmFjdGlvbiB0aGF0IHByb3ZpZGVzIGEgcHJvbWlzZSBiYXNlZCByZWFkIGFuZFxyXG4qIHdyaXRlIGludGVyZmFjZSBvdmVyIGEgSW5kZXhlZERCIGRhdGFiYXNlLiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIG9wZW4gYW5kXHJcbiogY2xvc2UgSURCIHN0b3JlcywgbG9va3VwIHN0b3JlIG5hbWVzLCBnZXQgYW5kIHNjYW4gb3ZlciBvYmplY3Qgc3RvcmVzIGFuZCBydW5cclxuKiB0cmFuc2FjdGlvbmFsIHVwZGF0ZXMuXHJcbiovXHJcbmNsYXNzIElEQkRyaXZlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTtcclxuICAgICAgICB0aGlzLnNlbWFwaG9yZSA9IG5ldyBTZW1hcGhvcmUoKTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gVmVyc2lvbiBJbmNyZW1lbnRzXHJcbiAgICAvKiogKG11dGFibGUtZGF0YWJhc2UpIEFkZHMgdGhlc2Ugc3RvcmVzIHRvIHRoaXMgZGF0YWJhc2UuIFdpbGwgaW5jcmVtZW50IHRoZSBkYXRhYmFzZSBvbiB2ZXJzaW9uIGNoYW5nZS4gKi9cclxuICAgIGFkZChzdG9yZUtleXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW1hcGhvcmUucnVuKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBzdG9yZUtleSBvZiBzdG9yZUtleXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmRhdGFiYXNlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdGhpcy5kYXRhYmFzZS52ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JlcygpLmluY2x1ZGVzKHN0b3JlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlID0gYXdhaXQgSURCRHJpdmVyLm9wZW4obmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25zOiBbc3RvcmVLZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmFsczogW11cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIChtdXRhYmxlLWRhdGFiYXNlKSBSZW1vdmVzIHRoZXNlIHN0b3JlcyB0byB0aGlzIGRhdGFiYXNlLiBXaWxsIGluY3JlbWVudCB0aGUgZGF0YWJhc2Ugb24gdmVyc2lvbiBjaGFuZ2UuICovXHJcbiAgICByZW1vdmUoc3RvcmVLZXlzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VtYXBob3JlLnJ1bihhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3RvcmVLZXkgb2Ygc3RvcmVLZXlzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5kYXRhYmFzZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHRoaXMuZGF0YWJhc2UudmVyc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlcygpLmluY2x1ZGVzKHN0b3JlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlID0gYXdhaXQgSURCRHJpdmVyLm9wZW4obmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZhbHM6IFtzdG9yZUtleV1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBHZXQsIENvdW50IGFuZCBSZWFkXHJcbiAgICAvKiogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGlzIGRhdGFiYXNlLiAqL1xyXG4gICAgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhYmFzZS5uYW1lO1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBkYXRhYmFzZS4gKi9cclxuICAgIHZlcnNpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YWJhc2UudmVyc2lvbjtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHN0b3JlIG5hbWVzIGZvciB0aGlzIGRhdGFiYXNlLiAqL1xyXG4gICAgc3RvcmVzKCkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhYmFzZS5vYmplY3RTdG9yZU5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN0b3Jlcy5wdXNoKHRoaXMuZGF0YWJhc2Uub2JqZWN0U3RvcmVOYW1lc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdG9yZXM7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyBhIHN0b3JlIHJlY29yZCB3aXRoIHdpdGggdGhlIGdpdmVuIHJlY29yZEtleS4gKi9cclxuICAgIGdldChzdG9yZUtleSwgcmVjb3JkS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VtYXBob3JlLnJ1bigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYXRhYmFzZS50cmFuc2FjdGlvbihbc3RvcmVLZXldLCAncmVhZG9ubHknKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZUtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQocmVjb3JkS2V5KTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwic3VjY2Vzc1wiLCAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIENvdW50cyByZWNvcmRzIGluIHRoZSBnaXZlbiBzdG9yZS4gKi9cclxuICAgIGNvdW50KHN0b3JlS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VtYXBob3JlLnJ1bigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYXRhYmFzZS50cmFuc2FjdGlvbihbc3RvcmVLZXldLCAncmVhZG9ubHknKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZUtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5jb3VudCgpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgc3RvcmUgcmVjb3Jkcy4gVGhlIHdpbGwgcmVhZCB1bnRpbCAnbnVsbCcgYXMgbGFzdCByZWNvcmQuICovXHJcbiAgICByZWFkKHN0b3JlS2V5KSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IFJlYWRlcigpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYXRhYmFzZS50cmFuc2FjdGlvbihbc3RvcmVLZXldLCAncmVhZG9ubHknKTtcclxuICAgICAgICB0cmFuc2FjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4gcmVhZGVyLmVycm9yKHRyYW5zYWN0aW9uLmVycm9yKSk7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBsZXRlXCIsICgpID0+IHJlYWRlci53cml0ZShudWxsKSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZUtleSk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcclxuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiByZWFkZXIuZXJyb3IocmVxdWVzdC5lcnJvcikpO1xyXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlYWRlci53cml0ZShjdXJzb3IudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVhZGVyO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBUcmFuc2FjdGlvbnNcclxuICAgIC8qKiBBcHBsaWVzIGFuIHN0b3JlIHVwZGF0ZSBhZ2FpbnN0IHRoZSBnaXZlbiB0cmFuc2FjdGlvbi4gKi9cclxuICAgIHRyYW5zYWN0VXBkYXRlUmVjb3JkQ3Vyc29ycyh0cmFuc2FjdGlvbiwgc3RvcmVLZXksIHJlY29yZHMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlS2V5KTtcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4gcmVqZWN0KHRyYW5zYWN0aW9uLmVycm9yKSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZC5rZXkgPT09IGN1cnNvci5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnVwZGF0ZShyZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBVcGRhdGVzIHJlY29yZHMgd2l0aCB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24uICovXHJcbiAgICB0cmFuc2FjdFVwZGF0ZVJlY29yZHModHJhbnNhY3Rpb24sIHVwZGF0ZXMpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLnVwZGF0ZXMua2V5cygpXS5tYXAoc3RvcmVLZXkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWNvcmRzID0gdXBkYXRlcy5nZXQoc3RvcmVLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdFVwZGF0ZVJlY29yZEN1cnNvcnModHJhbnNhY3Rpb24sIHN0b3JlS2V5LCByZWNvcmRzKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICAvKiogSW5zZXJ0cyB0aGUgZ2l2ZW4gcmVjb3JkcyB3aXRoIHRoZSBnaXZlbiB0cmFuc2FjdGlvbi4gKi9cclxuICAgIHRyYW5zYWN0SW5zZXJ0UmVjb3Jkcyh0cmFuc2FjdGlvbiwgaW5zZXJ0cykge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RvcmVLZXkgb2YgaW5zZXJ0cy5rZXlzKCkpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZUtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZHMgPSBpbnNlcnRzLmdldChzdG9yZUtleSk7XHJcbiAgICAgICAgICAgIHJlY29yZHMuZm9yRWFjaChyZWNvcmQgPT4gc3RvcmUuYWRkKHJlY29yZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBEZWxldGVzIHRoZSBnaXZlbiByZWNvcmRzIHdpdGggdGhlIGdpdmVuIHRyYW5zYWN0aW9uLiAqL1xyXG4gICAgdHJhbnNhY3REZWxldGVSZWNvcmRzKHRyYW5zYWN0aW9uLCBkZWxldGVzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdG9yZUtleSBvZiBkZWxldGVzLmtleXMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlS2V5KTtcclxuICAgICAgICAgICAgY29uc3QgcmVjb3JkcyA9IGRlbGV0ZXMuZ2V0KHN0b3JlS2V5KTtcclxuICAgICAgICAgICAgcmVjb3Jkcy5mb3JFYWNoKHJlY29yZCA9PiBzdG9yZS5kZWxldGUocmVjb3JkLmtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBFeGVjdXRlcyBpbnNlcnRzIHwgdXBkYXRlcyBhbmQgZGVsZXRlcyBhcyBhIHNpbmdsZSBvcGVyYXRpb24uICovXHJcbiAgICB0cmFuc2FjdCh0cmFuc2FjdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbWFwaG9yZS5ydW4oKCkgPT4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZWxlY3Qgc3RvcmVLZXlzIGRpc3RpbmN0XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlS2V5cyA9IFtcclxuICAgICAgICAgICAgICAgIC4uLnRyYW5zYWN0Lmluc2VydHMua2V5cygpLFxyXG4gICAgICAgICAgICAgICAgLi4udHJhbnNhY3QuZGVsZXRlcy5rZXlzKCksXHJcbiAgICAgICAgICAgICAgICAuLi50cmFuc2FjdC51cGRhdGVzLmtleXMoKVxyXG4gICAgICAgICAgICBdLmZpbHRlcigodmFsdWUsIGluZGV4LCByZXN1bHQpID0+IHJlc3VsdC5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoc3RvcmVLZXlzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgdHJhbnNhY3Rpb24gYWNyb3NzIHN0b3JlS2V5c1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGF0YWJhc2UudHJhbnNhY3Rpb24oc3RvcmVLZXlzLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXJyb3IpID0+IHJlamVjdChlcnJvci50YXJnZXQuZXJyb3IpKTtcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBsZXRlXCIsICgpID0+IHJlc29sdmUoKSk7XHJcbiAgICAgICAgICAgIGlmIChbLi4udHJhbnNhY3QuaW5zZXJ0cy5rZXlzKCldLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3RJbnNlcnRSZWNvcmRzKHRyYW5zYWN0aW9uLCB0cmFuc2FjdC5pbnNlcnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoWy4uLnRyYW5zYWN0LnVwZGF0ZXMua2V5cygpXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zYWN0VXBkYXRlUmVjb3Jkcyh0cmFuc2FjdGlvbiwgdHJhbnNhY3QudXBkYXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFsuLi50cmFuc2FjdC5kZWxldGVzLmtleXMoKV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdERlbGV0ZVJlY29yZHModHJhbnNhY3Rpb24sIHRyYW5zYWN0LmRlbGV0ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIENsb3NlcyB0aGlzIGRhdGFiYXNlLiAqL1xyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhYmFzZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBTdGF0aWNzXHJcbiAgICAvKiogT3BlbnMgdGhpcyBkYXRhYmFzZSAqL1xyXG4gICAgc3RhdGljIG9wZW4oZGF0YWJhc2VLZXksIG9wdGlvbnMgPSB7IGFkZGl0aW9uczogW10sIHJlbW92YWxzOiBbXSB9KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IERCRmFjdG9yeSgpLm9wZW4oZGF0YWJhc2VLZXksIG9wdGlvbnMudmVyc2lvbik7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcikpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInVwZ3JhZGVuZWVkZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hZGRpdGlvbnMuZm9yRWFjaChzdG9yZUtleSA9PiB1cGRhdGVkLmNyZWF0ZU9iamVjdFN0b3JlKHN0b3JlS2V5LCB7IGtleVBhdGg6ICdrZXknIH0pKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVtb3ZhbHMuZm9yRWFjaChzdG9yZUtleSA9PiB1cGRhdGVkLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlS2V5KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIENvbm5lY3RzIHRvIGFuIElEQiBpbnN0YW5jZS4gKi9cclxuICAgIHN0YXRpYyBhc3luYyBjb25uZWN0KGRhdGFiYXNlS2V5KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YWJhc2UgPSBhd2FpdCBJREJEcml2ZXIub3BlbihkYXRhYmFzZUtleSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJREJEcml2ZXIoZGF0YWJhc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqIERyb3BzIHRoaXMgZGF0YWJhc2UuICovXHJcbiAgICBzdGF0aWMgZHJvcChkYXRhYmFzZUtleSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBEQkZhY3RvcnkoKS5kZWxldGVEYXRhYmFzZShkYXRhYmFzZUtleSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLklEQkRyaXZlciA9IElEQkRyaXZlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY2xhc3MgRmlsZU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihrZXkpIHtcclxuICAgICAgICBzdXBlcihgRmlsZSAnJHtrZXl9JyBub3QgZm91bmRgKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZpbGVOb3RGb3VuZEVycm9yID0gRmlsZU5vdEZvdW5kRXJyb3I7XHJcbmNsYXNzIEJsb2JOb3RGb3VuZCBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGtleSwgYmxvYktleSkge1xyXG4gICAgICAgIHN1cGVyKGBCbG9iICcke2Jsb2JLZXl9JyBub3QgZm91bmQgZm9yIGZpbGUgJyR7a2V5fSdgKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJsb2JOb3RGb3VuZCA9IEJsb2JOb3RGb3VuZDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBhZ2VfMSA9IHJlcXVpcmUoXCIuL3BhZ2VcIik7XHJcbmV4cG9ydHMuUGFnZUh1YlNlcnZlciA9IHBhZ2VfMS5QYWdlSHViU2VydmVyO1xyXG52YXIgcGFnZV8yID0gcmVxdWlyZShcIi4vcGFnZVwiKTtcclxuZXhwb3J0cy5QYWdlSHViID0gcGFnZV8yLlBhZ2VIdWI7XHJcbnZhciBuZXR3b3JrXzEgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xyXG5leHBvcnRzLk5ldHdvcmtIdWIgPSBuZXR3b3JrXzEuTmV0d29ya0h1YjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLWh1YlxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VydmVyXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XHJcbmV4cG9ydHMuUGFnZUh1YlNlcnZlciA9IHNlcnZlcl8xLlBhZ2VIdWJTZXJ2ZXI7XHJcbnZhciBjbGllbnRfMSA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcclxuZXhwb3J0cy5QYWdlSHViID0gY2xpZW50XzEuUGFnZUh1YjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgc2VydmVyXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XHJcbmV4cG9ydHMuU2VydmVyID0gc2VydmVyXzEuU2VydmVyO1xyXG5jb25zdCBzb2NrZXRfMSA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcclxuZXhwb3J0cy5Tb2NrZXQgPSBzb2NrZXRfMS5Tb2NrZXQ7XHJcbi8qKiBDcmVhdGVzIGEgcGFnZSBzb2NrZXQgc2VydmVyLiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXIoZnVuYykge1xyXG4gICAgcmV0dXJuIG5ldyBzZXJ2ZXJfMS5TZXJ2ZXIoZnVuYyk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVTZXJ2ZXIgPSBjcmVhdGVTZXJ2ZXI7XHJcbi8qKiBDb25uZWN0cyB0byBhIHBhZ2Ugc29ja2V0IHNlcnZlci4gKi9cclxuZnVuY3Rpb24gY29ubmVjdChwb3J0KSB7XHJcbiAgICByZXR1cm4gc29ja2V0XzEuU29ja2V0LmNvbm5lY3QocG9ydCk7XHJcbn1cclxuZXhwb3J0cy5jb25uZWN0ID0gY29ubmVjdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9hc3luY1wiKTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gQnVzXHJcbi8vXHJcbi8vIFNpbXBsZSBtZXNzYWdpbmcgYmFjay1wbGFuZSBmb3IgaW4tbWVtb3J5IHNvY2tldCBzZXJ2ZXJzIGFuZCBjbGllbnRzLiBcclxuLy8gU3Vic2NyaWJlZCBvbiBieSBib3RoIHNpZGVzIHRvIGZhY2lsaWF0ZSBtZXNzYWdpbmcgZXhjaGFuZ2Ugd2l0aCB0aGVcclxuLy8gZXZlbnQgJ3RvcGljJyB1c2VkIGFzIGEgc3Vic2NyaXB0aW9uIGNoYW5uZWwgZm9yIGVpdGhlciBzaWRlLlxyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnRzLkJ1cyA9IG5ldyBhc3luY18xLkV2ZW50cygpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uLy4uLy4uL2FzeW5jXCIpO1xyXG5jb25zdCBidXNfMSA9IHJlcXVpcmUoXCIuL2J1c1wiKTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gU29ja2V0XHJcbi8vXHJcbi8vIEEgdmlydHVhbCB3ZWIgc29ja2V0LlxyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jbGFzcyBTb2NrZXQgZXh0ZW5kcyBhc3luY18xLkV2ZW50cyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZW5kRnVuY3Rpb24sIGNsb3NlRnVuY3Rpb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2VuZEZ1bmN0aW9uID0gc2VuZEZ1bmN0aW9uO1xyXG4gICAgICAgIHRoaXMuY2xvc2VGdW5jdGlvbiA9IGNsb3NlRnVuY3Rpb247XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZXMgdG8gZXZlbnRzIG9uIHRoaXMgc29ja2V0IG9uY2UuICAqL1xyXG4gICAgb25jZShldmVudCwgZnVuYykge1xyXG4gICAgICAgIHN1cGVyLm9uY2UoZXZlbnQsIGZ1bmMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZXMgdG8gZXZlbnRzIG9uIHRoaXMgc29ja2V0LiAgKi9cclxuICAgIG9uKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGZ1bmMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGlzIHNvY2tldC4gICovXHJcbiAgICBzZW5kKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignY2Fubm90IHNlbmQgdG8gZGlzcG9zZWQgc29ja2V0LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbmRGdW5jdGlvbihkYXRhKTtcclxuICAgIH1cclxuICAgIC8qKiBDbG9zZXMgdGhpcyBzb2NrZXQuICovXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIHNvY2tldC4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlRnVuY3Rpb24oKTtcclxuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBDb25uZWN0cyB0byBhIHZpcnR1YWxpemVkIHNvY2tldCBzZXJ2ZXIgb24gdGhlIGdpdmVuIHBvcnQuICovXHJcbiAgICBzdGF0aWMgY29ubmVjdChwb3J0KSB7XHJcbiAgICAgICAgbGV0IGNoYW5uZWw7XHJcbiAgICAgICAgLy8gQ3JlYXRlIG91dGJvdW5kIHNvY2tldCB0byBzZXJ2ZXIuIE5vdGUgdGhhdCB0aGVcclxuICAgICAgICAvLyBgY2hhbm5lbGAgd2lsbCBiZSBgdW5kZWZpbmVkYCB1bnRpbCBzdWNoIHRpbWUgYXNcclxuICAgICAgICAvLyB0aGUgY2xpZW50IGhhcyBzdWNjZXNzZnVsbHkgY29ubmVjdGVkLlxyXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IG5ldyBTb2NrZXQoKG1lc3NhZ2UpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBidXNfMS5CdXMuZW1pdChgJHtwb3J0fToke2NoYW5uZWx9OnNlcnZlcjptZXNzYWdlYCwgbWVzc2FnZSk7XHJcbiAgICAgICAgfSwgMCksICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBidXNfMS5CdXMuZW1pdChgJHtwb3J0fToke2NoYW5uZWx9OnNlcnZlcjpjbG9zZWApO1xyXG4gICAgICAgICAgICBzb2NrZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgIH0sIDApKTtcclxuICAgICAgICAvLyBTZXRzIHVwIGEgdGltZW91dCB0byBoYW5kbGUgY29ubmVjdGlvbiBhdHRlbXB0cyB0b1xyXG4gICAgICAgIC8vIG5vbiByZXNwb25kaW5nIHBvcnRzLiBUaGlzIHRpbWVvdXQgaXMgY2xlYXJlZCBvblxyXG4gICAgICAgIC8vIHNlcnZlciByZXNwb25zZS5cclxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc29ja2V0IGNvbm5lY3QgdGltZW91dCcpKTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgIHNvY2tldC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAvLyBDcmVhdGUgb3V0Ym91bmQgc29ja2V0IHRvIHNlcnZlci4gTm90ZSB0aGF0IHRoZVxyXG4gICAgICAgIC8vIGBjaGFubmVsYCB3aWxsIGJlIGB1bmRlZmluZWRgIHVudGlsIHN1Y2ggdGltZSBhc1xyXG4gICAgICAgIC8vIHRoZSBjbGllbnQgaGFzIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGJ1c18xLkJ1cy5lbWl0KGAke3BvcnR9OnNlcnZlcjpjb25uZWN0YCk7XHJcbiAgICAgICAgICAgIGJ1c18xLkJ1cy5vbmNlKGAke3BvcnR9OmNsaWVudDpjb25uZWN0YCwgKGNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFubmVsID0gY2g7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAvLyBFbWl0IG1lc3NhZ2VzIHJlY2VpdmVkIG92ZXIgdGhpcyBidXMgY2hhbm5lbCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNvY2tldC4gQ2xvc2VkIG1lc3NhZ2VzIHJlc3VsdCBpbiB0aGUgdGVybWluYXRpb25cclxuICAgICAgICAgICAgICAgIC8vIG9mIHRoaXMgc29ja2V0LlxyXG4gICAgICAgICAgICAgICAgYnVzXzEuQnVzLm9uKGAke3BvcnR9OiR7Y2hhbm5lbH06Y2xpZW50Om1lc3NhZ2VgLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdtZXNzYWdlJywgeyBkYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBidXNfMS5CdXMub24oYCR7cG9ydH06JHtjaGFubmVsfTpjbGllbnQ6Y2xvc2VgLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gRW1pdCAnZW1pdCdcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzb2NrZXQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Tb2NrZXQgPSBTb2NrZXQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBuZXR3b3JrXzEgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xyXG5leHBvcnRzLk5ldHdvcmsgPSBuZXR3b3JrXzEuTmV0d29yaztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgc29ja2V0XzEgPSByZXF1aXJlKFwiLi9zb2NrZXRcIik7XHJcbi8qKlxyXG4gKiBBIG5ldHdvcmsgc29ja2V0IHNlcnZlci4gQWNjZXB0cyBpbmNvbWluZyBzb2NrZXRzIGZyb20gcmVtb3RlIHBlZXJzIGFuZFxyXG4gKiBkaXNwYXRjaGVzIHRoZSBpbmNvbWluZyBzb2NrZXQgdG8gYSBsaXN0ZW4gZnVuY3Rpb24uIFRoaXMgc2VydmVyIGlzXHJcbiAqIGRlc2lnbmVkIHRvIGZ1bmN0aW9uIGxpa2UgYSBub2RlanMgd2ViIHNvY2tldCBzZXJ2ZXIuXHJcbiAqL1xyXG5jbGFzcyBTb2NrZXRTZXJ2ZXIge1xyXG4gICAgY29uc3RydWN0b3IobmV0LCBmdW5jKSB7XHJcbiAgICAgICAgdGhpcy5uZXQgPSBuZXQ7XHJcbiAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcclxuICAgICAgICB0aGlzLmxpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKiBTdGFydHMgdGhpcyBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHRoZSBnaXZlbiBwb3J0LiAgKi9cclxuICAgIGxpc3Rlbihwb3J0KSB7XHJcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydC50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMubmV0LmJpbmRQb3J0KHRoaXMucG9ydCwgY2hhbm5lbCA9PiB0aGlzLm9uQ2hhbm5lbChjaGFubmVsKSk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgc2VydmVyIGFuZCB1bmJpbmRzIGl0cyBwb3J0LiAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGlzcG9zZWQgJiYgdGhpcy5saXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXQudW5iaW5kUG9ydCh0aGlzLnBvcnQpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogQWNjZXB0cyBpbmNvbWluZyBjaGFubmVscyBzZW50IGZyb20gdGhlIG5ldHdvcmsuICovXHJcbiAgICBhc3luYyBvbkNoYW5uZWwoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBbcGVlciwgY2hhbm5lbF0gPSBldmVudDtcclxuICAgICAgICByZXR1cm4gdGhpcy5mdW5jKGF3YWl0IHNvY2tldF8xLlNvY2tldC5mcm9tQ2hhbm5lbChwZWVyLmNvbm5lY3Rpb24sIGNoYW5uZWwsIHBlZXIubG9jYWwsIHBlZXIucmVtb3RlKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Tb2NrZXRTZXJ2ZXIgPSBTb2NrZXRTZXJ2ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciByZXN0XzEgPSByZXF1aXJlKFwiLi9yZXN0XCIpO1xyXG5leHBvcnRzLlJlc3QgPSByZXN0XzEuUmVzdDtcclxudmFyIGZldGNoXzEgPSByZXF1aXJlKFwiLi9mZXRjaFwiKTtcclxuZXhwb3J0cy5GZXRjaCA9IGZldGNoXzEuRmV0Y2g7XHJcbmV4cG9ydHMuRmV0Y2hSZXF1ZXN0ID0gZmV0Y2hfMS5GZXRjaFJlcXVlc3Q7XHJcbmV4cG9ydHMuRmV0Y2hSZXNwb25zZSA9IGZldGNoXzEuRmV0Y2hSZXNwb25zZTtcclxudmFyIHNlcnZlcl8xID0gcmVxdWlyZShcIi4vc2VydmVyXCIpO1xyXG5leHBvcnRzLlJvdXRlciA9IHNlcnZlcl8xLlJvdXRlcjtcclxuZXhwb3J0cy5Sb3V0ZSA9IHNlcnZlcl8xLlJvdXRlO1xyXG52YXIgc2VydmVyXzIgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XHJcbmV4cG9ydHMuUmVzdFNlcnZlciA9IHNlcnZlcl8yLlJlc3RTZXJ2ZXI7XHJcbmV4cG9ydHMuUmVzdFJlcXVlc3QgPSBzZXJ2ZXJfMi5SZXN0UmVxdWVzdDtcclxuZXhwb3J0cy5SZXN0UmVzcG9uc2UgPSBzZXJ2ZXJfMi5SZXN0UmVzcG9uc2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHF1ZXJ5c3RyaW5nXzEgPSByZXF1aXJlKFwiLi4vLi4vcXVlcnlzdHJpbmdcIik7XHJcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcIi4uLy4uL3VybFwiKTtcclxuY29uc3QgbWlkZGxld2FyZV8xID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZVwiKTtcclxuY29uc3QgcGF0dGVybl8xID0gcmVxdWlyZShcIi4vcGF0dGVyblwiKTtcclxuLyoqXHJcbiAqIEEgcm91dGUgdHlwZSB0byBzZXJ2aWNlIGEgc2luZ2xlIHJlcXVlc3QgZW5kcG9pbnQuXHJcbiAqL1xyXG5jbGFzcyBSb3V0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHBhdHRlcm4sIG1pZGRsZXdhcmUsIGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcclxuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xyXG4gICAgICAgIHRoaXMubWlkZGxld2FyZSA9IG1pZGRsZXdhcmU7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcclxuICAgIH1cclxuICAgIC8qKiBSdW5zIHRoaXMgcm91dGUuICovXHJcbiAgICBoYW5kbGUocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSB1cmxfMS5VcmwucGFyc2UocmVxdWVzdC51cmwpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMucGF0dGVybi5tYXRjaCh1cmwucGF0aG5hbWUpO1xyXG4gICAgICAgIGlmIChwYXJhbXMgJiYgcmVxdWVzdC5tZXRob2QgPT09IHRoaXMubWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3QucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnBhdGggPSB1cmwucGF0aDtcclxuICAgICAgICAgICAgcmVxdWVzdC5xdWVyeSA9IHF1ZXJ5c3RyaW5nXzEuUXVlcnlTdHJpbmcucGFyc2UocmVxdWVzdC51cmwpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWlkZGxld2FyZV8xLnJ1blN0YWNrKFsuLi50aGlzLm1pZGRsZXdhcmVdLCByZXF1ZXN0LCByZXNwb25zZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Sb3V0ZSA9IFJvdXRlO1xyXG4vKipcclxuICogQSBSRVNUIHJvdXRlciB0eXBlLiBBbGxvd3MgZm9yIHJlZ2lzdGVyaW5nIHBhdHRlcm5lZCBSRVNUIGVuZHBvaW50cy4gVGhpc1xyXG4gKiB0eXBlIGlzIGRlc2lnbmVkIHRvIG1pcnJvciB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGUgbm9kZWpzIGV4cHJlc3Mgcm91dGVyLlxyXG4gKiBUaGUgUmVzdFNlcnZlciBpcyBhIHN1YmNsYXNzIG9mIHRoaXMgcm91dGVyLlxyXG4gKi9cclxuY2xhc3MgUm91dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubWlkZGxld2FyZSA9IFtdO1xyXG4gICAgfVxyXG4gICAgZ2V0KC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2QuYXBwbHkodGhpcywgWydnZXQnLCAuLi5hcmdzXSk7XHJcbiAgICB9XHJcbiAgICBwb3N0KC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2QuYXBwbHkodGhpcywgWydwb3N0JywgLi4uYXJnc10pO1xyXG4gICAgfVxyXG4gICAgcHV0KC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2QuYXBwbHkodGhpcywgWydwdXQnLCAuLi5hcmdzXSk7XHJcbiAgICB9XHJcbiAgICBwYXRjaCguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kLmFwcGx5KHRoaXMsIFsncGF0Y2gnLCAuLi5hcmdzXSk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZC5hcHBseSh0aGlzLCBbJ2RlbGV0ZScsIC4uLmFyZ3NdKTtcclxuICAgIH1cclxuICAgIG1ldGhvZCguLi5hcmdzKSB7XHJcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFttZXRob2QsIGVuZHBvaW50LCBtaWRkbGV3YXJlLCBmdW5jXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0gbWlkZGxld2FyZS5tYXAoKG0pID0+IG1pZGRsZXdhcmVfMS5hc01pZGRsZXdhcmUobSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51c2UobmV3IFJvdXRlKG1ldGhvZCwgbmV3IHBhdHRlcm5fMS5QYXR0ZXJuKGVuZHBvaW50KSwgcmVzb2x2ZWQsIGZ1bmMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcclxuICAgICAgICAgICAgY29uc3QgW21ldGhvZCwgZW5kcG9pbnQsIGZ1bmNdID0gYXJncztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlKG5ldyBSb3V0ZShtZXRob2QsIG5ldyBwYXR0ZXJuXzEuUGF0dGVybihlbmRwb2ludCksIFtdLCBmdW5jKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IEVycm9yKCdpbnZhbGlkIGFyZ3VtZW50Jyk7XHJcbiAgICB9XHJcbiAgICAvKiogQWRkcyB0aGlzIG1pZGRsZXdhcmUgdG8gdGhpcyByb3V0ZXIuICAqL1xyXG4gICAgdXNlKG1pZGRsZXdhcmUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG1pZGRsZXdhcmUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gbWlkZGxld2FyZTtcclxuICAgICAgICAgICAgdGhpcy5taWRkbGV3YXJlLnB1c2goeyBoYW5kbGUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1pZGRsZXdhcmUucHVzaChtaWRkbGV3YXJlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogUnVucyB0aGlzIHJvdXRlciBhcyBtaWRkbGV3YXJlLiAqL1xyXG4gICAgaGFuZGxlKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XHJcbiAgICAgICAgbWlkZGxld2FyZV8xLnJ1blN0YWNrKFsuLi50aGlzLm1pZGRsZXdhcmVdLCByZXF1ZXN0LCByZXNwb25zZSwgKCkgPT4gbmV4dCgpKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vLi4vYnVmZmVyXCIpO1xyXG5jb25zdCBwcm90b2NvbF8xID0gcmVxdWlyZShcIi4uL3Byb3RvY29sXCIpO1xyXG5jbGFzcyBJbnZhbGlkUmVxdWVzdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuSW52YWxpZFJlcXVlc3RFcnJvciA9IEludmFsaWRSZXF1ZXN0RXJyb3I7XHJcbmNsYXNzIFJlYWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZWFkUmVxdWVzdEVycm9yID0gUmVhZFJlcXVlc3RFcnJvcjtcclxuLyoqXHJcbiAqIFRoZSBSRVNUIHNlcnZlciByZXF1ZXN0IHR5cGUuXHJcbiAqL1xyXG5jbGFzcyBSZXN0UmVxdWVzdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdHJlYW0sIGhlYWRlcikge1xyXG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xyXG4gICAgICAgIHRoaXMubG9jYWwgPSB0aGlzLnN0cmVhbS5zb2NrZXQubG9jYWw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGUgPSB0aGlzLnN0cmVhbS5zb2NrZXQucmVtb3RlO1xyXG4gICAgICAgIHRoaXMudXJsID0gaGVhZGVyLnVybDtcclxuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXIuaGVhZGVycztcclxuICAgICAgICB0aGlzLm1ldGhvZCA9IGhlYWRlci5tZXRob2Q7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gJyc7XHJcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0ge307XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIGJvZHkgb2YgdGhpcyByZXF1ZXN0IGFzIGEgcmVhZGFibGUgc3RyZWFtLiAqL1xyXG4gICAgcmVhZGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3RvY29sXzEuQm9keVByb3RvY29sLnJlYWRSZWFkYWJsZSh0aGlzLnN0cmVhbSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIGJvZHkgb2YgdGhpcyByZXF1ZXN0IGFzIGEgYnVmZmVyLiAqL1xyXG4gICAgYXN5bmMgYnVmZmVyKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGJ1ZmZlciBvZiB0aGlzLnJlYWRhYmxlKCkpIHtcclxuICAgICAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJlYWRzIHRoZSBib2R5IG9mIHRoaXMgcmVxdWVzdCBhcyB0ZXh0LiAqL1xyXG4gICAgYXN5bmMgdGV4dChlbmNvZGluZykge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuYnVmZmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZyhlbmNvZGluZyk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIGJvZHkgb2YgdGhpcyByZXF1ZXN0IGFzIGEgSlNPTiBvYmplY3QuICovXHJcbiAgICBhc3luYyBqc29uKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuYnVmZmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcpKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlJlc3RSZXF1ZXN0ID0gUmVzdFJlcXVlc3Q7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4uLy4uL2J1ZmZlclwiKTtcclxuY29uc3Qgc3RyZWFtc18xID0gcmVxdWlyZShcIi4uLy4uL3N0cmVhbXNcIik7XHJcbmNvbnN0IHByb3RvY29sXzEgPSByZXF1aXJlKFwiLi4vcHJvdG9jb2xcIik7XHJcbi8qKlxyXG4gKiBBIE1lZGlhU3RyZWFtIGNvbnRleHQgdHlwZSBnaXZlbiBhcyBhIGhhbmRsZSB3aGVuIHNlbmRpbmcgbWVkaWFzdHJlYW1zIGFzXHJcbiAqIHJlc3BvbnNlcy4gSXQgaGFuZGxlcyBwdWxzaW5nIHRoZSBtZXNzYWdlcyBkb3duIHRoZSByZWNlaXZlciB3aGljaCBrZWVwc1xyXG4gKiB0aGUgbWVkaWFzdHJlYW0gcGlwZSBvcGVuLiBDYWxsZXJzIGNhbiBjYWxsIHRoZSBkaXNwb3NlKCkgbWV0aG9kIHRvIHRlcm1pbmF0ZVxyXG4gKiBvdXRib3VuZCBzdHJlYW1zLlxyXG4gKi9cclxuY2xhc3MgTWVkaWFTdHJlYW1Db250ZXh0IHtcclxuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSkge1xyXG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xyXG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRyYW5zbWl0KCk7XHJcbiAgICB9XHJcbiAgICAvKiogRGlzcG9zZXMgb2YgdGhpcyBtZWRpYXN0cmVhbS4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGFzeW5jIGRlbGF5KG1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgdHJhbnNtaXQoKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RyZWFtaW5nKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RyZWFtLndyaXRhYmxlLndyaXRlKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKFsxXSkpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IHRoaXMuc3RyZWFtLndyaXRhYmxlLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5NZWRpYVN0cmVhbUNvbnRleHQgPSBNZWRpYVN0cmVhbUNvbnRleHQ7XHJcbmNsYXNzIFJlc3BvbnNlQWxyZWFkeVNlbnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdSZXNwb25zZXMgY2FuIG9ubHkgYmUgc2VudCBvbmNlLicpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVzcG9uc2VBbHJlYWR5U2VudEVycm9yID0gUmVzcG9uc2VBbHJlYWR5U2VudEVycm9yO1xyXG4vKipcclxuICogVGhlIFJFU1Qgc2VydmVyIHJlc3BvbnNlIHR5cGUuXHJcbiAqL1xyXG5jbGFzcyBSZXN0UmVzcG9uc2Uge1xyXG4gICAgY29uc3RydWN0b3Ioc3RyZWFtKSB7XHJcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XHJcbiAgICAgICAgLyoqIFRoZSBoZWFkZXJzIHNlbnQgd2l0aCB0aGlzIHJlcXVlc3QuICovXHJcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XHJcbiAgICAgICAgLyoqIFRoZSBzdGF0dXMgY29kZS4gVXNlIHN0YW5kYXJkIEhUVFAgc3RhdHVzIGNvZGUuICovXHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5zZW50ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zbWl0cyBhIG1lZGlhc3RyZWFtIG9uIHRoZSByZXNwb25zZS4gVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgY29udGV4dFxyXG4gICAgICogb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIGRpc3Bvc2Ugb2YgdGhlIG91dGJvdW5kIG1lZGlhc3RyZWFtLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBtZWRpYXN0cmVhbShtZWRpYXN0cmVhbSwgc3RhdHVzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2VBbHJlYWR5U2VudEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VudCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXMgfHwgdGhpcy5zdGF0dXM7XHJcbiAgICAgICAgYXdhaXQgcHJvdG9jb2xfMS5IZWFkZXJQcm90b2NvbC53cml0ZVJlc3BvbnNlSGVhZGVyKHRoaXMuc3RyZWFtLCB7XHJcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGF3YWl0IHByb3RvY29sXzEuQm9keVByb3RvY29sLndyaXRlTWVkaWFTdHJlYW0odGhpcy5zdHJlYW0sIG1lZGlhc3RyZWFtKTtcclxuICAgICAgICByZXR1cm4gbmV3IE1lZGlhU3RyZWFtQ29udGV4dCh0aGlzLnN0cmVhbSk7XHJcbiAgICB9XHJcbiAgICAvKiogU3RyZWFtcyBhIHJlYWRhYmxlIGFzIHRoZSBib2R5IG9mIHRoZSByZXNwb25zZS4gKi9cclxuICAgIGFzeW5jIHJlYWRhYmxlKHJlYWRhYmxlLCBzdGF0dXMpIHtcclxuICAgICAgICBpZiAodGhpcy5zZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUFscmVhZHlTZW50RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZW50ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cyB8fCB0aGlzLnN0YXR1cztcclxuICAgICAgICBhd2FpdCBwcm90b2NvbF8xLkhlYWRlclByb3RvY29sLndyaXRlUmVzcG9uc2VIZWFkZXIodGhpcy5zdHJlYW0sIHtcclxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgcHJvdG9jb2xfMS5Cb2R5UHJvdG9jb2wud3JpdGVSZWFkYWJsZSh0aGlzLnN0cmVhbSwgcmVhZGFibGUpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc3RyZWFtLndyaXRhYmxlLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvKiogU3RyZWFtcyBhIHF1ZXJ5YWJsZSBhcyB0aGUgYm9keSBvZiB0aGUgcmVzcG9uc2UuICovXHJcbiAgICBhc3luYyBxdWVyeShxdWVyeWFibGUsIHN0YXR1cykge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlQWxyZWFkeVNlbnRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzIHx8IHRoaXMuc3RhdHVzO1xyXG4gICAgICAgIGF3YWl0IHByb3RvY29sXzEuSGVhZGVyUHJvdG9jb2wud3JpdGVSZXNwb25zZUhlYWRlcih0aGlzLnN0cmVhbSwge1xyXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBwcm90b2NvbF8xLkJvZHlQcm90b2NvbC53cml0ZVF1ZXJ5YWJsZSh0aGlzLnN0cmVhbSwgcXVlcnlhYmxlKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnN0cmVhbS53cml0YWJsZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNlbmRzIGEgYnVmZmVyIHJlc3BvbnNlLiAqL1xyXG4gICAgYXN5bmMgYnVmZmVyKGJ1ZmZlciwgc3RhdHVzKSB7XHJcbiAgICAgICAgY29uc3QgcXVldWUgPSBbYnVmZmVyXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkYWJsZShuZXcgc3RyZWFtc18xLlJlYWRhYmxlKHtcclxuICAgICAgICAgICAgcHVsbDogYXN5bmMgKGNvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHF1ZXVlLnNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSksIHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICAvKiogU2VuZHMgYSBzdHJpbmcgb3IgYnVmZmVyIGRhdGEgcmVzcG9uc2UuICovXHJcbiAgICBhc3luYyBzZW5kKGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcihidWZmZXJfMS5CdWZmZXIuZnJvbShkYXRhKSwgc3RhdHVzKTtcclxuICAgIH1cclxuICAgIC8qKiBTZW5kcyBhIFRFWFQgcmVzcG9uc2Ugd2l0aCBDb250ZW50LVR5cGUgJ3RleHQvcGxhaW4nICovXHJcbiAgICBhc3luYyB0ZXh0KGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAndGV4dC9wbGFpbic7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEpLCBzdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNlbmRzIGEgSlNPTiByZXNwb25zZSB3aXRoIENvbnRlbnQtVHlwZSAnYXBwbGljYXRpb24vanNvbicgKi9cclxuICAgIGFzeW5jIGpzb24oZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJfMS5CdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKGJ1ZmZlciwgc3RhdHVzKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlJlc3RSZXNwb25zZSA9IFJlc3RSZXNwb25zZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3JlcXVlc3RcIik7XHJcbmV4cG9ydHMuRmV0Y2hSZXF1ZXN0ID0gcmVxdWVzdF8xLkZldGNoUmVxdWVzdDtcclxudmFyIHJlc3BvbnNlXzEgPSByZXF1aXJlKFwiLi9yZXNwb25zZVwiKTtcclxuZXhwb3J0cy5GZXRjaFJlc3BvbnNlID0gcmVzcG9uc2VfMS5GZXRjaFJlc3BvbnNlO1xyXG52YXIgZmV0Y2hfMSA9IHJlcXVpcmUoXCIuL2ZldGNoXCIpO1xyXG5leHBvcnRzLkZldGNoID0gZmV0Y2hfMS5GZXRjaDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgcHJvdG9jb2xfMSA9IHJlcXVpcmUoXCIuLi9wcm90b2NvbFwiKTtcclxuLyoqXHJcbiAqIFRoZSBGZXRjaCByZXF1ZXN0IHR5cGUuXHJcbiAqL1xyXG5jbGFzcyBGZXRjaFJlcXVlc3Qge1xyXG4gICAgY29uc3RydWN0b3Ioc3RyZWFtLCBoZWFkZXIsIGJvZHkpIHtcclxuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcclxuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcclxuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xyXG4gICAgfVxyXG4gICAgYXN5bmMgZ2V0UmVzcG9uc2UoKSB7XHJcbiAgICAgICAgYXdhaXQgcHJvdG9jb2xfMS5IZWFkZXJQcm90b2NvbC53cml0ZVJlcXVlc3RIZWFkZXIodGhpcy5zdHJlYW0sIHRoaXMuaGVhZGVyKTtcclxuICAgICAgICBwcm90b2NvbF8xLkJvZHlQcm90b2NvbC53cml0ZVJlYWRhYmxlKHRoaXMuc3RyZWFtLCB0aGlzLmJvZHksIHsgaWdub3JlRXJyb3I6IHRydWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIHByb3RvY29sXzEuSGVhZGVyUHJvdG9jb2wucmVhZFJlc3BvbnNlSGVhZGVyKHRoaXMuc3RyZWFtKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZldGNoUmVxdWVzdCA9IEZldGNoUmVxdWVzdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vLi4vYnVmZmVyXCIpO1xyXG5jb25zdCBwcm90b2NvbF8xID0gcmVxdWlyZShcIi4uL3Byb3RvY29sXCIpO1xyXG4vKipcclxuICogVGhlIEZldGNoIHJlc3BvbnNlIHR5cGUuXHJcbiAqL1xyXG5jbGFzcyBGZXRjaFJlc3BvbnNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgcmVzcG9uc2UpIHtcclxuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gdGhpcy5yZXNwb25zZS5oZWFkZXJzO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gdGhpcy5yZXNwb25zZS5zdGF0dXM7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIGJvZHkgb2YgdGhpcyByZXNwb25zZSBhcyBhIHJlYWRhYmxlLiAqL1xyXG4gICAgcmVhZGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3RvY29sXzEuQm9keVByb3RvY29sLnJlYWRSZWFkYWJsZSh0aGlzLnN0cmVhbSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIGJvZHkgb2YgdGhpcyByZXNwb25zZSBhcyBhIHF1ZXJ5YWJsZS4gKi9cclxuICAgIHF1ZXJ5KCkge1xyXG4gICAgICAgIHJldHVybiBwcm90b2NvbF8xLkJvZHlQcm90b2NvbC5yZWFkUXVlcnlhYmxlKHRoaXMuc3RyZWFtKTtcclxuICAgIH1cclxuICAgIC8qKiBSZWFkcyB0aGUgYm9keSBvZiB0aGlzIHJlc3BvbnNlIGFzIGEgbWVkaWFzdHJlYW0uICovXHJcbiAgICBtZWRpYXN0cmVhbSgpIHtcclxuICAgICAgICByZXR1cm4gcHJvdG9jb2xfMS5Cb2R5UHJvdG9jb2wucmVhZE1lZGlhU3RyZWFtKHRoaXMuc3RyZWFtKTtcclxuICAgIH1cclxuICAgIC8qKiBSZWFkcyB0aGUgYm9keSBvZiB0aGlzIHJlc3BvbnNlIGFzIGEgYnVmZmVyLiAqL1xyXG4gICAgYXN5bmMgYnVmZmVyKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGJ1ZmZlciBvZiB0aGlzLnJlYWRhYmxlKCkpIHtcclxuICAgICAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJlYWRzIHRoZSBib2R5IG9mIHRoaXMgcmVzcG9uc2UgYXMgYSBzdHJpbmcuICovXHJcbiAgICBhc3luYyB0ZXh0KGVuY29kaW5nKSB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgdGhpcy5idWZmZXIoKTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKTtcclxuICAgIH1cclxuICAgIC8qKiBSZWFkcyB0aGUgYm9keSBvZiB0aGlzIHJlc3BvbnNlIGFzIGEgSlNPTiBvYmplY3QuICovXHJcbiAgICBhc3luYyBqc29uKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuYnVmZmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcpKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZldGNoUmVzcG9uc2UgPSBGZXRjaFJlc3BvbnNlO1xyXG4iLCJpbXBvcnQge05vZGV9IGZyb20gJ3Ntb2tlLW5vZGUnXG5cbmNvbnN0IG5vZGUwID0gbmV3IE5vZGUoKSAvLyAwLjAuMC4xXG5cbmNvbnN0IG5vZGUxID0gbmV3IE5vZGUoKSAvLyAwLjAuMC4yXG5cbmNvbnN0IG5vZGUyID0gbmV3IE5vZGUoKSAvLyAwLjAuMC4zXG5cbi8vIG5vZGUwIC0gVGhlIHZpZGVvIHNvdXJjZS5cblxubm9kZTAucmVzdC5jcmVhdGVTZXJ2ZXIoKS5nZXQoJy9tZWRpYXN0cmVhbScsIChyZXE6IGFueSwgcmVzOiBhbnkpID0+IHtcblxuICBjb25zb2xlLmxvZygnbm9kZTAnKVxuICBjb25zdCBtZWRpYXN0cmVhbSA9IG5vZGUwLm1lZGlhLmNyZWF0ZVRlc3RQYXR0ZXJuKClcblxuICByZXMubWVkaWFzdHJlYW0obWVkaWFzdHJlYW0pXG5cbn0pLmxpc3Rlbig4MClcblxuLy8gbm9kZTEgLSBUaGUgdmlkZW8gcHJveHkuXG5cbmNvbnN0IGFwcDEgPSBub2RlMS5yZXN0LmNyZWF0ZVNlcnZlcigpXG5cbmFwcDEuZ2V0KCcvbWVkaWFzdHJlYW0nLCBhc3luYyAocmVxOiBhbnksIHJlczogYW55KSA9PiB7XG5cbiAgY29uc29sZS5sb2coJ25vZGUxJylcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBub2RlMS5yZXN0LmZldGNoKCdyZXN0Oi8vMC4wLjAuMS9tZWRpYXN0cmVhbScpXG5cbiAgcmVzLm1lZGlhc3RyZWFtKGF3YWl0IHJlc3BvbnNlLm1lZGlhc3RyZWFtKCkpXG5cbn0pLmxpc3Rlbig4MClcblxuLy8gbm9kZTIgLSB0aGUgY2xpZW50XG5cbjsoYXN5bmMgKCkgPT4ge1xuXG4gIGNvbnNvbGUubG9nKCdub2RlMicpXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbm9kZTIucmVzdC5mZXRjaCgncmVzdDovLzAuMC4wLjIvbWVkaWFzdHJlYW0nKVxuXG4gIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLTAnKSBhcyBIVE1MVmlkZW9FbGVtZW50XG5cbiAgdmlkZW8uc3JjT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UubWVkaWFzdHJlYW0oKVxuXG4gIHZpZGVvLnBsYXkoKVxuXG59KSgpIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEEgc2luZ2xlIGNoYW5uZWwgZXZlbnQgZW1pdHRlci4gVGhpcyB0eXBlIHN1cHBvcnRzIHN0YW5kYXJkIGV2ZW50XHJcbiAqIHN1YnNjcmlwdGlvbiBmdW5jdGlvbmFsaXR5IHdpdGggdGhlIGFiaWxpdHkgdG8gcXVldWUgbWVzc2FnZXMgd2hlbiB0aGVyZSBhcmVcclxuICogbm8gc3Vic2NyaWJlcnMgYXZhaWxhYmxlIHRvIHJlY2VpdmUuXHJcbiAqL1xyXG5jbGFzcyBFdmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZXMgdG8gYW4gZXZlbnQgb25jZS4gKi9cclxuICAgIG9uY2UoZnVuYykge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaCh7IG9uY2U6IHRydWUsIGZ1bmMgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZXMgdG8gYW4gZXZlbnQuICovXHJcbiAgICBvbihmdW5jKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgb25jZTogZmFsc2UsIGZ1bmMgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFVuc3Vic2NyaWJlcyB0aGlzIGhhbmRsZXIuICovXHJcbiAgICByZW1vdmUoZnVuYykge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihoYW5kbGVyID0+IGhhbmRsZXIuZnVuYyAhPSBmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKiBFbWl0cyBhIG1lc3NhZ2UgdG8gc3Vic2NyaWJlcnMuICovXHJcbiAgICBlbWl0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goZGF0YSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgfVxyXG4gICAgZGlzcGF0Y2goKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMubWVzc2FnZXMubGVuZ3RoID4gMCAmJiB0aGlzLmhhbmRsZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgY29uc3Qgb25jZXMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihsaXN0ZW5lciA9PiBsaXN0ZW5lci5vbmNlKTtcclxuICAgICAgICAgICAgY29uc3Qgb25zID0gdGhpcy5oYW5kbGVycy5maWx0ZXIobGlzdGVuZXIgPT4gIWxpc3RlbmVyLm9uY2UpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzID0gWy4uLm9uc107XHJcbiAgICAgICAgICAgIG9uY2VzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIuZnVuYyhtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgIG9ucy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyLmZ1bmMobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIG9iamVjdC4gICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmhhbmRsZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgbXVsdGkgY2hhbm5lbCBldmVudCBlbWl0dGVyLiBUaGlzIHR5cGUgc3VwcG9ydHMgc3RhbmRhcmQgZXZlbnRcclxuICogc3Vic2NyaXB0aW9uIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgYWJpbGl0eSB0byBxdWV1ZSBtZXNzYWdlcyB3aGVuIHRoZXJlIGFyZVxyXG4gKiBubyBzdWJzY3JpYmVycyBhdmFpbGFibGUgdG8gcmVjZWl2ZS5cclxuICovXHJcbmNsYXNzIEV2ZW50cyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKiBTdWJzY3JpYmVzIHRvIGFuIGV2ZW50IG9uY2UuICovXHJcbiAgICBvbmNlKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgbmV3IEV2ZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpLm9uY2UoZnVuYyk7XHJcbiAgICB9XHJcbiAgICAvKiogU3Vic2NyaWJlcyB0byBhbiBldmVudC4gKi9cclxuICAgIG9uKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgbmV3IEV2ZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpLm9uKGZ1bmMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJlbW92ZXMgdGhpcyBldmVudCBoYW5kbGVyLiAqL1xyXG4gICAgcmVtb3ZlKGV2ZW50LCBmdW5jKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgbmV3IEV2ZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpLnJlbW92ZShmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB0byBzdWJzY3JpYmVycy4gKi9cclxuICAgIGVtaXQoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicgJiYgIXRoaXMuZXZlbnRzLmhhcyhldmVudCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgbmV3IEV2ZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpLmVtaXQoZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvKiogRGlzcG9zZXMgb2YgdGhpcyBvYmplY3QuICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMuZXZlbnRzLmtleXMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZXZlbnRzLmdldChrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgZXZlbnQuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkV2ZW50cyA9IEV2ZW50cztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEFuIGFzeW5jaHJvbm91cyBiYXJyaWVyIHVzZWQgdG8gZGVmZXIgb3BlcmF0aW9ucyB1bnRpbCBhIGNvbmRpdGlvbiBpcyBtZWV0LlxyXG4gKiBUaGlzIHR5cGUgaXMgcHJpbWFyaWx5ICB1c2VkIHRvIGFsbG93IGNhbGxlcnMgdG8gaW52b2tlIG9wZXJhdGlvbnMgb24gYVxyXG4gKiB0eXBlIHdpdGhvdXQgd2FpdGluZyBmb3IgdGhhdCB0eXBlIHRvIGluaXRpYWxpemUgaW50ZXJuYWxseS4gVGhpcyB0eXBlXHJcbiAqIHByb3ZpZGVzIHBhdXNlIGFuZCByZXN1bWUgZnVuY3Rpb25hbGl0eS4gTmV3IGluc3RhbmNlcyBvZiB0aGlzIHR5cGUgd2lsbFxyXG4gKiBzdGFydCBpbiBhIHBhdXNlZCBzdGF0ZS5cclxuICovXHJcbmNsYXNzIEJhcnJpZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hd2FpdGVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKiBQYXVzZXMgdGhpcyBiYXJyaWVyIGNhdXNpbmcgb3BlcmF0aW9ucyB0byB3YWl0LiAqL1xyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqIFJlc3VtZXMgdGhpcyBiYXJyaWVyIGNhdXNpbmcgYWxsIG9wZXJhdGlvbnMgdG8gcnVuLiAqL1xyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNjaGVkdWxlcyB0aGUgZ2l2ZW4gb3BlcmF0aW9uIHRvIHJ1biB3aGVuIHJlc3VtZWQuICovXHJcbiAgICBydW4oZnVuYykge1xyXG4gICAgICAgIHJldHVybiAoIXRoaXMucGF1c2VkKVxyXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZShmdW5jKCkpXHJcbiAgICAgICAgICAgIDogbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hd2FpdGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jOiBmdW5jLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogRGlzcGF0Y2hlcyBhbGwgYXdhaXRlcnMuIENhbGxlZCBleGNsdXNpdmVseSBieSByZXN1bWUoKSAqL1xyXG4gICAgYXN5bmMgZGlzcGF0Y2goKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuYXdhaXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBhd2FpdGVyID0gdGhpcy5hd2FpdGVycy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoYXdhaXRlci5mdW5jKCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gYXdhaXRlci5yZXNvbHZlKHJlc3VsdCkpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gYXdhaXRlci5yZWplY3QoZXJyb3IpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5CYXJyaWVyID0gQmFycmllcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEFuIGFzeW5jaHJvbm91cyBzZW1hcGhvcmUuIFByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gbGltaXQgYW5kIHNlcXVlbmNlXHJcbiAqIGFzeW5jaG9ub3VzIGFjY2VzcyBvbiBhIHJlc291cmNlLlxyXG4gKi9cclxuY2xhc3MgU2VtYXBob3JlIHtcclxuICAgIC8qKiBDcmVhdGVzIGEgU2VtYXBob3JlIHdpdGggdGhlIGdpdmVuIGNvbmN1cnJlbmN5IGxpbWl0LiAqL1xyXG4gICAgY29uc3RydWN0b3IoY29uY3VycmVuY3kgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xyXG4gICAgICAgIHRoaXMuYXdhaXRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSAwO1xyXG4gICAgfVxyXG4gICAgLyoqIFNjaGVkdWxlcyB0aGlzIG9wZXJhdGlvbiB0byBydW4uICovXHJcbiAgICBydW4oZnVuYykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXdhaXRlcnMucHVzaCh7IGZ1bmMsIHJlc29sdmUsIHJlamVjdCB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIChhc3luYy1yZWN1cnNpdmUpIERpc3BhdGNocyBvcGVyYXRpb25zIHRvIHRoZSBjb25maWd1cmVkIGNvbmN1cnJlbmN5IGxpbWl0LiAqL1xyXG4gICAgYXN5bmMgZGlzcGF0Y2goKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXdhaXRlcnMubGVuZ3RoID09PSAwIHx8IHRoaXMucnVubmluZyA+PSB0aGlzLmNvbmN1cnJlbmN5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXdhaXRlciA9IHRoaXMuYXdhaXRlcnMuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgKz0gMTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdGVyLnJlc29sdmUoYXdhaXQgYXdhaXRlci5mdW5jKCkpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZyAtPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGF3YWl0ZXIucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmcgLT0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuU2VtYXBob3JlID0gU2VtYXBob3JlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogUGFyc2VzIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzIGZyb20gVW5pZm9ybSBSZXNvdXJjZSBMb2NhdG9yIHN0cmluZ3MuXHJcbiAqL1xyXG5jbGFzcyBRdWVyeVN0cmluZyB7XHJcbiAgICAvLyBQYXJzZXMgcXVlcnkgc2VnbWVudHMgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLiBBIHNlZ21lbnRcclxuICAgIC8vIGlzIGRlbm90ZWQgYXMgPHBhdGg+P1thPTEwJmI9MjBdP1tjPTEwJmRdIz9lIHdoZXJlIHRoZVxyXG4gICAgLy8gcGF0aCBpcyBpZ25vcmVkIGFuZCBoYXNoZXMgdGVybWluYXRlLlxyXG4gICAgc3RhdGljIHBhcnNlUXVlcnlTZWdtZW50cyhzKSB7XHJcbiAgICAgICAgY29uc3QgbWFya2VycyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcy5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAnPycpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMucHVzaChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHMuc2xpY2UobWFya2Vyc1tpXSArIDEsIG1hcmtlcnNbaSArIDFdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcclxuICAgIH1cclxuICAgIC8vIFBhcnNlcyBhIHNlZ21lbnQgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgS2V5VmFsdWUgcGFpcnMuXHJcbiAgICAvLyBUaGUgJ2tleScgaXMgbWFuZGF0b3J5IGJ1dCB0aGUgJ3ZhbHVlJyBtYXkgYmUgdW5kZWZpbmVkLlxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBtYXBzIHVuZGVmaW5lZCBpbnRvIGVtcHR5IHN0cmluZ3MuXHJcbiAgICBzdGF0aWMgcGFyc2VQYWlycyhzZWdtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHNlZ21lbnRcclxuICAgICAgICAgICAgLnNwbGl0KCcmJylcclxuICAgICAgICAgICAgLm1hcChhc3NpZ24gPT4gYXNzaWduLnNwbGl0KCc9JykpXHJcbiAgICAgICAgICAgIC5maWx0ZXIocGFpciA9PiBwYWlyWzBdICE9PSAnJylcclxuICAgICAgICAgICAgLm1hcChwYWlyID0+IHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyWzFdIHx8ICcnO1xyXG4gICAgICAgICAgICByZXR1cm4gW2tleSwgdmFsdWVdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQnVpbGRzIGFuIGV4cGFuZGVkIFF1ZXJ5U3RyaW5nUmVzdWx0LiBUaGlzIHJlc3VsdCBpbmNsdWRlc1xyXG4gICAgLy8gYWxsIHZhbHVlcyBmb3VuZCBmb3IgYSBnaXZlbiBwcm9wZXJ0eSBidWZmZXJlZCBpbiBhIHN0cmluZ1xyXG4gICAgLy8gYXJyYXkuIFRoaXMgaXMgdG8gYmUgbGF0ZXIgY29sbGFwc2VkIGludG8gYSByZWR1Y2VkIGZvcm0uXHJcbiAgICAvLyB1c2luZyB2YXJpb3VzIHJ1bGVzLlxyXG4gICAgc3RhdGljIGV4cGFuZFJlc3VsdChwYWlycykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBhaXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gWy4uLnJlc3VsdFtrZXldLCB2YWx1ZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvLyBDb2xsYXBzZXMgYW4gZXhwYW5lZCBRdWVyeVN0cmluZ1Jlc3VsdC4gVGhpcyBmdW5jdGlvbiB3aWxsIGZpbHRlciBlYWNoXHJcbiAgICAvLyBrZXlzIHZhbHVlcyBhcyBkaXN0aW5jdCwgdGhlbiBjb2xsYXBzZSB0aGUgdmFsdWVzIGRvd24gdG8gYSAnc3RyaW5nJ1xyXG4gICAgLy8gaWYgdGhlIGRpc3RpbmN0IGFycmF5IGhhcyBvbmx5IDEgZWxlbWVudC5cclxuICAgIHN0YXRpYyBjb2xsYXBzZVJlc3VsdChyZXN1bHQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGxldCBhcnJheSA9IHJlc3VsdFtrZXldO1xyXG4gICAgICAgICAgICBhcnJheSA9IGFycmF5LmZpbHRlcigodmFsdWUsIGluZGV4LCByZXN1bHQpID0+IHJlc3VsdC5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgYXJyYXkgPSBhcnJheS5maWx0ZXIodmFsdWUgPT4gdmFsdWUubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBhcnJheVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhlIGdpdmVuIHVybCBmb3IgaXRzIHF1ZXJ5IHBhcmFtdGVycy4gKi9cclxuICAgIHN0YXRpYyBwYXJzZSh1cmwpIHtcclxuICAgICAgICBjb25zdCBxdWVyaWVzID0gdGhpcy5wYXJzZVF1ZXJ5U2VnbWVudHModXJsKTtcclxuICAgICAgICBjb25zdCBwYWlycyA9IHF1ZXJpZXNcclxuICAgICAgICAgICAgLm1hcChzZWcgPT4gdGhpcy5wYXJzZVBhaXJzKHNlZykpXHJcbiAgICAgICAgICAgIC5mbGF0TWFwKHBhaXIgPT4gcGFpcik7XHJcbiAgICAgICAgY29uc3QgZXhwYW5kZWQgPSB0aGlzLmV4cGFuZFJlc3VsdChwYWlycyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2VSZXN1bHQoZXhwYW5kZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUXVlcnlTdHJpbmcgPSBRdWVyeVN0cmluZztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBhdGhfMSA9IHJlcXVpcmUoXCIuL3BhdGhcIik7XHJcbmV4cG9ydHMuUGF0aCA9IHBhdGhfMS5QYXRoO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcbkNvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLiAoZGVyaXZlZCB3b3JrKVxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBQcm92aWRlcyBub2RlanMgcGF0aCByZXNvbHV0aW9uIHNlcnZpY2VzLiBUaGlzIGNsYXNzIHdhcyBsaWZ0ZWQgZnJvbSBub2RlanNcclxuICogdG8gYWxsb3cgZm9yIHBhdGggcmVzb2x1dGlvbiBwcmltYXJpbHkgb24gc21va2VzIGZpbGUgc3lzdGVtLiBDYW4gYmUgdXNlZFxyXG4gKiBmb3IgZ2VuZXJhbCBwYXRoaW5nLlxyXG4gKi9cclxuY2xhc3MgUGF0aCB7XHJcbiAgICAvKiogUmV0dXJucyB0aGUgYmFzZW5hbWUgb2YgdGhlIGdpdmVuIHBhdGguICovXHJcbiAgICBzdGF0aWMgYmFzZW5hbWUocGF0aCwgZXh0KSB7XHJcbiAgICAgICAgdmFyIGYgPSB0aGlzLnBvc2l4U3BsaXRQYXRoKHBhdGgpWzJdO1xyXG4gICAgICAgIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XHJcbiAgICAgICAgICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZjtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBkaXJlY3RvcnkgcGF0aCBvZiB0aGUgZ2l2ZW4gcGF0aC4gKi9cclxuICAgIHN0YXRpYyBkaXJuYW1lKHBhdGgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBvc2l4U3BsaXRQYXRoKHBhdGgpO1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSByZXN1bHRbMF07XHJcbiAgICAgICAgbGV0IGRpciA9IHJlc3VsdFsxXTtcclxuICAgICAgICBpZiAoIXJvb3QgJiYgIWRpcikge1xyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyKSB7XHJcbiAgICAgICAgICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm9vdCArIGRpcjtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBmaWxlIGV4dGVuc2lvbiBvZiB0aGUgdGhlIGdpdmVuIHBhdGguICovXHJcbiAgICBzdGF0aWMgZXh0bmFtZShwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXhTcGxpdFBhdGgocGF0aClbM107XHJcbiAgICB9XHJcbiAgICAvKiogRm9ybWF0cyB0aGUgZ2l2ZW4gUGF0aE9iamVjdCBpbnRvIGEgcGF0aCBzdHJpbmcuICovXHJcbiAgICBzdGF0aWMgZm9ybWF0KHBhdGhPYmplY3QpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBhdGhPYmplY3QgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFBhcmFtZXRlciAncGF0aE9iamVjdCcgbXVzdCBiZSBhbiBvYmplY3QsIG5vdCAke3R5cGVvZiBwYXRoT2JqZWN0fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByb290ID0gcGF0aE9iamVjdC5yb290IHx8ICcnO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJ3BhdGhPYmplY3Qucm9vdCcgbXVzdCBiZSBhIHN0cmluZyBvciB1bmRlZmluZWQsIG5vdCAke3R5cGVvZiBwYXRoT2JqZWN0LnJvb3R9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpciA9IHBhdGhPYmplY3QuZGlyID8gcGF0aE9iamVjdC5kaXIgKyB0aGlzLnNlcCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgJyc7XHJcbiAgICAgICAgcmV0dXJuIGRpciArIGJhc2U7XHJcbiAgICB9XHJcbiAgICAvKiogVGVzdHMgaWYgdGhlIGdpdmVuIHBhdGggaXMgYWJzb2x1dGUuICovXHJcbiAgICBzdGF0aWMgaXNBYnNvbHV0ZShwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XHJcbiAgICB9XHJcbiAgICAvKiogSm9pbnMgdGhlIGdpdmVuIHBhdGggcGFyYW1ldGVycy4gKi9cclxuICAgIHN0YXRpYyBqb2luKC4uLnBhdGhzKSB7XHJcbiAgICAgICAgbGV0IHBhdGggPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBwYXRoc1tpXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSBzZWdtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSAnLycgKyBzZWdtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZShwYXRoKTtcclxuICAgIH1cclxuICAgIC8qKiBOb3JtYWxpemVzIHRoZSBnaXZlbiBwYXRoLiAqL1xyXG4gICAgc3RhdGljIG5vcm1hbGl6ZShwYXRoKSB7XHJcbiAgICAgICAgY29uc3QgaXNBYnNvbHV0ZSA9IHRoaXMuaXNBYnNvbHV0ZShwYXRoKTtcclxuICAgICAgICBjb25zdCB0cmFpbGluZ1NsYXNoID0gcGF0aCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09ICcvJztcclxuICAgICAgICBwYXRoID0gdGhpcy5ub3JtYWxpemVBcnJheShwYXRoLnNwbGl0KCcvJyksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XHJcbiAgICAgICAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSAnLic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcclxuICAgICAgICAgICAgcGF0aCArPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XHJcbiAgICB9XHJcbiAgICAvKiogUGFyc2VzIHRoZSBnaXZlbiBwYXRoIGludG8gYSBQYXRoT2JqZWN0LiAqL1xyXG4gICAgc3RhdGljIHBhcnNlKHBhdGgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFBhcmFtZXRlciAncGF0aFN0cmluZycgbXVzdCBiZSBhIHN0cmluZywgbm90ICR7dHlwZW9mIHBhdGh9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJ0cyA9IHRoaXMucG9zaXhTcGxpdFBhdGgocGF0aCk7XHJcbiAgICAgICAgaWYgKCFwYXJ0cyB8fCBwYXJ0cy5sZW5ndGggIT09IDQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBwYXRoICcke3BhdGh9J2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdIHx8ICcnO1xyXG4gICAgICAgIHBhcnRzWzJdID0gcGFydHNbMl0gfHwgJyc7XHJcbiAgICAgICAgcGFydHNbM10gPSBwYXJ0c1szXSB8fCAnJztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb290OiBwYXJ0c1swXSxcclxuICAgICAgICAgICAgZGlyOiBwYXJ0c1swXSArIHBhcnRzWzFdLnNsaWNlKDAsIC0xKSxcclxuICAgICAgICAgICAgYmFzZTogcGFydHNbMl0sXHJcbiAgICAgICAgICAgIGV4dDogcGFydHNbM10sXHJcbiAgICAgICAgICAgIG5hbWU6IHBhcnRzWzJdLnNsaWNlKDAsIHBhcnRzWzJdLmxlbmd0aCAtIHBhcnRzWzNdLmxlbmd0aClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqIFNvbHZlcyB0aGUgcmVsYXRpdmUgcGF0aCBmb3IgdGhlIGdpdmVuICdmcm9tJyBhbmQgJ3RvJyBwYXRocy4gKi9cclxuICAgIHN0YXRpYyByZWxhdGl2ZShmcm9tLCB0bykge1xyXG4gICAgICAgIGZyb20gPSB0aGlzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xyXG4gICAgICAgIHRvID0gdGhpcy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XHJcbiAgICAgICAgY29uc3QgZnJvbVBhcnRzID0gdGhpcy50cmltQXJyYXkoZnJvbS5zcGxpdCgnLycpKTtcclxuICAgICAgICBjb25zdCB0b1BhcnRzID0gdGhpcy50cmltQXJyYXkodG8uc3BsaXQoJy8nKSk7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xyXG4gICAgICAgIGxldCBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG91dHB1dFBhcnRzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xyXG4gICAgICAgIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVzb2x2ZXMgdGhlIGdpdmVuIHBhdGhzLiAqL1xyXG4gICAgc3RhdGljIHJlc29sdmUoLi4ucGF0aHMpIHtcclxuICAgICAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XHJcbiAgICAgICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gcGF0aHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXRoID0gaSA+PSAwID8gcGF0aHNbaV0gOiB0aGlzLmN3ZDtcclxuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XHJcbiAgICAgICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoWzBdID09PSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcclxuICAgICAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcclxuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcclxuICAgICAgICByZXNvbHZlZFBhdGggPSB0aGlzLm5vcm1hbGl6ZUFycmF5KHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xyXG4gICAgICAgIHJldHVybiAocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCB8fCAnLic7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIHV0aWxpdHlcclxuICAgIC8qKiBTcGxpdHMgdGhlIGdpdmVuIHBhdGguICovXHJcbiAgICBzdGF0aWMgcG9zaXhTcGxpdFBhdGgocGF0aCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0UGF0aFBhdHRlcm4uZXhlYyhwYXRoKS5zbGljZSgxKTtcclxuICAgIH1cclxuICAgIC8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxyXG4gICAgLy8gbXVzdCBiZSBubyBzbGFzaGVzIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XHJcbiAgICAvLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcclxuICAgIC8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcclxuICAgIHN0YXRpYyBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tpXTtcclxuICAgICAgICAgICAgaWYgKCFwIHx8IHAgPT09ICcuJykge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHAgPT09ICcuLicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoICYmIHJlc1tyZXMubGVuZ3RoIC0gMV0gIT09ICcuLicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKCcuLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIC8vIHJldHVybnMgYW4gYXJyYXkgd2l0aCBlbXB0eSBlbGVtZW50cyByZW1vdmVkIGZyb20gZWl0aGVyIGVuZCBvZiB0aGUgaW5wdXRcclxuICAgIC8vIGFycmF5IG9yIHRoZSBvcmlnaW5hbCBhcnJheSBpZiBubyBlbGVtZW50cyBuZWVkIHRvIGJlIHJlbW92ZWRcclxuICAgIHN0YXRpYyB0cmltQXJyYXkoYXJyYXkpIHtcclxuICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xyXG4gICAgICAgIGxldCBzdGFydCA9IDA7XHJcbiAgICAgICAgZm9yICg7IHN0YXJ0IDw9IGxhc3RJbmRleDsgc3RhcnQrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbc3RhcnRdKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBlbmQgPSBsYXN0SW5kZXg7XHJcbiAgICAgICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbZW5kXSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBsYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnQgPiBlbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2Uoc3RhcnQsIGVuZCArIDEpO1xyXG4gICAgfVxyXG59XHJcblBhdGguc3BsaXRQYXRoUGF0dGVybiA9IC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xyXG4vLyAjcmVnaW9uIG5vZGUgcGF0aCBBUElcclxuLyoqIGZpbGUgcGF0aCBzZXBlcmF0b3IuICovXHJcblBhdGguc2VwID0gJy8nO1xyXG4vKiogZmlsZSBwYXRoIGRlbGltaXRvci4gKi9cclxuUGF0aC5kZWxpbWl0ZXIgPSAnOic7XHJcbi8qKiBUaGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeS4gKi9cclxuUGF0aC5jd2QgPSAnLyc7XHJcbmV4cG9ydHMuUGF0aCA9IFBhdGg7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBVcmwgcGFyc2luZyB1dGlsaXR5LiBBbGxvd3MgZm9yIGFyYml0dWFyeSBwcm90b2NvbHMgdG8gYmVcclxuICogcGFyc2VkIGludG8gc3RhbmRhcmQgVVJMT2JqZWN0IHR5cGVzLlxyXG4gKi9cclxuY2xhc3MgVXJsIHtcclxuICAgIC8qKiBQYXJzZXMgdGhlIGBwcm90b2NvbGAgZnJvbSB0aGlzIGBocmVmYC4gVGhyb3dzIGlmIGVycm9yLiAqL1xyXG4gICAgc3RhdGljIHBhcnNlUHJvdG9jb2woaHJlZikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHJlZi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaHJlZi5jaGFyQXQoaSkgPT09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dDAgPSBocmVmLmNoYXJBdChpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0MSA9IGhyZWYuY2hhckF0KGkgKyAyKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0MCA9PT0gJy8nICYmIG5leHQxID09PSAnLycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2hyZWYuc2xpY2UoMCwgaSArIDEpLCBocmVmLnNsaWNlKGkgKyAzKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtudWxsLCBocmVmXTtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhlIGBhdXRoYCBmcm9tIGBwcm90b2NvbGAgcmVtYWluZGVyLiBSZXR1cm5zIGBudWxsYCBvbiBub3QgZm91bmQuICovXHJcbiAgICBzdGF0aWMgcGFyc2VBdXRoKHMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHMuY2hhckF0KGkpID09PSAnLycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHMuY2hhckF0KGkpID09PSAnQCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcy5zbGljZSgwLCBpKSwgcy5zbGljZShpICsgMSldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbbnVsbCwgc107XHJcbiAgICB9XHJcbiAgICAvKiogUGFyc2VzIHRoZSBgaG9zdG5hbWVgLiBUZXJtaW5hdGVzIGF0IGAvYCB8IGA/YCB8IGAjYCAqL1xyXG4gICAgc3RhdGljIHBhcnNlSG9zdG5hbWUocykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcy5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAnLycgfHwgbmV4dCA9PT0gJz8nIHx8IG5leHQgPT09ICcjJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzLnNsaWNlKDAsIGkpLCBzLnNsaWNlKGkpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3MsICcnXTtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhlIGBob3N0YCBmb3JtIHRoZSBgaG9zdG5hbWVgLiAqL1xyXG4gICAgc3RhdGljIHBhcnNlSG9zdChob3N0bmFtZSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9zdG5hbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGhvc3RuYW1lLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgaWYgKG5leHQgPT09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtob3N0bmFtZS5zbGljZSgwLCBpKSwgaG9zdG5hbWUuc2xpY2UoaSldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbaG9zdG5hbWUsICcnXTtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhlIGBwb3J0YCBmb3JtIHRoZSBgaG9zdG5hbWVgLiBSZXR1cm5zIGBudWxsYCBvbiBub3QgZm91bmQuICovXHJcbiAgICBzdGF0aWMgcGFyc2VQb3J0KGhvc3RuYW1lKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob3N0bmFtZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaG9zdG5hbWUuY2hhckF0KGkpID09PSAnOicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbaG9zdG5hbWUuc2xpY2UoaSArIDEpLCAnJ107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtudWxsLCBob3N0bmFtZV07XHJcbiAgICB9XHJcbiAgICAvKiogUGFyc2VzIHRoZSBgcGF0aGAgY29tcG9uZW50LiBBZGRzIGZvcndhcmQgJy8nIG9uIHBhdGggaWYgbm9uIGZvdW5kLiAqL1xyXG4gICAgc3RhdGljIHBhcnNlUGF0aChzKSB7XHJcbiAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJy8nLCAnJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbcywgJyddO1xyXG4gICAgfVxyXG4gICAgLyoqIFBhcnNlcyB0aGUgYHBhdGhuYW1lYCBmcm9tIHRoZSBgcGF0aGAgY29tcG9uZW50LiovXHJcbiAgICBzdGF0aWMgcGFyc2VQYXRobmFtZShwYXRoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXRoLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgaWYgKG5leHQgPT09ICc/JyB8fCBuZXh0ID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcGF0aC5zbGljZSgwLCBpKSwgcGF0aC5zbGljZShpKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtwYXRoLCAnJ107XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyB0aGUgYGhhc2hgIGZyb20gdGhlIGBwYXRoYCBjb21wb25lbnQuIFJldHVybnMgbGVmdCBzaWRlIGFzXHJcbiAgICAgKiByZW1haW5kZXIgYXMgYGhhc2hgIGNhbiBvbmx5IGJlIGF0IHRoZSBlbmQgb2YgdGhlIGhyZWYgYW5kIGBoYXNoYFxyXG4gICAgICogd2lsbCBjb25zdW1lIGFsbCB0aGluZ3MgdG8gdGhlIHJpZ2h0LCBpbmNsdWRpbmcgYHNlYXJjaGBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHBhcnNlSGFzaChwYXRoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXRoLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgaWYgKG5leHQgPT09ICcjJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtwYXRoLnNsaWNlKGkpLCBwYXRoLnNsaWNlKDAsIGkpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW251bGwsIHBhdGhdO1xyXG4gICAgfVxyXG4gICAgLyoqIFBhcnNlcyB0aGUgYHNlYXJjaGAgZnJvbSB0aGlzIHBhdGguICovXHJcbiAgICBzdGF0aWMgcGFyc2VTZWFyY2gocGF0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcGF0aC5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAnPycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcGF0aC5zbGljZShpKSwgcGF0aC5zbGljZSgwLCBpKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFsnJywgcGF0aF07XHJcbiAgICB9XHJcbiAgICAvKiogUGFyc2VzIHRoZSBgcXVlcnlgIGZyb20gdGhpcyBgc2VhcmNoYC4gKi9cclxuICAgIHN0YXRpYyBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBzZWFyY2guY2hhckF0KGkpO1xyXG4gICAgICAgICAgICBpZiAobmV4dCA9PT0gJz8nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NlYXJjaC5zbGljZShpICsgMSksIHNlYXJjaC5zbGljZSgwLCBpKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFsnJywgc2VhcmNoXTtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhpcyBgaHJlZmAgYXMgYSBVcmxPYmplY3QuIFdpbGwgdGhyb3cgb24gZXJyb3IuICovXHJcbiAgICBzdGF0aWMgcGFyc2UoaHJlZikge1xyXG4gICAgICAgIGNvbnN0IFtwcm90b2NvbCwgcjBdID0gdGhpcy5wYXJzZVByb3RvY29sKGhyZWYpO1xyXG4gICAgICAgIGlmIChwcm90b2NvbCkge1xyXG4gICAgICAgICAgICBjb25zdCBbYXV0aCwgcjFdID0gdGhpcy5wYXJzZUF1dGgocjApO1xyXG4gICAgICAgICAgICBjb25zdCBbaG9zdG5hbWUsIHIyXSA9IHRoaXMucGFyc2VIb3N0bmFtZShyMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtob3N0LCByM10gPSB0aGlzLnBhcnNlSG9zdChob3N0bmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwb3J0LCByNF0gPSB0aGlzLnBhcnNlUG9ydChob3N0bmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwYXRoLCByNV0gPSB0aGlzLnBhcnNlUGF0aChyMik7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwYXRobmFtZSwgcjZdID0gdGhpcy5wYXJzZVBhdGhuYW1lKHBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBbaGFzaCwgcjddID0gdGhpcy5wYXJzZUhhc2gocGF0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtzZWFyY2gsIHI4XSA9IHRoaXMucGFyc2VTZWFyY2gocjcpOyAvLyBsZWZ0IHNpZGUgb2YgaGFzaFxyXG4gICAgICAgICAgICBjb25zdCBbcXVlcnksIHI5XSA9IHRoaXMucGFyc2VRdWVyeShzZWFyY2gpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBwcm90b2NvbCwgYXV0aCwgaGFzaCwgaG9zdCwgaG9zdG5hbWUsIGhyZWYsIHBhdGgsIHBhdGhuYW1lLCBwb3J0LCBxdWVyeSwgc2VhcmNoIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBhdXRoID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgaG9zdG5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBob3N0ID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgcG9ydCA9IG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwYXRoLCByNV0gPSB0aGlzLnBhcnNlUGF0aChyMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwYXRobmFtZSwgcjZdID0gdGhpcy5wYXJzZVBhdGhuYW1lKHBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBbaGFzaCwgcjddID0gdGhpcy5wYXJzZUhhc2gocGF0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IFtzZWFyY2gsIHI4XSA9IHRoaXMucGFyc2VTZWFyY2gocjcpOyAvLyBsZWZ0IHNpZGUgb2YgaGFzaFxyXG4gICAgICAgICAgICBjb25zdCBbcXVlcnksIHI5XSA9IHRoaXMucGFyc2VRdWVyeShzZWFyY2gpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBwcm90b2NvbCwgYXV0aCwgaGFzaCwgaG9zdCwgaG9zdG5hbWUsIGhyZWYsIHBhdGgsIHBhdGhuYW1lLCBwb3J0LCBxdWVyeSwgc2VhcmNoIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVXJsID0gVXJsO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTlcclxuLSBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+IC0gT3JpZ2luYWwgV29ya1xyXG4tIEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+IC0gVHlwZVNjcmlwdCBQb3J0XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaWVlZTc1NCA9IHJlcXVpcmUoXCIuL2llZWU3NTRcIik7XHJcbmNvbnN0IGJhc2U2NCA9IHJlcXVpcmUoXCIuL2Jhc2U2NFwiKTtcclxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoIHRoZVxyXG4vLyBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy4gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yXHJcbi8vIHNhZmV0eVxyXG5jb25zdCBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMDtcclxuY29uc3QgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nO1xyXG5jb25zdCBJTlNQRUNUX01BWF9CWVRFUyA9IDUwO1xyXG5jb25zdCBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmO1xyXG4vKipcclxuICogQSBCdWZmZXIgaW1wbGVtZW50YXRpb24gbWlycm9ycyB0aGUgQnVmZmVyIHR5cGUgZnJvbSBOb2RlSlMuIFByb3ZpZGVzIGJ1ZmZlclxyXG4gKiByZWFkL3dyaXRlIGZ1bmN0aW9uYWxpdHkgZm9yIG5hdGl2ZSBudW1lcmljIHR5cGVzLCBzbGljaW5nIGFuZCBjb25jYXQgYXNcclxuICogd2VsbCBhcyB0ZXh0IGVuY29kaW5nIGZ1bmN0aW9uYWxpdHkuIFBvcnRlZCBmcm9tIHRvIFR5cGVTY3JpcHQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci5cclxuICovXHJcbmNsYXNzIEJ1ZmZlciBleHRlbmRzIFVpbnQ4QXJyYXkge1xyXG4gICAgLy8gI3JlZ2lvbiBzd2FwXHJcbiAgICBzdGF0aWMgc3dhcChidWYsIG4sIG0pIHtcclxuICAgICAgICBjb25zdCBpID0gYnVmW25dO1xyXG4gICAgICAgIGJ1ZltuXSA9IGJ1ZlttXTtcclxuICAgICAgICBidWZbbV0gPSBpO1xyXG4gICAgfVxyXG4gICAgc3dhcDE2KCkge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChsZW4gJSAyICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5zd2FwKHRoaXMsIGksIGkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzd2FwMzIoKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGxlbiAlIDQgIT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLnN3YXAodGhpcywgaSwgaSArIDMpO1xyXG4gICAgICAgICAgICBCdWZmZXIuc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHN3YXA2NCgpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuICUgOCAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuc3dhcCh0aGlzLCBpLCBpICsgNyk7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5zd2FwKHRoaXMsIGkgKyAxLCBpICsgNik7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5zd2FwKHRoaXMsIGkgKyAyLCBpICsgNSk7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5zd2FwKHRoaXMsIGkgKyAzLCBpICsgNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiB0b1N0cmluZ1xyXG4gICAgc2xvd1RvU3RyaW5nKC4uLmFyZ3MpIHtcclxuICAgICAgICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZTtcclxuICAgICAgICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcclxuICAgICAgICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxyXG4gICAgICAgIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxyXG4gICAgICAgIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cclxuICAgICAgICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxyXG4gICAgICAgIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxyXG4gICAgICAgIGlmIChhcmdzWzFdID09PSB1bmRlZmluZWQgfHwgYXJnc1sxXSA8IDApIHtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXHJcbiAgICAgICAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cclxuICAgICAgICBpZiAoYXJnc1sxXSA+IHRoaXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ3NbMl0gPT09IHVuZGVmaW5lZCB8fCBhcmdzWzJdID4gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXJnc1syXSA9IHRoaXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1syXSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cclxuICAgICAgICBhcmdzWzJdID4+Pj0gMDtcclxuICAgICAgICBhcmdzWzFdID4+Pj0gMDtcclxuICAgICAgICBpZiAoYXJnc1syXSA8PSBhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMF0gPSAndXRmOCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJnc1swXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGV4JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLmhleFNsaWNlKHRoaXMsIGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndXRmOCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1dGYtOCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci51dGY4U2xpY2UodGhpcywgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhc2NpaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5hc2NpaVNsaWNlKHRoaXMsIGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGF0aW4xJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JpbmFyeSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5sYXRpbjFTbGljZSh0aGlzLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc2U2NCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5iYXNlNjRTbGljZSh0aGlzLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VjczInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndWNzLTInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndXRmMTZsZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1dGYtMTZsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci51dGYxNmxlU2xpY2UodGhpcywgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgYXJnc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSAoYXJnc1swXSArICcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvU3RyaW5nKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci51dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsb3dUb1N0cmluZyguLi5hcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0b0xvY2FsZVN0cmluZyguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIGVxdWFsc1xyXG4gICAgZXF1YWxzKGJ1Zikge1xyXG4gICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcyA9PT0gYnVmKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYnVmKSA9PT0gMDtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gaW5zcGVjdFxyXG4gICAgaW5zcGVjdCgpIHtcclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcbiAgICAgICAgY29uc3QgbWF4ID0gSU5TUEVDVF9NQVhfQllURVM7XHJcbiAgICAgICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKVxyXG4gICAgICAgICAgICAudHJpbSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heClcclxuICAgICAgICAgICAgc3RyICs9ICcgLi4uICc7XHJcbiAgICAgICAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPic7XHJcbiAgICB9XHJcbiAgICBjb21wYXJlKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoQnVmZmVyLmlzSW5zdGFuY2UoYXJnc1swXSwgVWludDhBcnJheSkpIHtcclxuICAgICAgICAgICAgYXJnc1swXSA9IEJ1ZmZlci5mcm9tKGFyZ3NbMF0sIGFyZ3NbMF0ub2Zmc2V0LCBhcmdzWzBdLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhcmdzWzBdKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcclxuICAgICAgICAgICAgICAgICdSZWNlaXZlZCB0eXBlICcgK1xyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1sxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1syXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSBhcmdzWzBdID8gYXJnc1swXS5sZW5ndGggOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1szXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbM10gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1s0XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbNF0gPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ3NbMV0gPCAwIHx8XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPiBhcmdzWzBdLmxlbmd0aCB8fFxyXG4gICAgICAgICAgICBhcmdzWzNdIDwgMCB8fFxyXG4gICAgICAgICAgICBhcmdzWzRdID4gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1szXSA+PSBhcmdzWzRdICYmIGFyZ3NbMV0gPj0gYXJnc1syXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ3NbM10gPj0gYXJnc1s0XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmdzWzFdID49IGFyZ3NbMl0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyZ3NbMV0gPj4+PSAwO1xyXG4gICAgICAgIGFyZ3NbMl0gPj4+PSAwO1xyXG4gICAgICAgIGFyZ3NbM10gPj4+PSAwO1xyXG4gICAgICAgIGFyZ3NbNF0gPj4+PSAwO1xyXG4gICAgICAgIGlmICh0aGlzID09PSBhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeCA9IGFyZ3NbNF0gLSBhcmdzWzNdO1xyXG4gICAgICAgIGxldCB5ID0gYXJnc1syXSAtIGFyZ3NbMV07XHJcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5taW4oeCwgeSk7XHJcbiAgICAgICAgY29uc3QgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKGFyZ3NbM10sIGFyZ3NbNF0pO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldENvcHkgPSBhcmdzWzBdLnNsaWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gdGhpc0NvcHlbaV07XHJcbiAgICAgICAgICAgICAgICB5ID0gdGFyZ2V0Q29weVtpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4IDwgeSlcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIGlmICh5IDwgeClcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIGluZGV4T2ZcclxuICAgIHN0YXRpYyBhcnJheUluZGV4T2YoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcclxuICAgICAgICBsZXQgaW5kZXhTaXplID0gMTtcclxuICAgICAgICBsZXQgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aDtcclxuICAgICAgICBsZXQgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aDtcclxuICAgICAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHxcclxuICAgICAgICAgICAgICAgIGVuY29kaW5nID09PSAndWNzLTInIHx8XHJcbiAgICAgICAgICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8XHJcbiAgICAgICAgICAgICAgICBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXhTaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGFyckxlbmd0aCAvPSAyO1xyXG4gICAgICAgICAgICAgICAgdmFsTGVuZ3RoIC89IDI7XHJcbiAgICAgICAgICAgICAgICBieXRlT2Zmc2V0IC89IDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZChidWYsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZltpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGlmIChkaXIpIHtcclxuICAgICAgICAgICAgbGV0IGZvdW5kSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpIC09IGkgLSBmb3VuZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYmlkaXJlY3Rpb25hbEluZGV4T2YoLi4uYXJncykge1xyXG4gICAgICAgIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxyXG4gICAgICAgIGlmIChhcmdzWzBdLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhcmdzWzNdID0gYXJnc1syXTtcclxuICAgICAgICAgICAgYXJnc1syXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3NbMl0gPiAweDdmZmZmZmZmKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSAweDdmZmZmZmZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmdzWzJdIDwgLTB4ODAwMDAwMDApIHtcclxuICAgICAgICAgICAgYXJnc1syXSA9IC0weDgwMDAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcmdzWzJdID0gK2FyZ3NbMl07IC8vIENvZXJjZSB0byBOdW1iZXIuXHJcbiAgICAgICAgaWYgKEJ1ZmZlci5udW1iZXJJc05hTihhcmdzWzJdKSkge1xyXG4gICAgICAgICAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcclxuICAgICAgICAgICAgYXJnc1syXSA9IGFyZ3NbNF0gPyAwIDogYXJnc1swXS5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxyXG4gICAgICAgIGlmIChhcmdzWzJdIDwgMClcclxuICAgICAgICAgICAgYXJnc1syXSA9IGFyZ3NbMF0ubGVuZ3RoICsgYXJnc1syXTtcclxuICAgICAgICBpZiAoYXJnc1syXSA+PSBhcmdzWzBdLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoYXJnc1s0XSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgYXJnc1syXSA9IGFyZ3NbMF0ubGVuZ3RoIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXJnc1syXSA8IDApIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3NbNF0pXHJcbiAgICAgICAgICAgICAgICBhcmdzWzJdID0gMDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOb3JtYWxpemUgdmFsXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhcmdzWzFdID0gQnVmZmVyLmZyb20oYXJnc1sxXSwgYXJnc1szXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXHJcbiAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihhcmdzWzFdKSkge1xyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXHJcbiAgICAgICAgICAgIGlmIChhcmdzWzFdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuYXJyYXlJbmRleE9mKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IGFyZ3NbMV0gJiAweGZmOyAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbNF0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5hcnJheUluZGV4T2YoYXJnc1swXSwgW2FyZ3NbMV1dLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJyk7XHJcbiAgICB9XHJcbiAgICBpbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcclxuICAgICAgICByZXR1cm4gQnVmZmVyLmJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgbGFzdEluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIuYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBpbmNsdWRlc1xyXG4gICAgaW5jbHVkZXModmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiB0b0pTT05cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdCdWZmZXInLFxyXG4gICAgICAgICAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmYWNhZGUuX2FyciB8fCBmYWNhZGUsIDApXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gc2xpY2VcclxuICAgIHN0YXRpYyBiYXNlNjRTbGljZShidWYsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIHV0ZjhTbGljZShidWYsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgICAgIGxldCBpID0gc3RhcnQ7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBlbmQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RCeXRlID0gYnVmW2ldO1xyXG4gICAgICAgICAgICBsZXQgY29kZVBvaW50ID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IGJ5dGVzUGVyU2VxdWVuY2UgPSBmaXJzdEJ5dGUgPiAweGVmID8gNCA6IGZpcnN0Qnl0ZSA+IDB4ZGYgPyAzIDogZmlyc3RCeXRlID4gMHhiZiA/IDIgOiAxO1xyXG4gICAgICAgICAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4YzApID09PSAweDgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKChmaXJzdEJ5dGUgJiAweDFmKSA8PCAweDYpIHwgKHNlY29uZEJ5dGUgJiAweDNmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhjMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4YzApID09PSAweDgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGZpcnN0Qnl0ZSAmIDB4ZikgPDwgMHhjKSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoc2Vjb25kQnl0ZSAmIDB4M2YpIDw8IDB4NikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcmRCeXRlICYgMHgzZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N2ZmICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRlbXBDb2RlUG9pbnQgPCAweGQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4ZGZmZikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweGMwKSA9PT0gMHg4MCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXJkQnl0ZSAmIDB4YzApID09PSAweDgwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm91cnRoQnl0ZSAmIDB4YzApID09PSAweDgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGZpcnN0Qnl0ZSAmIDB4ZikgPDwgMHgxMikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHNlY29uZEJ5dGUgJiAweDNmKSA8PCAweGMpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh0aGlyZEJ5dGUgJiAweDNmKSA8PCAweDYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvdXJ0aEJ5dGUgJiAweDNmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhmZmZmICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXHJcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSAweGZmZmQ7XHJcbiAgICAgICAgICAgICAgICBieXRlc1BlclNlcXVlbmNlID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPiAweGZmZmYpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKCgoY29kZVBvaW50ID4+PiAxMCkgJiAweDNmZikgfCAweGQ4MDApO1xyXG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID0gMHhkYzAwIHwgKGNvZGVQb2ludCAmIDB4M2ZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMucHVzaChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBCdWZmZXIuZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZGVjb2RlQ29kZVBvaW50c0FycmF5KGNvZGVQb2ludHMpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cyk7IC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxyXG4gICAgICAgIGxldCByZXMgPSAnJztcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcclxuICAgICAgICAgICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzLnNsaWNlKGksIChpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzY2lpU2xpY2UoYnVmLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgbGV0IHJldCA9ICcnO1xyXG4gICAgICAgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcclxuICAgICAgICAgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3Zik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbGF0aW4xU2xpY2UoYnVmLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgbGV0IHJldCA9ICcnO1xyXG4gICAgICAgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcclxuICAgICAgICAgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBoZXhTbGljZShidWYsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSBidWYubGVuZ3RoO1xyXG4gICAgICAgIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKVxyXG4gICAgICAgICAgICBzdGFydCA9IDA7XHJcbiAgICAgICAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pXHJcbiAgICAgICAgICAgIGVuZCA9IGxlbjtcclxuICAgICAgICBsZXQgb3V0ID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcclxuICAgICAgICAgICAgb3V0ICs9IEJ1ZmZlci50b0hleChidWZbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHV0ZjE2bGVTbGljZShidWYsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBjb25zdCBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICBsZXQgcmVzID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1Nik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBzbGljZShzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgc3RhcnQgPSB+fnN0YXJ0O1xyXG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmQ7XHJcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkge1xyXG4gICAgICAgICAgICBzdGFydCArPSBsZW47XHJcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDApXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gbGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5kIDwgMCkge1xyXG4gICAgICAgICAgICBlbmQgKz0gbGVuO1xyXG4gICAgICAgICAgICBpZiAoZW5kIDwgMClcclxuICAgICAgICAgICAgICAgIGVuZCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVuZCA+IGxlbikge1xyXG4gICAgICAgICAgICBlbmQgPSBsZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmQgPCBzdGFydClcclxuICAgICAgICAgICAgZW5kID0gc3RhcnQ7XHJcbiAgICAgICAgLy8gUmV0dXJuICdVaW50OEFycmF5JyBhdWdtZW50ZWQgd2l0aCAnQnVmZmVyJyBwcm90b3R5cGUuXHJcbiAgICAgICAgbGV0IGZhY2FkZSA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgZmFjYWRlLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGU7XHJcbiAgICAgICAgcmV0dXJuIGZhY2FkZTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gY29weVxyXG4gICAgY29weSh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJyk7XHJcbiAgICAgICAgaWYgKCFzdGFydClcclxuICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4gICAgICAgIGlmICghZW5kICYmIGVuZCAhPT0gMClcclxuICAgICAgICAgICAgZW5kID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aDtcclxuICAgICAgICBpZiAoIXRhcmdldFN0YXJ0KVxyXG4gICAgICAgICAgICB0YXJnZXRTdGFydCA9IDA7XHJcbiAgICAgICAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpXHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0O1xyXG4gICAgICAgIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxyXG4gICAgICAgIGlmIChlbmQgPT09IHN0YXJ0KVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xyXG4gICAgICAgIGlmICh0YXJnZXRTdGFydCA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpO1xyXG4gICAgICAgIGlmIChlbmQgPCAwKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKTtcclxuICAgICAgICAvLyBBcmUgd2Ugb29iP1xyXG4gICAgICAgIGlmIChlbmQgPiB0aGlzLmxlbmd0aClcclxuICAgICAgICAgICAgZW5kID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsZW4gPSBlbmQgLSBzdGFydDtcclxuICAgICAgICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcclxuICAgICAgICAgICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcclxuICAgICAgICAgICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHRhcmdldCwgdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKSwgdGFyZ2V0U3RhcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGVuO1xyXG4gICAgfVxyXG4gICAgZmlsbCguLi5hcmdzKSB7XHJcbiAgICAgICAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbM10gPSBhcmdzWzFdO1xyXG4gICAgICAgICAgICAgICAgYXJnc1sxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBhcmdzWzJdID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3NbMl0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzWzNdID0gYXJnc1syXTtcclxuICAgICAgICAgICAgICAgIGFyZ3NbMl0gPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJnc1szXSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBhcmdzWzNdICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1szXSA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGFyZ3NbM10pKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgYXJnc1szXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFyZ3NbMF0ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gYXJnc1swXS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKChhcmdzWzNdID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHwgYXJnc1szXSA9PT0gJ2xhdGluMScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLlxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBjb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gYXJnc1swXSAmIDI1NTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXHJcbiAgICAgICAgaWYgKGFyZ3NbMV0gPCAwIHx8IHRoaXMubGVuZ3RoIDwgYXJnc1sxXSB8fCB0aGlzLmxlbmd0aCA8IGFyZ3NbMl0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnc1syXSA8PSBhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcmdzWzFdID0gYXJnc1sxXSA+Pj4gMDtcclxuICAgICAgICBhcmdzWzJdID0gYXJnc1syXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBhcmdzWzJdID4+PiAwO1xyXG4gICAgICAgIGlmICghYXJnc1swXSlcclxuICAgICAgICAgICAgYXJnc1swXSA9IDA7XHJcbiAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhcmdzWzFdOyBpIDwgYXJnc1syXTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW2ldID0gYXJnc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIoYXJnc1swXSlcclxuICAgICAgICAgICAgICAgID8gYXJnc1swXVxyXG4gICAgICAgICAgICAgICAgOiBCdWZmZXIuZnJvbShhcmdzWzBdLCBhcmdzWzNdKTtcclxuICAgICAgICAgICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInICsgYXJnc1swXSArICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJnc1syXSAtIGFyZ3NbMV07ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdGhpc1tpICsgYXJnc1sxXV0gPSBieXRlc1tpICUgbGVuXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gcmVhZDogbnVtZXJpY3NcclxuICAgIHN0YXRpYyBjaGVja09mZnNldChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKG9mZnNldCAlIDEgIT09IDAgfHwgb2Zmc2V0IDwgMClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpO1xyXG4gICAgICAgIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBCdWZmZXIgbGVuZ3RoJyk7XHJcbiAgICB9XHJcbiAgICByZWFkVUludExFKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB2YWwgPSB0aGlzW29mZnNldF07XHJcbiAgICAgICAgbGV0IG11bCA9IDE7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XHJcbiAgICAgICAgICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgcmVhZFVJbnRCRShvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdO1xyXG4gICAgICAgIGxldCBtdWwgPSAxO1xyXG4gICAgICAgIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xyXG4gICAgICAgICAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgcmVhZFVJbnQ4KG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzW29mZnNldF07XHJcbiAgICB9XHJcbiAgICByZWFkVUludDE2TEUob2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpO1xyXG4gICAgfVxyXG4gICAgcmVhZFVJbnQxNkJFKG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXTtcclxuICAgIH1cclxuICAgIHJlYWRVSW50MzJMRShvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKCh0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8ICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xyXG4gICAgICAgICAgICB0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKTtcclxuICAgIH1cclxuICAgIHJlYWRVSW50MzJCRShvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCArXHJcbiAgICAgICAgICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfCAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgM10pKTtcclxuICAgIH1cclxuICAgIHJlYWRJbnRMRShvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdO1xyXG4gICAgICAgIGxldCBtdWwgPSAxO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xyXG4gICAgICAgICAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbXVsICo9IDB4ODA7XHJcbiAgICAgICAgaWYgKHZhbCA+PSBtdWwpIHtcclxuICAgICAgICAgICAgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIHJlYWRJbnRCRShvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaSA9IGJ5dGVMZW5ndGg7XHJcbiAgICAgICAgbGV0IG11bCA9IDE7XHJcbiAgICAgICAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXTtcclxuICAgICAgICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcclxuICAgICAgICAgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbXVsICo9IDB4ODA7XHJcbiAgICAgICAgaWYgKHZhbCA+PSBtdWwpIHtcclxuICAgICAgICAgICAgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIHJlYWRJbnQ4KG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzW29mZnNldF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTE7XHJcbiAgICB9XHJcbiAgICByZWFkSW50MTZMRShvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KTtcclxuICAgICAgICByZXR1cm4gdmFsICYgMHg4MDAwID8gdmFsIHwgMHhmZmZmMDAwMCA6IHZhbDtcclxuICAgIH1cclxuICAgIHJlYWRJbnQxNkJFKG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpO1xyXG4gICAgICAgIHJldHVybiB2YWwgJiAweDgwMDAgPyB2YWwgfCAweGZmZmYwMDAwIDogdmFsO1xyXG4gICAgfVxyXG4gICAgcmVhZEludDMyTEUob2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh0aGlzW29mZnNldF0gfFxyXG4gICAgICAgICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XHJcbiAgICAgICAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KSk7XHJcbiAgICB9XHJcbiAgICByZWFkSW50MzJCRShvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKCh0aGlzW29mZnNldF0gPDwgMjQpIHxcclxuICAgICAgICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcclxuICAgICAgICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxyXG4gICAgICAgICAgICB0aGlzW29mZnNldCArIDNdKTtcclxuICAgIH1cclxuICAgIHJlYWRGbG9hdExFKG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChmYWNhZGUsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpO1xyXG4gICAgfVxyXG4gICAgcmVhZEZsb2F0QkUob2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGhpcztcclxuICAgICAgICByZXR1cm4gaWVlZTc1NC5yZWFkKGZhY2FkZSwgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpO1xyXG4gICAgfVxyXG4gICAgcmVhZERvdWJsZUxFKG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChmYWNhZGUsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpO1xyXG4gICAgfVxyXG4gICAgcmVhZERvdWJsZUJFKG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChmYWNhZGUsIG9mZnNldCwgZmFsc2UsIDUyLCA4KTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gd3JpdGU6IHN0cmluZ1xyXG4gICAgc3RhdGljIGhleFdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xyXG4gICAgICAgIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDA7XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldDtcclxuICAgICAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZW5ndGggPSByZW1haW5pbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKTtcclxuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcmVtYWluaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHN0cmluZy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gc3RyTGVuIC8gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xyXG4gICAgICAgICAgICBpZiAoQnVmZmVyLm51bWJlcklzTmFOKHBhcnNlZCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICAgIHN0YXRpYyB1dGY4V3JpdGUoYnVmLCBzdHIsIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5ibGl0QnVmZmVyKEJ1ZmZlci51dGY4VG9CeXRlcyhzdHIsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc2NpaVdyaXRlKGJ1Ziwgc3RyLCBvZmZzZXQsIGxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIuYmxpdEJ1ZmZlcihCdWZmZXIuYXNjaWlUb0J5dGVzKHN0ciksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGxhdGluMVdyaXRlKGJ1Ziwgc3RyLCBvZmZzZXQsIGxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIuYXNjaWlXcml0ZShidWYsIHN0ciwgb2Zmc2V0LCBsZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGJhc2U2NFdyaXRlKGJ1Ziwgc3RyLCBvZmZzZXQsIGxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIuYmxpdEJ1ZmZlcihCdWZmZXIuYmFzZTY0VG9CeXRlcyhzdHIpLCBidWYsIG9mZnNldCwgbGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyB1Y3MyV3JpdGUoYnVmLCBzdHIsIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5ibGl0QnVmZmVyKEJ1ZmZlci51dGYxNmxlVG9CeXRlcyhzdHIsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHdyaXRlKC4uLmFyZ3MpIHtcclxuICAgICAgICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxyXG4gICAgICAgIGlmIChhcmdzWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgYXJnc1szXSA9ICd1dGY4JztcclxuICAgICAgICAgICAgYXJnc1syXSA9IHRoaXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBhcmdzWzFdID0gMDtcclxuICAgICAgICAgICAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3NbMl0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgYXJnc1szXSA9IGFyZ3NbMV07XHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICAgICAgYXJnc1sxXSA9IDA7XHJcbiAgICAgICAgICAgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzRmluaXRlKGFyZ3NbMV0pKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbMV0gPSBhcmdzWzFdID4+PiAwO1xyXG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUoYXJnc1syXSkpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbMl0gPSBhcmdzWzJdID4+PiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbM10gPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBhcmdzWzNdID0gJ3V0ZjgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXJnc1szXSA9IGFyZ3NbMl07XHJcbiAgICAgICAgICAgICAgICBhcmdzWzJdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gYXJnc1sxXTtcclxuICAgICAgICBpZiAoYXJnc1syXSA9PT0gdW5kZWZpbmVkIHx8IGFyZ3NbMl0gPiByZW1haW5pbmcpXHJcbiAgICAgICAgICAgIGFyZ3NbMl0gPSByZW1haW5pbmc7XHJcbiAgICAgICAgaWYgKChhcmdzWzBdLmxlbmd0aCA+IDAgJiYgKGFyZ3NbMl0gPCAwIHx8IGFyZ3NbMV0gPCAwKSkgfHxcclxuICAgICAgICAgICAgYXJnc1sxXSA+IHRoaXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgQnVmZmVyIGJvdW5kcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFyZ3NbM10pIHtcclxuICAgICAgICAgICAgYXJnc1szXSA9ICd1dGY4JztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICg7Oykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3NbM10pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hleCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5oZXhXcml0ZSh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3V0ZjgnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndXRmLTgnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIudXRmOFdyaXRlKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYXNjaWknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuYXNjaWlXcml0ZSh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhdGluMSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiaW5hcnknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIubGF0aW4xV3JpdGUodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiYXNlNjQnOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5iYXNlNjRXcml0ZSh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VjczInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndWNzLTInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndXRmMTZsZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1dGYtMTZsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci51Y3MyV3JpdGUodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgYXJnc1szXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbM10gPSAoJycgKyBhcmdzWzNdKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gd3JpdGU6IG51bWVyaWNzXHJcbiAgICBzdGF0aWMgY2hlY2tJbnQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XHJcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJCdWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7XHJcbiAgICAgICAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpO1xyXG4gICAgfVxyXG4gICAgd3JpdGVVSW50TEUodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDE7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtdWwgPSAxO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcclxuICAgICAgICAgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweGZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aDtcclxuICAgIH1cclxuICAgIHdyaXRlVUludEJFKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxO1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxO1xyXG4gICAgICAgIGxldCBtdWwgPSAxO1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XHJcbiAgICAgICAgICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGg7XHJcbiAgICB9XHJcbiAgICB3cml0ZVVJbnQ4KHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDE7XHJcbiAgICB9XHJcbiAgICB3cml0ZVVJbnQxNkxFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhmZjtcclxuICAgICAgICB0aGlzW29mZnNldCArIDFdID0gdmFsdWUgPj4+IDg7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDI7XHJcbiAgICB9XHJcbiAgICB3cml0ZVVJbnQxNkJFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlID4+PiA4O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDI7XHJcbiAgICB9XHJcbiAgICB3cml0ZVVJbnQzMkxFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzW29mZnNldCArIDNdID0gdmFsdWUgPj4+IDI0O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSB2YWx1ZSA+Pj4gMTY7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAxXSA9IHZhbHVlID4+PiA4O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhmZjtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcclxuICAgIH1cclxuICAgIHdyaXRlVUludDMyQkUodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlID4+PiAyNDtcclxuICAgICAgICB0aGlzW29mZnNldCArIDFdID0gdmFsdWUgPj4+IDE2O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSB2YWx1ZSA+Pj4gODtcclxuICAgICAgICB0aGlzW29mZnNldCArIDNdID0gdmFsdWUgJiAweGZmO1xyXG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xyXG4gICAgfVxyXG4gICAgd3JpdGVJbnRMRSh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xyXG4gICAgICAgIHZhbHVlID0gK3ZhbHVlO1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBtdWwgPSAxO1xyXG4gICAgICAgIGxldCBzdWIgPSAwO1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhmZjtcclxuICAgICAgICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3ViID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzW29mZnNldCArIGldID0gKCgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViKSAmIDB4ZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgd3JpdGVJbnRCRSh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xyXG4gICAgICAgIHZhbHVlID0gK3ZhbHVlO1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGkgPSBieXRlTGVuZ3RoIC0gMTtcclxuICAgICAgICBsZXQgbXVsID0gMTtcclxuICAgICAgICBsZXQgc3ViID0gMDtcclxuICAgICAgICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweGZmO1xyXG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3ViID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzW29mZnNldCArIGldID0gKCgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViKSAmIDB4ZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgd3JpdGVJbnQ4KHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMClcclxuICAgICAgICAgICAgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxO1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhmZjtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMTtcclxuICAgIH1cclxuICAgIHdyaXRlSW50MTZMRSh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIHZhbHVlID0gK3ZhbHVlO1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAxXSA9IHZhbHVlID4+PiA4O1xyXG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xyXG4gICAgfVxyXG4gICAgd3JpdGVJbnQxNkJFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlID4+PiA4O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDI7XHJcbiAgICB9XHJcbiAgICB3cml0ZUludDMyTEUodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4ZmY7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAxXSA9IHZhbHVlID4+PiA4O1xyXG4gICAgICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSB2YWx1ZSA+Pj4gMTY7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAzXSA9IHZhbHVlID4+PiAyNDtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcclxuICAgIH1cclxuICAgIHdyaXRlSW50MzJCRSh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIHZhbHVlID0gK3ZhbHVlO1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDtcclxuICAgICAgICBpZiAoIW5vQXNzZXJ0KSB7XHJcbiAgICAgICAgICAgIEJ1ZmZlci5jaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgICAgIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMTtcclxuICAgICAgICB0aGlzW29mZnNldF0gPSB2YWx1ZSA+Pj4gMjQ7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAxXSA9IHZhbHVlID4+PiAxNjtcclxuICAgICAgICB0aGlzW29mZnNldCArIDJdID0gdmFsdWUgPj4+IDg7XHJcbiAgICAgICAgdGhpc1tvZmZzZXQgKyAzXSA9IHZhbHVlICYgMHhmZjtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XHJcbiAgICAgICAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKTtcclxuICAgICAgICBpZiAob2Zmc2V0IDwgMClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHdyaXRlRmxvYXQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwO1xyXG4gICAgICAgIGlmICghbm9Bc3NlcnQpIHtcclxuICAgICAgICAgICAgQnVmZmVyLmNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUzOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KTtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcclxuICAgIH1cclxuICAgIHdyaXRlRmxvYXRMRSh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIud3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydCk7XHJcbiAgICB9XHJcbiAgICB3cml0ZUZsb2F0QkUodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcclxuICAgICAgICByZXR1cm4gQnVmZmVyLndyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyB3cml0ZURvdWJsZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcclxuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7XHJcbiAgICAgICAgaWYgKCFub0Fzc2VydCkge1xyXG4gICAgICAgICAgICBCdWZmZXIuY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N2UzMDgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOCk7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDg7XHJcbiAgICB9XHJcbiAgICB3cml0ZURvdWJsZUxFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci53cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydCk7XHJcbiAgICB9XHJcbiAgICB3cml0ZURvdWJsZUJFKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XHJcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci53cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBzdGF0aWM6IGFsbG9jXHJcbiAgICBzdGF0aWMgYWxsb2NVbnNhZmUoc2l6ZSkge1xyXG4gICAgICAgIEJ1ZmZlci5hc3NlcnRTaXplKHNpemUpO1xyXG4gICAgICAgIHJldHVybiBCdWZmZXIuY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IEJ1ZmZlci5jaGVja2VkKHNpemUpIHwgMCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYWxsb2Moc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcclxuICAgICAgICBCdWZmZXIuYXNzZXJ0U2l6ZShzaXplKTtcclxuICAgICAgICBpZiAoc2l6ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuY3JlYXRlQnVmZmVyKHNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXHJcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcclxuICAgICAgICAgICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgPyBCdWZmZXIuY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXHJcbiAgICAgICAgICAgICAgICA6IEJ1ZmZlci5jcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jcmVhdGVCdWZmZXIoc2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIHN0YXRpYzogZnJvbVxyXG4gICAgc3RhdGljIGZyb21TdHJpbmcoc3RyLCBlbmNvZGluZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xyXG4gICAgICAgICAgICBlbmNvZGluZyA9ICd1dGY4JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gQnVmZmVyLmJ5dGVMZW5ndGgoc3RyLCBlbmNvZGluZykgfCAwO1xyXG4gICAgICAgIGxldCBidWYgPSBCdWZmZXIuY3JlYXRlQnVmZmVyKGxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgYWN0dWFsID0gYnVmLndyaXRlKHN0ciwgZW5jb2RpbmcpO1xyXG4gICAgICAgIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcclxuICAgICAgICAgICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cclxuICAgICAgICAgICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXHJcbiAgICAgICAgICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IEJ1ZmZlci5jaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwO1xyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5jcmVhdGVCdWZmZXIobGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGJ1ZltpXSA9IGFycmF5W2ldICYgMjU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZyb21BcnJheUJ1ZmZlcihhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYnVmO1xyXG4gICAgICAgIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcclxuICAgICAgICBjb25zdCBmYWNhZGUgPSBidWY7XHJcbiAgICAgICAgZmFjYWRlLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGU7XHJcbiAgICAgICAgcmV0dXJuIGZhY2FkZTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KG9iaikge1xyXG4gICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xyXG4gICAgICAgICAgICBjb25zdCBsZW4gPSBCdWZmZXIuY2hlY2tlZChvYmoubGVuZ3RoKSB8IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5jcmVhdGVCdWZmZXIobGVuKTtcclxuICAgICAgICAgICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2JqLmNvcHkoYnVmLCAwLCAwLCBsZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgQnVmZmVyLm51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLmNyZWF0ZUJ1ZmZlcigwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb21BcnJheUxpa2Uob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBBcnJheS5pc0FycmF5KG9iai5kYXRhKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb21BcnJheUxpa2Uob2JqLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuYWJsZSBjcmVhdGUgYnVmZmVyIGZyb20gZ2l2ZW4gb2JqZWN0LicpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZyb20oLi4uYXJncykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tU3RyaW5nKGFyZ3NbMF0sIGFyZ3NbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGFyZ3NbMF0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbUFycmF5TGlrZShhcmdzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ3NbMF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xyXG4gICAgICAgICAgICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgK1xyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQnVmZmVyLmlzSW5zdGFuY2UoYXJnc1swXSwgQXJyYXlCdWZmZXIpIHx8XHJcbiAgICAgICAgICAgIChhcmdzWzBdICYmIEJ1ZmZlci5pc0luc3RhbmNlKGFyZ3NbMF0uYnVmZmVyLCBBcnJheUJ1ZmZlcikpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbUFycmF5QnVmZmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZhbHVlT2YgPSBhcmdzWzBdLnZhbHVlT2YgJiYgYXJnc1swXS52YWx1ZU9mKCk7XHJcbiAgICAgICAgaWYgKHZhbHVlT2YgIT0gbnVsbCAmJiB2YWx1ZU9mICE9PSBhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYiA9IEJ1ZmZlci5mcm9tT2JqZWN0KGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChiKVxyXG4gICAgICAgICAgICByZXR1cm4gYjtcclxuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgdHlwZW9mIGFyZ3NbMF1bU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYXJnc1swXVtTeW1ib2wudG9QcmltaXRpdmVdKCdzdHJpbmcnKSwgYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xyXG4gICAgICAgICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArXHJcbiAgICAgICAgICAgIHR5cGVvZiBhcmdzWzBdKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBpc0J1ZmZlcihiKSB7XHJcbiAgICAgICAgcmV0dXJuIGIgaW5zdGFuY2VvZiBCdWZmZXI7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYnl0ZUxlbmd0aCguLi5hcmdzKSB7XHJcbiAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihhcmdzWzBdKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYXJnc1swXSkgfHxcclxuICAgICAgICAgICAgQnVmZmVyLmlzSW5zdGFuY2UoYXJnc1swXSwgQXJyYXlCdWZmZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcmdzWzBdLmJ5dGVMZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcgK1xyXG4gICAgICAgICAgICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgYXJnc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxlbiA9IGFyZ3NbMF0ubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IG11c3RNYXRjaCA9IGFyZ3MubGVuZ3RoID4gMiAmJiBhcmdzWzJdID09PSB0cnVlO1xyXG4gICAgICAgIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXHJcbiAgICAgICAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICg7Oykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3NbMV0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FzY2lpJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhdGluMSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiaW5hcnknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsZW47XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1dGY4JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3V0Zi04JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLnV0ZjhUb0J5dGVzKGFyZ3NbMF0pLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VjczInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndWNzLTInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndXRmMTZsZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1dGYtMTZsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxlbiAqIDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoZXgnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsZW4gPj4+IDE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiYXNlNjQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuYmFzZTY0VG9CeXRlcyhhcmdzWzBdKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiBCdWZmZXIudXRmOFRvQnl0ZXMoYXJnc1swXSkubGVuZ3RoOyAvLyBhc3N1bWUgdXRmOFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gKCcnICsgYXJnc1sxXSkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIHN0YXRpYzogY29tcGFyZVxyXG4gICAgc3RhdGljIGNvbXBhcmUoYSwgYikge1xyXG4gICAgICAgIGlmIChCdWZmZXIuaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkge1xyXG4gICAgICAgICAgICBhID0gQnVmZmVyLmZyb20oYSwgYS5ieXRlT2Zmc2V0LCBhLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQnVmZmVyLmlzSW5zdGFuY2UoYiwgVWludDhBcnJheSkpIHtcclxuICAgICAgICAgICAgYiA9IEJ1ZmZlci5mcm9tKGIsIGIuYnl0ZU9mZnNldCwgYi5ieXRlTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhID09PSBiKVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICBsZXQgeCA9IGEubGVuZ3RoO1xyXG4gICAgICAgIGxldCB5ID0gYi5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcclxuICAgICAgICAgICAgICAgIHggPSBhW2ldO1xyXG4gICAgICAgICAgICAgICAgeSA9IGJbaV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeCA8IHkpXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICBpZiAoeSA8IHgpXHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBzdGF0aWM6IGlzRW5jb2RpbmdcclxuICAgIHN0YXRpYyBpc0VuY29kaW5nKGVuY29kaW5nKSB7XHJcbiAgICAgICAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgY2FzZSAnaGV4JzpcclxuICAgICAgICAgICAgY2FzZSAndXRmOCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3V0Zi04JzpcclxuICAgICAgICAgICAgY2FzZSAnYXNjaWknOlxyXG4gICAgICAgICAgICBjYXNlICdsYXRpbjEnOlxyXG4gICAgICAgICAgICBjYXNlICdiaW5hcnknOlxyXG4gICAgICAgICAgICBjYXNlICdiYXNlNjQnOlxyXG4gICAgICAgICAgICBjYXNlICd1Y3MyJzpcclxuICAgICAgICAgICAgY2FzZSAndWNzLTInOlxyXG4gICAgICAgICAgICBjYXNlICd1dGYxNmxlJzpcclxuICAgICAgICAgICAgY2FzZSAndXRmLTE2bGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBzdGF0aWM6IGNvbmNhdFxyXG4gICAgc3RhdGljIGNvbmNhdChsaXN0LCBsZW5ndGgpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKTtcclxuICAgICAgICBsZXQgcG9zID0gMDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgYnVmID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc0luc3RhbmNlKGJ1ZiwgVWludDhBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1Zik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpO1xyXG4gICAgICAgICAgICBwb3MgKz0gYnVmLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gcHJpdmF0ZS1zdGF0aWM6IGhlbHBlcnNcclxuICAgIHN0YXRpYyBhc3NlcnRTaXplKHNpemUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCdzaXplJyBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBUaGUgdmFsdWUgJyR7c2l6ZX0nIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGVCdWZmZXIobGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIGxlbmd0aCArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcclxuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihsZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNoZWNrZWQobGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwgS19NQVhfTEVOR1RIYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXHJcbiAgICAgICAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXHJcbiAgICAgICAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gYCArXHJcbiAgICAgICAgICAgICAgICBgc2l6ZTogMHgke0tfTUFYX0xFTkdUSC50b1N0cmluZygxNil9IGJ5dGVzYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsZW5ndGggfCAwO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGJhc2U2NGNsZWFuKHN0cikge1xyXG4gICAgICAgIC8vIE5vZGUgdGFrZXMgZXF1YWwgc2lnbnMgYXMgZW5kIG9mIHRoZSBCYXNlNjQgZW5jb2RpbmdcclxuICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXTtcclxuICAgICAgICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcclxuICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKTtcclxuICAgICAgICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXHJcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPCAyKVxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XHJcbiAgICAgICAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ciArICc9JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIHN0YXRpYyB0b0hleChuKSB7XHJcbiAgICAgICAgaWYgKG4gPCAxNilcclxuICAgICAgICAgICAgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIHJldHVybiBuLnRvU3RyaW5nKDE2KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyB1dGY4VG9CeXRlcyhzdHIsIHVuaXRzKSB7XHJcbiAgICAgICAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eTtcclxuICAgICAgICBsZXQgY29kZVBvaW50O1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHN0ci5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGxlYWRTdXJyb2dhdGUgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhkN2ZmICYmIGNvZGVQb2ludCA8IDB4ZTAwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcclxuICAgICAgICAgICAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGxlYWQgeWV0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4ZGJmZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goMHhlZiwgMHhiZiwgMHhiZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhbGlkIGxlYWRcclxuICAgICAgICAgICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcclxuICAgICAgICAgICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9XHJcbiAgICAgICAgICAgICAgICAgICAgKCgobGVhZFN1cnJvZ2F0ZSAtIDB4ZDgwMCkgPDwgMTApIHwgKGNvZGVQb2ludCAtIDB4ZGMwMCkpICsgMHgxMDAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gbnVsbDtcclxuICAgICAgICAgICAgLy8gZW5jb2RlIHV0ZjhcclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcclxuICAgICAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goKGNvZGVQb2ludCA+PiAweDYpIHwgMHhjMCwgKGNvZGVQb2ludCAmIDB4M2YpIHwgMHg4MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKChjb2RlUG9pbnQgPj4gMHhjKSB8IDB4ZTAsICgoY29kZVBvaW50ID4+IDB4NikgJiAweDNmKSB8IDB4ODAsIChjb2RlUG9pbnQgJiAweDNmKSB8IDB4ODApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goKGNvZGVQb2ludCA+PiAweDEyKSB8IDB4ZjAsICgoY29kZVBvaW50ID4+IDB4YykgJiAweDNmKSB8IDB4ODAsICgoY29kZVBvaW50ID4+IDB4NikgJiAweDNmKSB8IDB4ODAsIChjb2RlUG9pbnQgJiAweDNmKSB8IDB4ODApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZXM7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYXNjaWlUb0J5dGVzKHN0cikge1xyXG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxyXG4gICAgICAgICAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4ZmYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHV0ZjE2bGVUb0J5dGVzKHN0ciwgdW5pdHMpIHtcclxuICAgICAgICBsZXQgYywgaGksIGxvO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgIGhpID0gYyA+PiA4O1xyXG4gICAgICAgICAgICBsbyA9IGMgJSAyNTY7XHJcbiAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGxvKTtcclxuICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goaGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGJhc2U2NFRvQnl0ZXMoc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShCdWZmZXIuYmFzZTY0Y2xlYW4oc3RyKSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYmxpdEJ1ZmZlcihzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGggfHwgaSA+PSBzcmMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9XHJcbiAgICAvLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzc1xyXG4gICAgLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuXHJcbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvQnVmZmVyL2lzc3Vlcy8xNjZcclxuICAgIHN0YXRpYyBpc0luc3RhbmNlKG9iaiwgdHlwZSkge1xyXG4gICAgICAgIHJldHVybiAob2JqIGluc3RhbmNlb2YgdHlwZSB8fFxyXG4gICAgICAgICAgICAob2JqICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICAgIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbnVtYmVySXNOYU4ob2JqKSB7XHJcbiAgICAgICAgLy8gRm9yIElFMTEgc3VwcG9ydFxyXG4gICAgICAgIHJldHVybiBvYmogIT09IG9iajsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIENvcHlyaWdodCAoYykgMjAwOCwgRmFpciBPYWtzIExhYnMsIEluYy5cclxuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5cclxuICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcclxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuXHJcbiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG5cclxuICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cclxuICAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG5cclxuICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRmFpciBPYWtzIExhYnMsIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzXHJcbiAgICBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICAgIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG5cclxuICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxyXG4gIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcclxuICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxyXG4gIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkVcclxuICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXHJcbiAgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0ZcclxuICBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcclxuICBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxyXG4gIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuXHJcbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZnVuY3Rpb24gcmVhZChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XHJcbiAgICBsZXQgZSwgbTtcclxuICAgIGNvbnN0IGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDE7XHJcbiAgICBjb25zdCBlTWF4ID0gKDEgPDwgZUxlbikgLSAxO1xyXG4gICAgY29uc3QgZUJpYXMgPSBlTWF4ID4+IDE7XHJcbiAgICBsZXQgbkJpdHMgPSAtNztcclxuICAgIGxldCBpID0gaXNMRSA/IG5CeXRlcyAtIDEgOiAwO1xyXG4gICAgY29uc3QgZCA9IGlzTEUgPyAtMSA6IDE7XHJcbiAgICBsZXQgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXTtcclxuICAgIGkgKz0gZDtcclxuICAgIGUgPSBzICYgKCgxIDw8IC1uQml0cykgLSAxKTtcclxuICAgIHMgPj49IC1uQml0cztcclxuICAgIG5CaXRzICs9IGVMZW47XHJcbiAgICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7IH1cclxuICAgIG0gPSBlICYgKCgxIDw8IC1uQml0cykgLSAxKTtcclxuICAgIGUgPj49IC1uQml0cztcclxuICAgIG5CaXRzICs9IG1MZW47XHJcbiAgICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7IH1cclxuICAgIGlmIChlID09PSAwKSB7XHJcbiAgICAgICAgZSA9IDEgLSBlQmlhcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcclxuICAgICAgICByZXR1cm4gbSA/IE5hTiA6IChzID8gLTEgOiAxKSAqIEluZmluaXR5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKTtcclxuICAgICAgICBlID0gZSAtIGVCaWFzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbik7XHJcbn1cclxuZXhwb3J0cy5yZWFkID0gcmVhZDtcclxuZnVuY3Rpb24gd3JpdGUoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcclxuICAgIGxldCBlLCBtLCBjO1xyXG4gICAgbGV0IGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDE7XHJcbiAgICBjb25zdCBlTWF4ID0gKDEgPDwgZUxlbikgLSAxO1xyXG4gICAgY29uc3QgZUJpYXMgPSBlTWF4ID4+IDE7XHJcbiAgICBjb25zdCBydCA9IG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwO1xyXG4gICAgbGV0IGkgPSBpc0xFID8gMCA6IG5CeXRlcyAtIDE7XHJcbiAgICBjb25zdCBkID0gaXNMRSA/IDEgOiAtMTtcclxuICAgIGNvbnN0IHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDA7XHJcbiAgICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKTtcclxuICAgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwO1xyXG4gICAgICAgIGUgPSBlTWF4O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpO1xyXG4gICAgICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcclxuICAgICAgICAgICAgZS0tO1xyXG4gICAgICAgICAgICBjICo9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xyXG4gICAgICAgICAgICB2YWx1ZSArPSBydCAvIGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xyXG4gICAgICAgICAgICBlKys7XHJcbiAgICAgICAgICAgIGMgLz0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XHJcbiAgICAgICAgICAgIG0gPSAwO1xyXG4gICAgICAgICAgICBlID0gZU1heDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcclxuICAgICAgICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pO1xyXG4gICAgICAgICAgICBlID0gZSArIGVCaWFzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pO1xyXG4gICAgICAgICAgICBlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7IH1cclxuICAgIGUgPSAoZSA8PCBtTGVuKSB8IG07XHJcbiAgICBlTGVuICs9IG1MZW47XHJcbiAgICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHsgfVxyXG4gICAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4O1xyXG59XHJcbmV4cG9ydHMud3JpdGUgPSB3cml0ZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTRcclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgbG9va3VwID0gW107XHJcbmNvbnN0IHJldkxvb2t1cCA9IFtdO1xyXG5jb25zdCBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXk7XHJcbmNvbnN0IGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbmZvciAobGV0IGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICBsb29rdXBbaV0gPSBjb2RlW2ldO1xyXG4gICAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpO1xyXG59XHJcbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cclxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xyXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjI7XHJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2MztcclxuZnVuY3Rpb24gZ2V0TGVucyhiNjQpIHtcclxuICAgIGNvbnN0IGxlbiA9IGI2NC5sZW5ndGg7XHJcbiAgICBpZiAobGVuICUgNCA+IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKTtcclxuICAgIH1cclxuICAgIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxyXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXHJcbiAgICBsZXQgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpO1xyXG4gICAgaWYgKHZhbGlkTGVuID09PSAtMSlcclxuICAgICAgICB2YWxpZExlbiA9IGxlbjtcclxuICAgIGNvbnN0IHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW4gPyAwIDogNCAtICh2YWxpZExlbiAlIDQpO1xyXG4gICAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXTtcclxufVxyXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcclxuZnVuY3Rpb24gYnl0ZUxlbmd0aChiNjQpIHtcclxuICAgIGNvbnN0IGxlbnMgPSBnZXRMZW5zKGI2NCk7XHJcbiAgICBjb25zdCB2YWxpZExlbiA9IGxlbnNbMF07XHJcbiAgICBjb25zdCBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdO1xyXG4gICAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMykgLyA0IC0gcGxhY2VIb2xkZXJzTGVuO1xyXG59XHJcbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGg7XHJcbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoKHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcclxuICAgIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMpIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcclxufVxyXG5mdW5jdGlvbiB0b0J5dGVBcnJheShiNjQpIHtcclxuICAgIGNvbnN0IGxlbnMgPSBnZXRMZW5zKGI2NCk7XHJcbiAgICBjb25zdCB2YWxpZExlbiA9IGxlbnNbMF07XHJcbiAgICBjb25zdCBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdO1xyXG4gICAgY29uc3QgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aCh2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSk7XHJcbiAgICBsZXQgdG1wO1xyXG4gICAgbGV0IGN1ckJ5dGUgPSAwO1xyXG4gICAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xyXG4gICAgY29uc3QgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMCA/IHZhbGlkTGVuIC0gNCA6IHZhbGlkTGVuO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XHJcbiAgICAgICAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxyXG4gICAgICAgICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxyXG4gICAgICAgICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXTtcclxuICAgICAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhmZjtcclxuICAgICAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweGZmO1xyXG4gICAgICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhmZjtcclxuICAgIH1cclxuICAgIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcclxuICAgICAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XHJcbiAgICAgICAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KTtcclxuICAgICAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4ZmY7XHJcbiAgICB9XHJcbiAgICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XHJcbiAgICAgICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcclxuICAgICAgICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcclxuICAgICAgICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpO1xyXG4gICAgICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4ZmY7XHJcbiAgICAgICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweGZmO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFycjtcclxufVxyXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXk7XHJcbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChudW0pIHtcclxuICAgIHJldHVybiAobG9va3VwWyhudW0gPj4gMTgpICYgMHgzZl0gK1xyXG4gICAgICAgIGxvb2t1cFsobnVtID4+IDEyKSAmIDB4M2ZdICtcclxuICAgICAgICBsb29rdXBbKG51bSA+PiA2KSAmIDB4M2ZdICtcclxuICAgICAgICBsb29rdXBbbnVtICYgMHgzZl0pO1xyXG59XHJcbmV4cG9ydHMudHJpcGxldFRvQmFzZTY0ID0gdHJpcGxldFRvQmFzZTY0O1xyXG5mdW5jdGlvbiBlbmNvZGVDaHVuayh1aW50OCwgc3RhcnQsIGVuZCkge1xyXG4gICAgbGV0IHRtcDtcclxuICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcclxuICAgICAgICB0bXAgPVxyXG4gICAgICAgICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4ZmYwMDAwKSArXHJcbiAgICAgICAgICAgICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4ZmYwMCkgK1xyXG4gICAgICAgICAgICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4ZmYpO1xyXG4gICAgICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XHJcbn1cclxuZXhwb3J0cy5lbmNvZGVDaHVuayA9IGVuY29kZUNodW5rO1xyXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5KHVpbnQ4KSB7XHJcbiAgICBsZXQgdG1wO1xyXG4gICAgY29uc3QgbGVuID0gdWludDgubGVuZ3RoO1xyXG4gICAgY29uc3QgZXh0cmFCeXRlcyA9IGxlbiAlIDM7IC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXHJcbiAgICBjb25zdCBwYXJ0cyA9IFtdO1xyXG4gICAgY29uc3QgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MzsgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXHJcbiAgICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XHJcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgaSArIG1heENodW5rTGVuZ3RoID4gbGVuMiA/IGxlbjIgOiBpICsgbWF4Q2h1bmtMZW5ndGgpKTtcclxuICAgIH1cclxuICAgIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcclxuICAgIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XHJcbiAgICAgICAgdG1wID0gdWludDhbbGVuIC0gMV07XHJcbiAgICAgICAgcGFydHMucHVzaChsb29rdXBbdG1wID4+IDJdICsgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNmXSArICc9PScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xyXG4gICAgICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdO1xyXG4gICAgICAgIHBhcnRzLnB1c2gobG9va3VwW3RtcCA+PiAxMF0gK1xyXG4gICAgICAgICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M2ZdICtcclxuICAgICAgICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNmXSArXHJcbiAgICAgICAgICAgICc9Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFydHMuam9pbignJyk7XHJcbn1cclxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcclxuLyoqXHJcbiAqIFByb3ZpZGVzIGFuIGFzeW5jaHJvbm91cyBXcml0YWJsZSBhYnN0cmFjdGlvbiBvdmVyIHN0cmVhbXMuIFRoaXMgdHlwZSBpc1xyXG4gKiB1c2VkIGFzIGEgc2VuZGVyIGZvciBSZWFkYWJsZTxUPiBhbmQgYWxzbyBwcm92aWRlcyBob29rcyBmb3IgdGhlXHJcbiAqIFdyaXRhYmxlU3RyZWFtPFQ+IHR5cGUgdGhhdCBpcyBjdXJyZW50bHkgcGVuZGluZyBpbXBsZW1lbnRhdGlvbiBpblxyXG4gKiBGaXJlZm94LlxyXG4gKi9cclxuY2xhc3MgV3JpdGFibGUge1xyXG4gICAgY29uc3RydWN0b3Ioc2luaykge1xyXG4gICAgICAgIHRoaXMuc2luayA9IHNpbms7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0ge307XHJcbiAgICAgICAgdGhpcy5zZW1hcGhvcmUgPSBuZXcgYXN5bmNfMS5TZW1hcGhvcmUoMSk7XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFN0YXJ0cyB0aGlzIHdyaXRhYmxlLiAqL1xyXG4gICAgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2luay5zdGFydCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW1hcGhvcmUucnVuKCgpID0+IHRoaXMuc2luay5zdGFydCh0aGlzLmNvbnRyb2xsZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIFdyaXRlcyB0aGlzIHZhbHVlIHRvIHRoZSBzdHJlYW0uICovXHJcbiAgICBhc3luYyB3cml0ZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXJyb3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyB0aGlzLmVycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zaW5rLndyaXRlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbWFwaG9yZS5ydW4oKCkgPT4gdGhpcy5zaW5rLndyaXRlKGRhdGEsIHRoaXMuY29udHJvbGxlcikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogQWJvcnRzIHRoaXMgc3RyZWFtIHdpdGggYW4gZXJyb3IuLiAqL1xyXG4gICAgYXN5bmMgYWJvcnQoZXJyb3IgPSBuZXcgRXJyb3IoJ2Fib3J0JykpIHtcclxuICAgICAgICBpZiAodGhpcy5lcnJvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IHRoaXMuZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNpbmsuYWJvcnQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VtYXBob3JlLnJ1bigoKSA9PiB0aGlzLnNpbmsuYWJvcnQoZXJyb3IpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIENsb3NlcyB0aGlzIHN0cmVhbS4gKi9cclxuICAgIGFzeW5jIGNsb3NlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVycm9yICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgdGhpcy5lcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2luay5jbG9zZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW1hcGhvcmUucnVuKCgpID0+IHRoaXMuc2luay5jbG9zZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuV3JpdGFibGUgPSBXcml0YWJsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY2xhc3MgUmVhZGFibGVBc3luY0l0ZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlYWRhYmxlKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkYWJsZSA9IHJlYWRhYmxlO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgbmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkYWJsZS5yZWFkKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZWFkYWJsZUFzeW5jSXRlcmF0b3IgPSBSZWFkYWJsZUFzeW5jSXRlcmF0b3I7XHJcbi8qKlxyXG4gKiBBbiBhc3luY2hyb25vdXMgcHVsbCBiYXNlZCByZWFkYWJsZSBzdHJlYW0gd2l0aCBhc3luY0l0ZXJhdG9yIHN1cHBvcnQuXHJcbiAqL1xyXG5jbGFzcyBSZWFkYWJsZSB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBSZWFkYWJsZSBmcm9tIHRoZSBnaXZlbiBVbmRlcmx5aW5nU291cmNlPFQ+LiAqL1xyXG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oc291cmNlKTtcclxuICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuc3RyZWFtLmdldFJlYWRlcigpO1xyXG4gICAgfVxyXG4gICAgLyoqIEltcGxlbWVudHMgdGhlIElBc3luY0l0ZXJhdG9yIHByb3RvY29sLiAqL1xyXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlYWRhYmxlQXN5bmNJdGVyYXRvcih0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKiBSZWFkcyB0aGUgbmV4dCAncmVzdWx0JyBmcm9tIHRoZSB1bmRlcmx5aW5nIHN0cmVhbS4gKi9cclxuICAgIGFzeW5jIHJlYWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZGVyLnJlYWQoKTtcclxuICAgIH1cclxuICAgIC8qKiBDYW5jZWxzIHJlYWRpbmcgZnJvbSB0aGlzIHJlYWRhYmxlLiAqL1xyXG4gICAgY2FuY2VsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRlci5jYW5jZWwoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGlwZXMgZnJvbSB0aGlzIHJlYWRpbmcgaW50byB0aGUgZ2l2ZW4gd3JpdGFibGUgdGFyZ2V0LiBUaGlzXHJcbiAgICAgKiBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNoYWluaW5nIHBpcGUgb3BlcmF0aW9ucy5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgcGlwZSh3cml0YWJsZSkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRhYmxlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRhYmxlLmFib3J0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVhZGFibGUgPSBSZWFkYWJsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIFByb3ZpZGVzIGFuIGFzeW5jaHJvbm91cyBxdWVyeSBpbnRlcmZhY2Ugb3ZlciBBc3luY0l0ZXJhYmxlPFQ+LiBUaGlzIGNsYXNzXHJcbiAqIGlzIG1vZGVsbGVkIG9uIEMjJ3MgUXVlcnlhYmxlPFQ+IHR5cGUgYWxsb3dpbmcgZXhwcmVzc2lvbnMgdG8gYmUgYnVpbHQgYW5kXHJcbiAqIGV2YWx1YXRlZCBlaXRoZXIgdmlhIGVudW1lcmF0aW9uLCBvciB2aWEgZWFnZXIgY29sbGVjdGlvbi5cclxuICovXHJcbmNsYXNzIFF1ZXJ5YWJsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihpdGVyYWJsZSkge1xyXG4gICAgICAgIHRoaXMuaXRlcmFibGUgPSBpdGVyYWJsZTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcihpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRvcih0aGlzLml0ZXJhYmxlKTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gbGF6eSBldmFsdWF0b3JzXHJcbiAgICAvKiogIENvbmNhdGVuYXRlcyB0d28gcXVlcnkgc2VxdWVuY2VzIHJldHVybmluZyBhIG5ldyBxdWVyeSB0aGF0IGVudW1lcmF0ZXMgdGhlIGZpcnN0LCB0aGVuIHRoZSBzZWNvbmQuICovXHJcbiAgICBjb25jYXQocXVlcnlhYmxlKSB7XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcihpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIHF1ZXJ5YWJsZS5pdGVyYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5YWJsZShnZW5lcmF0b3IodGhpcy5pdGVyYWJsZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgZGlzdGluY3QgZWxlbWVudHMgZnJvbSBhIHNlcXVlbmNlIGJ5IHVzaW5nIHRoZSBkZWZhdWx0IGVxdWFsaXR5IGNvbXBhcmVyIHRvIGNvbXBhcmUgdmFsdWVzLiAgKi9cclxuICAgIGRpc3RpbmN0KGZ1bmMpIHtcclxuICAgICAgICBmdW5jID0gZnVuYyB8fCAoKHZhbHVlKSA9PiB2YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgYWNjdSA9IFtdO1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBmdW5jKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY3UuaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY3UucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeWFibGUoZ2VuZXJhdG9yKHRoaXMuaXRlcmFibGUpKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXgsIGlmIG5vIGVsZW1lbnQgZXhpc3RzLCByZWplY3QuICovXHJcbiAgICBhc3luYyBlbGVtZW50QXQoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBhcnJheSA9IGF3YWl0IHRoaXMudG9BcnJheSgpO1xyXG4gICAgICAgIHJldHVybiBhcnJheVtpbmRleF07XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudC4gaWYgbm8gZWxlbWVudCBleGlzdHMsIHJlamVjdC4gKi9cclxuICAgIGFzeW5jIGZpcnN0KCkge1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gYXdhaXQgdGhpcy50b0FycmF5KCk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5WzBdO1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGlzIHNlcXVlbmNlLiBpZiBlbXB0eSwgcmVqZWN0LiAqL1xyXG4gICAgYXN5bmMgbGFzdCgpIHtcclxuICAgICAgICBjb25zdCBhcnJheSA9IGF3YWl0IHRoaXMudG9BcnJheSgpO1xyXG4gICAgICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuICAgIC8qKiAoaW50ZXJuYWwpIHByb3ZpZGVzIG9yZGVyaW5nIGZvciB0aGUgb3JkZXJCeSgpIGFuZCBvcmRlckJ5RGVzY2VuZGluZygpIG9wZXJhdG9ycy4gKi9cclxuICAgIG9yZGVyaW5nKGRpcmVjdGlvbiwgZnVuYykge1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IGFycmF5LnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBmdW5jKGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBmdW5jKGIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChkaXJlY3Rpb24gPT09IFwiYXNjXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyArKGxlZnQgPiByaWdodCkgfHwgKyhsZWZ0ID09PSByaWdodCkgLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgOiArKGxlZnQgPCByaWdodCkgfHwgKyhsZWZ0ID09PSByaWdodCkgLSAxO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHNvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5YWJsZShnZW5lcmF0b3IodGhpcy5pdGVyYWJsZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNvcnRzIHRoZSBlbGVtZW50cyBvZiBhIHNlcXVlbmNlIGluIGFzY2VuZGluZyBvcmRlciBhY2NvcmRpbmcgdG8gYSBrZXkuIFRoaXMgbWV0aG9kIHJlcXVpcmVzIGFuIGludGVybmFsIGNvbGxlY3QoKS4gKi9cclxuICAgIG9yZGVyQnkoZnVuYykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9yZGVyaW5nKFwiYXNjXCIsIGZ1bmMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNvcnRzIHRoZSBlbGVtZW50cyBvZiBhIHNlcXVlbmNlIGluIGRlc2NlbmRpbmcgb3JkZXIgYWNjb3JkaW5nIHRvIGEga2V5LiBUaGlzIG1ldGhvZCByZXF1aXJlcyBhbiBpbnRlcm5hbCBjb2xsZWN0KCkuICovXHJcbiAgICBvcmRlckJ5RGVzY2VuZGluZyhmdW5jKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXJpbmcoXCJkZXNjXCIsIGZ1bmMpO1xyXG4gICAgfVxyXG4gICAgLyoqIEludmVydHMgdGhlIG9yZGVyIG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlcXVlbmNlLiBUaGlzIG1ldGhvZCByZXF1aXJlcyBhbiBpbnRlcm5hbCBjb2xsZWN0LiAqL1xyXG4gICAgcmV2ZXJzZSgpIHtcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gW107XHJcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiBpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSAhPT0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBhcnJheVtpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5YWJsZShnZW5lcmF0b3IodGhpcy5pdGVyYWJsZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIFByb2plY3RzIGVhY2ggZWxlbWVudCBvZiBhIHNlcXVlbmNlIGludG8gYSBuZXcgZm9ybS4gKi9cclxuICAgIHNlbGVjdChmdW5jKSB7XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcihpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIGZ1bmMoZWxlbWVudCwgaW5kZXgrKyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeWFibGUoZ2VuZXJhdG9yKHRoaXMuaXRlcmFibGUpKTtcclxuICAgIH1cclxuICAgIC8qKiBQcm9qZWN0cyBlYWNoIGVsZW1lbnQgb2YgYSBzZXF1ZW5jZSB0byBhbiBJRW51bWVyYWJsZTxUPiBhbmQgY29tYmluZXMgdGhlIHJlc3VsdGluZyBzZXF1ZW5jZXMgaW50byBvbmUgc2VxdWVuY2UuICovXHJcbiAgICBzZWxlY3RNYW55KGZ1bmMpIHtcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudDAgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudDEgb2YgZnVuYyhlbGVtZW50MCwgaW5kZXgrKykpIHtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBlbGVtZW50MTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5YWJsZShnZW5lcmF0b3IodGhpcy5pdGVyYWJsZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIEJ5cGFzc2VzIGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cyBpbiBhIHNlcXVlbmNlIGFuZCB0aGVuIHJldHVybnMgdGhlIHJlbWFpbmluZyBlbGVtZW50cy4gKi9cclxuICAgIHNraXAoY291bnQpIHtcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiBpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeWFibGUoZ2VuZXJhdG9yKHRoaXMuaXRlcmFibGUpKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIGEgc3BlY2lmaWVkIG51bWJlciBvZiBjb250aWd1b3VzIGVsZW1lbnRzIGZyb20gdGhlIHN0YXJ0IG9mIGEgc2VxdWVuY2UuICovXHJcbiAgICB0YWtlKGNvdW50KSB7XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcihpdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeWFibGUoZ2VuZXJhdG9yKHRoaXMuaXRlcmFibGUpKTtcclxuICAgIH1cclxuICAgIC8qKiBGaWx0ZXJzIGEgc2VxdWVuY2Ugb2YgdmFsdWVzIGJhc2VkIG9uIGEgcHJlZGljYXRlLiAqL1xyXG4gICAgd2hlcmUoZnVuYykge1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnVuYyhlbGVtZW50LCBpbmRleCsrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeWFibGUoZ2VuZXJhdG9yKHRoaXMuaXRlcmFibGUpKTtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gZWFnZXIgYWdncmVnYXRvcnNcclxuICAgIC8qKiBBcHBsaWVzIGFuIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIG92ZXIgYSBzZXF1ZW5jZS4gKi9cclxuICAgIGFzeW5jIGFnZ3JlZ2F0ZShmdW5jLCBpbml0aWFsKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBhd2FpdCB0aGlzLnRvQXJyYXkoKTtcclxuICAgICAgICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmMsIGluaXRpYWwpO1xyXG4gICAgfVxyXG4gICAgLyoqIERldGVybWluZXMgd2hldGhlciBhbGwgdGhlIGVsZW1lbnRzIG9mIGEgc2VxdWVuY2Ugc2F0aXNmeSBhIGNvbmRpdGlvbi4gKi9cclxuICAgIGFzeW5jIGFsbChmdW5jKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBhd2FpdCB0aGlzLnRvQXJyYXkoKTtcclxuICAgICAgICByZXR1cm4gYXJyYXkuZXZlcnkoZnVuYyk7XHJcbiAgICB9XHJcbiAgICAvKiogQ29tcHV0ZXMgdGhlIGF2ZXJhZ2Ugb2YgYSBzZXF1ZW5jZSBvZiBudW1lcmljIHZhbHVlcy4gKi9cclxuICAgIGFzeW5jIGF2ZXJhZ2UoZnVuYykge1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gYXdhaXQgdGhpcy50b0FycmF5KCk7XHJcbiAgICAgICAgY29uc3Qgc3VtID0gYXJyYXkubWFwKGZ1bmMpLnJlZHVjZSgoYWNjLCBjKSA9PiBhY2MgKyBjLCAwKTtcclxuICAgICAgICByZXR1cm4gc3VtIC8gYXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqIERldGVybWluZXMgd2hldGhlciBhIHNlcXVlbmNlIGNvbnRhaW5zIGFueSBlbGVtZW50cyB0aGF0IG1lZXQgdGhpcyBjcml0ZXJpYS4gKi9cclxuICAgIGFzeW5jIGFueShmdW5jKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBhd2FpdCB0aGlzLnRvQXJyYXkoKTtcclxuICAgICAgICByZXR1cm4gYXJyYXkuc29tZShmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGEgc2VxdWVuY2UuIE5vdGUsIHRoaXMgZnVuY3Rpb25cclxuICAgICAqIGVudW1lcmF0ZXMgYWxsIGVsZW1lbnRzIGZvciB0aGlzIHF1ZXJ5YWJsZS4gRm9yIHRoZSBmYXN0IHBhdGgsIHVzZVxyXG4gICAgICogdGhlIC5jb3VudCgpIGZ1bmN0aW9uIG9uIHRoZSBgRGF0YWJhc2VgIHR5cGUuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNvdW50KCkge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGNvdW50ICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxuICAgIC8qKiBDb21wdXRlcyB0aGUgc3VtIG9mIHRoZSBzZXF1ZW5jZSBvZiBudW1lcmljIHZhbHVlcy4gKi9cclxuICAgIGFzeW5jIHN1bShmdW5jKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBhd2FpdCB0aGlzLnRvQXJyYXkoKTtcclxuICAgICAgICByZXR1cm4gYXJyYXkucmVkdWNlKChhY2MsIGMsIGluZGV4KSA9PiBhY2MgKyBmdW5jKGMsIGluZGV4KSwgMCk7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0aGlzIHF1ZXJ5YWJsZSBhcyBhbiBhcnJheS4gKi9cclxuICAgIGFzeW5jIHRvQXJyYXkoKSB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gW107XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIHRoaXMuaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgYnVmZmVyLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5RdWVyeWFibGUgPSBRdWVyeWFibGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBUaGlzIHR5cGUgcHJvdmlkZXMgaGlnaCBsZXZlbCBzeXN0ZW0gaW5mb3JtYXRpb24gdGhlIHVzZXIgYWdlbnQsIHN0b3JhZ2VcclxuICogY2FwYWJpbGl0aWVzIGFuZCBuZXR3b3JrIHN0YXRzLiBJbmZvcm1hdGlvbiBnaXZlbiBieSB0aGlzIHR5cGUgbWF5IHZhcnlcclxuICogb24gdXNlciBhZ2VudCBiYXNpcy5cclxuICovXHJcbmNsYXNzIFN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuZXQpIHtcclxuICAgICAgICB0aGlzLm5ldCA9IG5ldDtcclxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgdGhlIHN5c3RlbSB1cHRpbWUgaW4gbWlsbGlzZWNvbmRzLiAqL1xyXG4gICAgdXB0aW1lKCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ZWQgPSB0aGlzLnN0YXJ0ZWQuZ2V0VGltZSgpO1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgcmV0dXJuIG5vdyAtIHN0YXJ0ZWQ7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyBhIHNpbmdsZSBuZXRzdGF0IG9iamVjdCBmcm9tIHRoZSBnaXZlbiBwZWVyLiAqL1xyXG4gICAgYXN5bmMgZ2V0TmV0U3RhdChwZWVyKSB7XHJcbiAgICAgICAgY29uc3QgbG9jYWwgPSBwZWVyLmxvY2FsO1xyXG4gICAgICAgIGNvbnN0IHJlbW90ZSA9IHBlZXIucmVtb3RlO1xyXG4gICAgICAgIGNvbnN0IGxvb3BiYWNrID0gcGVlci5sb29wYmFjaztcclxuICAgICAgICBjb25zdCB0cmFuc2NlaXZlcnMgPSBwZWVyLmNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHNlbmRlcnMgPSBwZWVyLmNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHBlZXIuY29ubmVjdGlvbi5nZXRTdGF0cygpO1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSB7fTtcclxuICAgICAgICBzdGF0cy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goa2V5ID0+IHsgaW5mb1trZXldID0gdmFsdWVba2V5XTsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgbG9jYWwsIHJlbW90ZSwgbG9vcGJhY2ssIHRyYW5zY2VpdmVycywgc2VuZGVycywgLi4uaW5mbyB9O1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgbmV0d29yayBzdGF0aXN0aWNzLiAqL1xyXG4gICAgYXN5bmMgbmV0c3RhdCgpIHtcclxuICAgICAgICBjb25zdCBwZWVycyA9IHRoaXMubmV0LmdldFBlZXJzKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBwZWVycy5rZXlzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgcGVlciA9IHBlZXJzLmdldChrZXkpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ID0gYXdhaXQgdGhpcy5nZXROZXRTdGF0KHBlZXIpO1xyXG4gICAgICAgICAgICBzdGF0cy5wdXNoKHN0YXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdHM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5TeXN0ZW0gPSBTeXN0ZW07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XHJcbmNvbnN0IHF1ZXJ5YWJsZV8xID0gcmVxdWlyZShcIi4uL3F1ZXJ5YWJsZVwiKTtcclxuY29uc3QgZHJpdmVyXzEgPSByZXF1aXJlKFwiLi9kcml2ZXJcIik7XHJcbmNvbnN0IHN0cmVhbXNfMSA9IHJlcXVpcmUoXCIuLi9zdHJlYW1zXCIpO1xyXG5jb25zdCBrZXlfMSA9IHJlcXVpcmUoXCIuL2tleVwiKTtcclxuY2xhc3MgS2V5UmVxdWlyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLktleVJlcXVpcmVkRXJyb3IgPSBLZXlSZXF1aXJlZEVycm9yO1xyXG4vKipcclxuICogQW4gSW5kZXhlZERCIGRhdGFiYXNlIGFic3RyYWN0aW9uIHRoYXQgc3VwcG9ydHMgdHJhbnNhY3Rpb25hbCB3cml0ZSBhbmRcclxuICogYXMgd2VsbCBhcyBhbiBleHByZXNzaW9uIGJhc2VkIHF1ZXJ5IGludGVyZmFjZSBmb3IgcmVhZGluZy4gVGhpcyB0eXBlIGlzXHJcbiAqIGRlc2lnbmVkIGFzIGxvY2FsIGRhdGFiYXNlIGZvciBub2RlcywgYnV0IGFsc28gdG8gc2VydmljZSBhcyBhIG5ldHdvcmtlZFxyXG4gKiBkYXRhYmFzZSBzZXJ2ZWQgb3ZlciB0aGUgbmV0d29yayB2aWEgc21va2VzIFJFU1Qgc3RyZWFtIHByb3RvY29sLlxyXG4gKi9cclxuY2xhc3MgRGF0YWJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIHRoaXMuYmFycmllciA9IG5ldyBhc3luY18xLkJhcnJpZXIoKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0ID0ge1xyXG4gICAgICAgICAgICBpbnNlcnRzOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIHVwZGF0ZXM6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgZGVsZXRlczogbmV3IE1hcCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbm5lY3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiogSW50ZXJuYWxseSBjb25uZWN0cyB0byB0aGUgSURCIGRhdGFiYXNlLiAqL1xyXG4gICAgYXN5bmMgY29ubmVjdChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5kcml2ZXIgPSBhd2FpdCBkcml2ZXJfMS5JREJEcml2ZXIuY29ubmVjdChuYW1lKTtcclxuICAgICAgICB0aGlzLmJhcnJpZXIucmVzdW1lKCk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyB0aGUgbmFtZSBvZiB0aGlzIGRhdGFiYXNlLiAqL1xyXG4gICAgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmRyaXZlci5uYW1lKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqIEdldHMgdGhlIHZlcnNpb24gb2YgdGhpcyBkYXRhYmFzZS4gKi9cclxuICAgIHZlcnNpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFycmllci5ydW4oKCkgPT4gdGhpcy5kcml2ZXIudmVyc2lvbigpKTtcclxuICAgIH1cclxuICAgIC8qKiBHZXRzIHRoZSBzdG9yZSBuYW1lcyBmb3IgdGhpcyBkYXRhYmFzZS4gKi9cclxuICAgIHN0b3JlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmRyaXZlci5zdG9yZXMoKSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIGdpdmVuIHN0b3JlLiAqL1xyXG4gICAgY291bnQoc3RvcmVLZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyaXZlci5zdG9yZXMoKS5pbmNsdWRlcyhzdG9yZUtleSlcclxuICAgICAgICAgICAgICAgID8gdGhpcy5kcml2ZXIuY291bnQoc3RvcmVLZXkpXHJcbiAgICAgICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiByZWNvcmRLZXkgZXhpc3RzIGluIHRoZSBnaXZlbiBzdG9yZS4gKi9cclxuICAgIGV4aXN0cyhzdG9yZUtleSwgcmVjb3JkS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFycmllci5ydW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcml2ZXIuc3RvcmVzKCkuaW5jbHVkZXMoc3RvcmVLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvcmQgPSBhd2FpdCB0aGlzLmRyaXZlci5nZXQoc3RvcmVLZXksIHJlY29yZEtleSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIGEgcmVjb3JkIGZyb20gYSBzdG9yZSB3aXRoIHRoZSBnaXZlbiBSZWNvcmRLZXkuICovXHJcbiAgICBnZXQoc3RvcmVLZXksIHJlY29yZEtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhcnJpZXIucnVuKCgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJpdmVyLnN0b3JlcygpLmluY2x1ZGVzKHN0b3JlS2V5KVxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLmRyaXZlci5nZXQoc3RvcmVLZXksIHJlY29yZEtleSlcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIEluc2VydHMgYSByZWNvcmQgaW50byB0aGUgZ2l2ZW4gc3RvcmUuICovXHJcbiAgICBpbnNlcnQoc3RvcmVLZXksIHJlY29yZCkge1xyXG4gICAgICAgIGlmICghdGhpcy50cmFuc2FjdC5pbnNlcnRzLmhhcyhzdG9yZUtleSkpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2FjdC5pbnNlcnRzLnNldChzdG9yZUtleSwgW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYW5zYWN0Lmluc2VydHMuZ2V0KHN0b3JlS2V5KS5wdXNoKHJlY29yZCk7XHJcbiAgICB9XHJcbiAgICAvKiogVXBkYXRlcyBhIHJlY29yZCB3aXRoIHRoZSBnaXZlbiBzdG9yZS4gKi9cclxuICAgIHVwZGF0ZShzdG9yZUtleSwgcmVjb3JkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zYWN0LnVwZGF0ZXMuaGFzKHN0b3JlS2V5KSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0LnVwZGF0ZXMuc2V0KHN0b3JlS2V5LCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHJhbnNhY3QudXBkYXRlcy5nZXQoc3RvcmVLZXkpLnB1c2gocmVjb3JkKTtcclxuICAgIH1cclxuICAgIC8qKiBEZWxldGVzIGEgcmVjb3JkIGluIHRoZSBzdG9yZS4gKi9cclxuICAgIGRlbGV0ZSguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVLZXkgPSBhcmdzWzBdO1xyXG4gICAgICAgIGNvbnN0IHJlY29yZCA9ICh0eXBlb2YgYXJnc1sxXSA9PT0gJ3N0cmluZycpID8gKHsga2V5OiBhcmdzWzFdIH0pIDogYXJnc1sxXTtcclxuICAgICAgICBpZiAocmVjb3JkLmtleSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBLZXlSZXF1aXJlZEVycm9yKGBDYW5ub3QgZGVsZXRlIHJlY29yZCB3aXRob3V0IFwia2V5XCIgcHJvcGVydHkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy50cmFuc2FjdC5kZWxldGVzLmhhcyhzdG9yZUtleSkpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2FjdC5kZWxldGVzLnNldChzdG9yZUtleSwgW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYW5zYWN0LmRlbGV0ZXMuZ2V0KHN0b3JlS2V5KS5wdXNoKHJlY29yZCk7XHJcbiAgICB9XHJcbiAgICAvKiogRGVsZXRlcyBhIHN0b3JlIGZyb20gdGhpcyBkYXRhYmFzZS4gKi9cclxuICAgIGRyb3Aoc3RvcmVLZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmRyaXZlci5yZW1vdmUoW3N0b3JlS2V5XSkpO1xyXG4gICAgfVxyXG4gICAgLyoqIENvbW1pdHMgYW55IGluc2VydHMsIHVwZGF0ZXMgb3IgZGVsZXRlcyBtYWRlIHRvIHRoaXMgZGF0YWJhc2UuICovXHJcbiAgICBhc3luYyBjb21taXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFycmllci5ydW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVzID0gW1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy50cmFuc2FjdC5pbnNlcnRzLmtleXMoKSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMudHJhbnNhY3QudXBkYXRlcy5rZXlzKCksXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnRyYW5zYWN0LmRlbGV0ZXMua2V5cygpXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZHJpdmVyLmFkZChjcmVhdGVzKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kcml2ZXIudHJhbnNhY3QodGhpcy50cmFuc2FjdCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3QuaW5zZXJ0cy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0LnVwZGF0ZXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2FjdC5kZWxldGVzLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogQ3JlYXRlcyBhIHF1ZXJ5IGZvciB0aGUgZ2l2ZW4gc3RvcmVLZXkuICovXHJcbiAgICBxdWVyeShzdG9yZUtleSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgcXVlcnlhYmxlXzEuUXVlcnlhYmxlKHRoaXMucmVhZGFibGUoc3RvcmVLZXkpKTtcclxuICAgIH1cclxuICAgIC8qKiBHZW5lcmF0ZXMgYSBuZXcga2V5LiAqL1xyXG4gICAga2V5KCkge1xyXG4gICAgICAgIHJldHVybiBrZXlfMS5LZXkuY3JlYXRlKCk7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyBhIHJlYWRhYmxlIHRvIHRoaXMgc3RvcmUga2V5LiAqL1xyXG4gICAgcmVhZGFibGUoc3RvcmVLZXkpIHtcclxuICAgICAgICBsZXQgcmVhZGVyO1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtc18xLlJlYWRhYmxlKHtcclxuICAgICAgICAgICAgc3RhcnQ6IGFzeW5jIChjb250cm9sbGVyKSA9PiB0aGlzLmJhcnJpZXIucnVuKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kcml2ZXIuc3RvcmVzKCkuaW5jbHVkZXMoc3RvcmVLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVhZGVyID0gdGhpcy5kcml2ZXIucmVhZChzdG9yZUtleSk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBwdWxsOiBhc3luYyAoY29udHJvbGxlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgb2JqZWN0LiAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmRyaXZlci5jbG9zZSgpKTtcclxuICAgIH1cclxuICAgIC8qKiBEcm9wcyB0aGUgZGF0YWJhc2Ugd2l0aCB0aGUgZ2l2ZW4ga2V5LiAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGRyb3AoZGF0YWJhc2VLZXkpIHtcclxuICAgICAgICBhd2FpdCBkcml2ZXJfMS5JREJEcml2ZXIuZHJvcChkYXRhYmFzZUtleSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5EYXRhYmFzZSA9IERhdGFiYXNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogUHJvdmlkZXMga2V5IGdlbmVyYXRpb24gZm9yIGRhdGFiYXNlIHJlY29yZHMuXHJcbiAqL1xyXG5jbGFzcyBLZXkge1xyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgdW5pcXVlIGtleSBvZiB0aGUgdXVpZHY0IGZvcm0uICovXHJcbiAgICBzdGF0aWMgY3JlYXRlKCkge1xyXG4gICAgICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuS2V5ID0gS2V5O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnVja2V0XzEgPSByZXF1aXJlKFwiLi9idWNrZXRcIik7XHJcbmV4cG9ydHMuQnVja2V0ID0gYnVja2V0XzEuQnVja2V0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBidWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9idWZmZXJcIik7XHJcbmNvbnN0IHN0cmVhbXNfMSA9IHJlcXVpcmUoXCIuLi9zdHJlYW1zXCIpO1xyXG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uL2FzeW5jXCIpO1xyXG5jb25zdCBkYXRhYmFzZV8xID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlXCIpO1xyXG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxuY29uc3QgcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJcIik7XHJcbmNvbnN0IHdyaXRlcl8xID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xyXG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcclxuLyoqXHJcbiAqIEJ1Y2tldFxyXG4gKlxyXG4gKiBQcm92aWRlcyBhIGZpbGUgc3RvcmFnZSBtZWNoYW5pc20uIEFsbG93cyBmaWxlcyB0byBiZSBzdHJlYW1lZCBpbiBhbmQgb3V0IG9mXHJcbiAqIEluZGV4ZWREQiB3aXRoIGZpbGVzIG5hbWVkIHZpYSBzaW1wbGUga2V5LiBUaGlzIHR5cGUgcHJvdmlkZXMgYSBzaW1pbGFyIHN0b3JhZ2VcclxuICogbWVkaXVtIHRvIHRoYXQgb2YgQW1hem9uUzMgc3RvcmFnZSB3aGVyZSBmaWxlcyBhcmUgcGVyc2lzdGVkIHZpYSBzaW1wbGUga2V5LlxyXG4gKi9cclxuY2xhc3MgQnVja2V0IHtcclxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IGJ1Y2tldCB3aXRoIHRoZSBnaXZlbiBJREIgZGF0YWJhc2UgaW5zdGFuY2UuICovXHJcbiAgICBjb25zdHJ1Y3RvcihkYm5hbWUpIHtcclxuICAgICAgICB0aGlzLmRibmFtZSA9IGRibmFtZTtcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gbmV3IGRhdGFiYXNlXzEuRGF0YWJhc2UodGhpcy5kYm5hbWUpO1xyXG4gICAgICAgIHRoaXMuc2VtYXBob3JlID0gbmV3IGFzeW5jXzEuU2VtYXBob3JlKDEpO1xyXG4gICAgfVxyXG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZmlsZSBrZXkgZXhpc3RzIHdpdGhpbiB0aGlzIGJ1Y2tldC4gKi9cclxuICAgIGV4aXN0cyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhYmFzZS5leGlzdHMoY29uc3RhbnRzXzEuRmlsZVN0b3JlLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG1ldGEgaW5mb3JtYXRpb24gZm9yIHRoZSBnaXZlbiBmaWxlIGtleXMuIElmIGFueSBvZiB0aGUga2V5cyBhcmVcclxuICAgICAqIG1pc3NpbmcsIHRoZW4gdGhvc2Uga2V5cyB3aWxsIGJlIG9taXR0ZWQgZnJvbSB0aGUgcmVzdWx0LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGB0eXBlc2NyaXB0XHJcbiAgICAgKlxyXG4gICAgICogLy8gcmV0dXJucyBpbmZvIGZvciAnZmlsZS50eHQnXHJcbiAgICAgKiBidWNrZXQuaW5mbyhbJ2ZpbGUudHh0J10pXHJcbiAgICAgKlxyXG4gICAgICogLy8gcmV0dXJucyBpbmZvcm1hdGlvbiBmb3IgYWxsIGtleXNcclxuICAgICAqIGJ1Y2tldC5pbmZvKGF3YWl0IGJ1Y2tldC5saXN0KCkpXHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGluZm8oa2V5cykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbWFwaG9yZS5ydW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhYmFzZS5xdWVyeShjb25zdGFudHNfMS5GaWxlU3RvcmUpXHJcbiAgICAgICAgICAgICAgICAud2hlcmUoZmlsZSA9PiBmaWxlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAud2hlcmUoZmlsZSA9PiBrZXlzLmluY2x1ZGVzKGZpbGUua2V5KSlcclxuICAgICAgICAgICAgICAgIC5zZWxlY3QoZmlsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogZmlsZS5rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogZmlsZS5jcmVhdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGZpbGUudXBkYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBmaWxlLnNpemVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pLnRvQXJyYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZSBrZXlzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gcHJlZml4LiBUaGUgZGVsaW1pdGVyXHJcbiAgICAgKiBwYXJhbWV0ZXIgaXMgdXNlZCB0byBsaW1pdCBzdWItZGlyZWN0b3JpZXMgaW4gdGhlIGxpc3QgYmFzZWQgb24gdGhlXHJcbiAgICAgKiBrZXkgc2NoZW1lIHVzZWQgYnkgdGhlIGNhbGxpbmcgYXBwbGljYXRpb24uIElmIHVuZGVyZmluZWQsIHRoaXMgZnVuY3Rpb25cclxuICAgICAqIHdpbGwgbGlzdCBhbGwga2V5cyBpbiBhbGwgZGlyZWN0b3JpZXMgYW5kIHN1Yi1kaXJlY3RvcmllcyBzaGFyaW5nIHRoZVxyXG4gICAgICogY29tbW9uIHByZWZpeC4gSWYgZGVmaW5lZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGZpbHRlciBrZXlzIG9ubHkgdXAgdGhlXHJcbiAgICAgKiB0aGUgZ2l2ZW4gZGVsaW1pdGVyLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gYW55IGtleXMgdGhhdCBzaGFyZSB0aGlzIHByZWZpeCAoaW5jbHVkaW5nIHN1YiBkaXJlY3RvcmllcylcclxuICAgICAqIGF3YWl0IGJ1Y2tldC5saXN0KCdmb2xkZXIvJylcclxuICAgICAqXHJcbiAgICAgKiAvLyBvbmx5IGtleXMgdGhhdCBzaGFyZSB0aGUgJ2ZvbGRlci8nIHByZWZpeC4gKGV4Y2x1ZGluZyBzdWIgZGlyZWN0b3JpZXMpXHJcbiAgICAgKiBhd2FpdCBidWNrZXQubGlzdCgnZm9sZGVyLycsICcvJylcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBsaXN0KHByZWZpeCA9ICcnLCBkZWxpbWl0ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW1hcGhvcmUucnVuKCgpID0+IHRoaXMuZGF0YWJhc2VcclxuICAgICAgICAgICAgLnF1ZXJ5KGNvbnN0YW50c18xLkZpbGVTdG9yZSlcclxuICAgICAgICAgICAgLndoZXJlKGZpbGUgPT4gZmlsZS5rZXkuaW5kZXhPZihwcmVmaXgpID09PSAwKVxyXG4gICAgICAgICAgICAud2hlcmUoZmlsZSA9PiAhZmlsZS5rZXkucmVwbGFjZShwcmVmaXgsICcnKS5pbmNsdWRlcyhkZWxpbWl0ZXIpKVxyXG4gICAgICAgICAgICAuc2VsZWN0KGZpbGUgPT4gZmlsZS5rZXkpXHJcbiAgICAgICAgICAgIC50b0FycmF5KCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgcmVhZGFibGUgc3RyZWFtIHRvIHRoZSBnaXZlbiBmaWxlIGtleS4gSWYgdGhlIGZpbGUgZG9lcyBub3RcclxuICAgICAqIGV4aXN0LCBhIEZpbGVOb3RGb3VuZCBlcnJvciB3aWxsIGJlIHRocm93biBvbiBmaXJzdCBhdHRlbXB0IHRvIHJlYWRcclxuICAgICAqIGZyb20gdGhlIGZpbGUuIFRoZSBzdGFydCBhbmQgZW5kIHBhcmFtZXRlcnMgd2lsbCByZWFkIGEgcG9ydGlvbiBvZiB0aGVcclxuICAgICAqIGZpbGUgYW5kIGFjdCBzaW1pbGFyIHRvIHNsaWNlKCkgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICByZWFkYWJsZShrZXksIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgcmVhZGVyXzEuUmVhZGVyKHtcclxuICAgICAgICAgICAgZGF0YWJhc2U6IHRoaXMuZGF0YWJhc2UsXHJcbiAgICAgICAgICAgIHNlbWFwaG9yZTogdGhpcy5zZW1hcGhvcmUsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICAgIGVuZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtc18xLlJlYWRhYmxlKHtcclxuICAgICAgICAgICAgc3RhcnQ6ICgpID0+IHJlYWRlci5wcmVwYXJlKCksXHJcbiAgICAgICAgICAgIHB1bGw6IGFzeW5jIChjb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgd3JpdGFibGUgc3RyZWFtIHRvIGEgZmlsZSB3aXRoIHRoZSBnaXZlbiBrZXkuIElmIHRoZSBmaWxlIGRvZXNcclxuICAgICAqIG5vdCBleGlzdCBpdCB3aWxsIGJlIGNyZWF0ZWQuIE90aGVyd2lzZSwgdGhlIGZpbGUgd2lsbCBiZSBhcHBlbmRlZC5cclxuICAgICAqL1xyXG4gICAgd3JpdGFibGUoa2V5KSB7XHJcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IHdyaXRlcl8xLldyaXRlcih7XHJcbiAgICAgICAgICAgIGRhdGFiYXNlOiB0aGlzLmRhdGFiYXNlLFxyXG4gICAgICAgICAgICBzZW1hcGhvcmU6IHRoaXMuc2VtYXBob3JlLFxyXG4gICAgICAgICAgICBrZXlcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IHN0cmVhbXNfMS5Xcml0YWJsZSh7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAoKSA9PiB3cml0ZXIucHJlcGFyZSgpLFxyXG4gICAgICAgICAgICB3cml0ZTogYnVmZmVyID0+IHdyaXRlci53cml0ZShidWZmZXIpLFxyXG4gICAgICAgICAgICBjbG9zZTogKCkgPT4gd3JpdGVyLmNsb3NlKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIHJlYWQoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF07XHJcbiAgICAgICAgY29uc3QgZW5jb2RpbmcgPSBhcmdzWzFdO1xyXG4gICAgICAgIGNvbnN0IHJlYWRhYmxlID0gdGhpcy5yZWFkYWJsZShrZXkpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRzID0gW107XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBidWZmZXIgb2YgcmVhZGFibGUpIHtcclxuICAgICAgICAgICAgY29udGVudHMucHVzaChidWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW5jb2RpbmdcclxuICAgICAgICAgICAgPyBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGNvbnRlbnRzKS50b1N0cmluZyhlbmNvZGluZylcclxuICAgICAgICAgICAgOiBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGNvbnRlbnRzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIEJsb2IgaGFuZGxlIHRvIHRoaXMgZmlsZXMgZGF0YS4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZFxyXG4gICAgICogaW4gY29uanVuY3Rpb24gd2l0aCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpIGFuZCBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2IpXHJcbiAgICAgKiB0byBjcmVhdGUgYnJvd3NlciBhY2Nlc3NpYmxlIFVSTCdzIHRvIHRoZSBmaWxlcyBob3VzZWQgd2l0aGluIHRoaXMgYnVja2V0LlxyXG4gICAgICovXHJcbiAgICBhc3luYyByZWFkQmxvYihrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW1hcGhvcmUucnVuKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5kYXRhYmFzZS5leGlzdHMoY29uc3RhbnRzXzEuRmlsZVN0b3JlLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkZpbGVOb3RGb3VuZEVycm9yKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuZ2V0KGNvbnN0YW50c18xLkZpbGVTdG9yZSwga2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYnMgPSBmaWxlLmJsb2JzLm1hcChhc3luYyAobGluaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuZ2V0KGNvbnN0YW50c18xLkJsb2JTdG9yZSwgbGluayk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJsb2IpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkJsb2JOb3RGb3VuZChrZXksIGxpbmspO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2IuYmxvYjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihhd2FpdCBQcm9taXNlLmFsbChibG9icykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgYXBwZW5kKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBhcmdzWzBdO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzFdO1xyXG4gICAgICAgIGNvbnN0IGVuY29kaW5nID0gYXJnc1syXTtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBlbmNvZGluZ1xyXG4gICAgICAgICAgICA/IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEsIGVuY29kaW5nKVxyXG4gICAgICAgICAgICA6IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHdyaXRhYmxlID0gdGhpcy53cml0YWJsZShrZXkpO1xyXG4gICAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKGJ1ZmZlcik7XHJcbiAgICAgICAgYXdhaXQgd3JpdGFibGUuY2xvc2UoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIHdyaXRlKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBhcmdzWzBdO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzFdO1xyXG4gICAgICAgIGNvbnN0IGVuY29kaW5nID0gYXJnc1syXTtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBlbmNvZGluZ1xyXG4gICAgICAgICAgICA/IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEsIGVuY29kaW5nKVxyXG4gICAgICAgICAgICA6IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgY29uc3Qgd3JpdGFibGUgPSB0aGlzLndyaXRhYmxlKGtleSk7XHJcbiAgICAgICAgYXdhaXQgd3JpdGFibGUud3JpdGUoYnVmZmVyKTtcclxuICAgICAgICBhd2FpdCB3cml0YWJsZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqIERlbGV0ZXMgYSBmaWxlIHdpdGggdGhlIGdpdmVuIGtleS4gSWYgbm8gZmlsZSBleGlzdHMsIG5vIGFjdGlvbiBpcyB0YWtlbi4gKi9cclxuICAgIGFzeW5jIGRlbGV0ZShrZXkpIHtcclxuICAgICAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB0aGlzLmRhdGFiYXNlLmV4aXN0cyhjb25zdGFudHNfMS5GaWxlU3RvcmUsIGtleSk7XHJcbiAgICAgICAgaWYgKGV4aXN0cykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5nZXQoY29uc3RhbnRzXzEuRmlsZVN0b3JlLCBrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFiYXNlLmRlbGV0ZShjb25zdGFudHNfMS5GaWxlU3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluayBvZiBmaWxlLmJsb2JzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlLmRlbGV0ZShjb25zdGFudHNfMS5CbG9iU3RvcmUsIGxpbmspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YWJhc2UuY29tbWl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgb2JqZWN0LiAqL1xyXG4gICAgYXN5bmMgZGlzcG9zZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW1hcGhvcmUucnVuKCgpID0+IHRoaXMuZGF0YWJhc2UuZGlzcG9zZSgpKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJ1Y2tldCA9IEJ1Y2tldDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vYnVmZmVyXCIpO1xyXG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcclxuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XHJcbi8qKlxyXG4gKiBSZWFkZXJcclxuICpcclxuICogSW50ZXJuYWwgcmVhZGVyIHR5cGUuIFVzZWQgdG8gcmVhZCBidWZmZXIgc3RyZWFtcyBmcm9tIElEQiBzdG9yYWdlLiBUaGlzIHR5cGVcclxuICogaXMgdXNlZCBieSB0aGUgYnVja2V0cyByZWFkYWJsZSgpIG1ldGhvZCB0byBjb25zdHJ1Y3QgYSBSZWFkYWJsZTxCdWZmZXI+IHR5cGVcclxuICogZm9yIHN0cmVhbWluZyBmaWxlcy5cclxuICovXHJcbmNsYXNzIFJlYWRlciB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyByZWFkZXIgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy4gKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gb3B0aW9ucy5kYXRhYmFzZTtcclxuICAgICAgICB0aGlzLnNlbWFwaG9yZSA9IG9wdGlvbnMuc2VtYXBob3JlO1xyXG4gICAgICAgIHRoaXMua2V5ID0gb3B0aW9ucy5rZXk7XHJcbiAgICAgICAgdGhpcy5iYXJyaWVyID0gbmV3IGFzeW5jXzEuQmFycmllcigpO1xyXG4gICAgICAgIHRoaXMuYmxvYiA9IG5ldyBCbG9iKFtdKTtcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IDY1NTM2O1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IDA7XHJcbiAgICAgICAgdGhpcy5lbmQgPSBvcHRpb25zLmVuZCB8fCBJbmZpbml0eTtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuc3RhcnQ7XHJcbiAgICB9XHJcbiAgICAvKiogUHJlcGFyZXMgdGhpcyByZWFkZXIgZm9yIHJlYWRpbmcuICovXHJcbiAgICBhc3luYyBwcmVwYXJlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbWFwaG9yZS5ydW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLmRhdGFiYXNlLmV4aXN0cyhjb25zdGFudHNfMS5GaWxlU3RvcmUsIHRoaXMua2V5KSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5GaWxlTm90Rm91bmRFcnJvcih0aGlzLmtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuZ2V0KGNvbnN0YW50c18xLkZpbGVTdG9yZSwgdGhpcy5rZXkpO1xyXG4gICAgICAgICAgICBjb25zdCBibG9icyA9IGZpbGUuYmxvYnMubWFwKGFzeW5jIChsaW5rKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5nZXQoY29uc3RhbnRzXzEuQmxvYlN0b3JlLCBsaW5rKTtcclxuICAgICAgICAgICAgICAgIGlmICghYmxvYilcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQmxvYk5vdEZvdW5kKHRoaXMua2V5LCBsaW5rKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBibG9iLmJsb2I7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJsb2IgPSBuZXcgQmxvYihhd2FpdCBQcm9taXNlLmFsbChibG9icykpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIFJlYWRzIGJ5dGVzIGZyb20gdGhlIHVuZGVybHlpbmcgc291cmNlLiAqL1xyXG4gICAgcmVhZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5vZmZzZXQ7XHJcbiAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydCArIHRoaXMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICBpZiAoc3RhcnQgPj0gdGhpcy5lbmQpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZCA+PSB0aGlzLmVuZCkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gdGhpcy5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgdGhpcy5yZWFkQnVmZmVyKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldCArPSB0aGlzLmNodW5rU2l6ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlYWRCdWZmZXIoc3RhcnQsIGVuZCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIChldmVudCkgPT4geyB9KTtcclxuICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCAoZXZlbnQpID0+IHJlc29sdmUoYnVmZmVyXzEuQnVmZmVyLmZyb20oZXZlbnQudGFyZ2V0LnJlc3VsdCkpKTtcclxuICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGV2ZW50KSA9PiByZWplY3QoZXZlbnQpKTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMuYmxvYi5zbGljZShzdGFydCwgZW5kKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBleGVjdXRlKGZ1bmMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiBmdW5jKCkpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVhZGVyID0gUmVhZGVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uL2FzeW5jXCIpO1xyXG5jb25zdCBidWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9idWZmZXJcIik7XHJcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xyXG4vKipcclxuICogSW50ZXJuYWwgYnVmZmVyaW5nIHF1ZXVlLlxyXG4gKi9cclxuY2xhc3MgQnl0ZUJ1ZmZlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYnVmZmVyZWQgYnl0ZXMuICovXHJcbiAgICBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnMucmVkdWNlKChhY2MsIGMpID0+IGFjYyArIGMuYnl0ZUxlbmd0aCwgMCk7XHJcbiAgICB9XHJcbiAgICAvKiogQXBwZW5kcyB0aGlzIGJ1ZmZlci4gKi9cclxuICAgIHdyaXRlKGJ1ZmZlcikge1xyXG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XHJcbiAgICB9XHJcbiAgICAvKiogQ29uc3VtZXMgdGhlIGdpdmVuIG51bWJlciBvZiBieXRlcy4gKi9cclxuICAgIHJlYWQoY291bnQpIHtcclxuICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcclxuICAgICAgICB3aGlsZSAodGhpcy5idWZmZXJzLmxlbmd0aCA+IDAgJiYgdG90YWwgPD0gY291bnQpIHtcclxuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmJ1ZmZlcnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgdG90YWwgKz0gbmV4dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29uY2F0ID0gYnVmZmVyXzEuQnVmZmVyLmNvbmNhdChidWZmZXJzKTtcclxuICAgICAgICBjb25zdCBjb25zdW1lZCA9IGNvbmNhdC5zbGljZSgwLCBjb3VudCk7XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nID0gY29uY2F0LnNsaWNlKGNvdW50KTtcclxuICAgICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnVuc2hpZnQocmVtYWluaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBXcml0ZXJcclxuICpcclxuICogSW50ZXJuYWwgd3JpdGVyIHR5cGUgdXNlZCB0byB3cml0ZSBidWZmZXJlZCBzdHJlYW1zIG9mIGRhdGEgdG8gSURCLiBUaGlzIHR5cGVcclxuICogd2lsbCBidWZmZXIgZGF0YSBpbiBtZW1vcnkgdW50aWwgaXQgZXhjZWVkcyB0aGUgd3JpdGVycyB3YXRlcm1hcmssIGF0IHdoaWNoXHJcbiAqIHBvaW50IGl0IGlzIGZsdXNoZWQgdG8gZGlzay4gVXNlZCBieSB0aGUgYnVja2V0cyB3cml0YWJsZSgpIG1ldGhvZCB0b1xyXG4gKiBjb25zdHJ1Y3RvciBXcml0YWJsZTxCdWZmZXI+IHN0cmVhbXMgdG8gSURCLlxyXG4gKi9cclxuY2xhc3MgV3JpdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBvcHRpb25zLmtleTtcclxuICAgICAgICBjb25zdCBjcmVhdGVkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuZmlsZSA9IHsga2V5LCBibG9iczogbGlua3MsIGNyZWF0ZWQsIHVwZGF0ZWQsIHNpemUgfTtcclxuICAgICAgICB0aGlzLmRhdGFiYXNlID0gb3B0aW9ucy5kYXRhYmFzZTtcclxuICAgICAgICB0aGlzLnNlbWFwaG9yZSA9IG9wdGlvbnMuc2VtYXBob3JlO1xyXG4gICAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IDgwMDAwMDA7XHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQnl0ZUJ1ZmZlcigpO1xyXG4gICAgICAgIHRoaXMuYmFycmllciA9IG5ldyBhc3luY18xLkJhcnJpZXIoKTtcclxuICAgIH1cclxuICAgIC8qKiBQcmVwYXJlcyB0aGlzIHdyaXRlciBmb3Igd3JpdGluZy4gKi9cclxuICAgIHByZXBhcmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VtYXBob3JlLnJ1bihhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuZXhpc3RzKGNvbnN0YW50c18xLkZpbGVTdG9yZSwgdGhpcy5maWxlLmtleSk7XHJcbiAgICAgICAgICAgIGlmIChleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuZ2V0KGNvbnN0YW50c18xLkZpbGVTdG9yZSwgdGhpcy5maWxlLmtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlLmluc2VydChjb25zdGFudHNfMS5GaWxlU3RvcmUsIHRoaXMuZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRhdGFiYXNlLmNvbW1pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmFycmllci5yZXN1bWUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBXcml0ZXMgdGhlIGdpdmVuIGJ1ZmZlciB0byBkaXNrLiAqL1xyXG4gICAgd3JpdGUoYnVmZmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZShhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLndyaXRlKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5zaXplKCkgPCB0aGlzLmhpZ2hXYXRlck1hcmspIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5idWZmZXIuc2l6ZSgpID4gdGhpcy5oaWdoV2F0ZXJNYXJrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlci5yZWFkKHRoaXMuaGlnaFdhdGVyTWFyayk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmRhdGFiYXNlLmtleSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZS5zaXplICs9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLnVwZGF0ZWQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLmJsb2JzID0gWy4uLnRoaXMuZmlsZS5ibG9icywga2V5XTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2UuaW5zZXJ0KGNvbnN0YW50c18xLkJsb2JTdG9yZSwgeyBrZXksIGJsb2IgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlLnVwZGF0ZShjb25zdGFudHNfMS5GaWxlU3RvcmUsIHRoaXMuZmlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYXRhYmFzZS5jb21taXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBGbHVzaGVzIGFueSBidWZmZXJlZCBkYXRhIHRvIGRpc2suICovXHJcbiAgICBmbHVzaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyLnNpemUoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1ZmZlci5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlci5yZWFkKHRoaXMuaGlnaFdhdGVyTWFyayk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmRhdGFiYXNlLmtleSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZS5zaXplICs9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLnVwZGF0ZWQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLmJsb2JzID0gWy4uLnRoaXMuZmlsZS5ibG9icywga2V5XTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2UuaW5zZXJ0KGNvbnN0YW50c18xLkJsb2JTdG9yZSwgeyBrZXksIGJsb2IgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlLnVwZGF0ZShjb25zdGFudHNfMS5GaWxlU3RvcmUsIHRoaXMuZmlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYXRhYmFzZS5jb21taXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBDbG9zZXMgdGhpcyB3cml0ZXIsIGZsdXNoaW5nIGFueSBkYXRhIGJlZm9yZSBjbG9zaW5nLiAqL1xyXG4gICAgYXN5bmMgY2xvc2UoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5mbHVzaCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEV4ZWN1dGVzIHRoZSBnaXZlbiBmdW5jdGlvbiB1c2luZyB0aGlzIHdyaXRlcnMgc2NoZWR1bGluZyBzY2hlbWUuICovXHJcbiAgICBleGVjdXRlKGZ1bmMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLnNlbWFwaG9yZS5ydW4oKCkgPT4gZnVuYygpKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Xcml0ZXIgPSBXcml0ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHNvY2tldHNfMSA9IHJlcXVpcmUoXCIuL3NvY2tldHNcIik7XHJcbmNvbnN0IGRoY3BfMSA9IHJlcXVpcmUoXCIuL2RoY3BcIik7XHJcbi8qKlxyXG4gKiBBbiBpbiBwYWdlIHNpZ25hbGxpbmcgaHViIHVzZWQgdG8gZmFjaWxpY2F0ZSBtdWx0aXBsZSBub2RlcyBiZWluZyBjcmVhdGluZ1xyXG4gKiBpbiBhIHBhZ2Ugd2l0aG91dCB0aGUgbmVlZCB0byByZWFjaCBvdXQgdG8gYSB3aWRlciBuZXR3b3JrLiBUaGlzIHR5cGUgaXNcclxuICogdXNlZCB3aGVuIG5vdCBzcGVjaWZ5aW5nIGEgd2ViIHNvY2tldCBlbmRwb2ludCBmb3IgdGhlIHNtb2tlIG5vZGUgdG8gY29ubmVjdFxyXG4gKiB0by4gSXQgaXMgYWxzbyB1c2VkIGZvciBleGFtcGxlcyBhbmQgaW50ZXJhY3RpdmUgdGVzdHMgaW4gcGFnZS5cclxuICovXHJcbmNsYXNzIFBhZ2VIdWJTZXJ2ZXIge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XHJcbiAgICAgICAgdGhpcy5zb2NrZXRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZGhjcCA9IG5ldyBkaGNwXzEuRGhjcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgaW5jb21pbmcgY29ubmVjdGlvbnMgKi9cclxuICAgIG9uQ29ubmVjdGlvbihzb2NrZXQpIHtcclxuICAgICAgICBjb25zdCBjb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9uO1xyXG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLmRoY3AubmV4dCgpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSAnYmluZGluZyc7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgbWVzc2FnZSA9PiB0aGlzLm9uTWVzc2FnZShhZGRyZXNzLCBtZXNzYWdlKSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIGVycm9yID0+IHRoaXMub25FcnJvcihhZGRyZXNzLCBlcnJvcikpO1xyXG4gICAgICAgIHNvY2tldC5vbignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2UoYWRkcmVzcykpO1xyXG4gICAgICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZSwgYWRkcmVzcywgY29uZmlndXJhdGlvbiB9KSk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRzLnNldChhZGRyZXNzLCBzb2NrZXQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgYW4gaW5jb21pbmcgbWVzc2FnZSBmcm9tIHRoZSBnaXZlbiBhZGRyZXNzLiAqL1xyXG4gICAgb25NZXNzYWdlKGFkZHJlc3MsIGRhdGEpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShkYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZm9yd2FyZCc6IHJldHVybiB0aGlzLm9uRm9yd2FyZChhZGRyZXNzLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuc29ja2V0cy5nZXQoYWRkcmVzcyk7XHJcbiAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldHMuZGVsZXRlKGFkZHJlc3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzIGFuIGluY29taW5nIGZvcndhcmQgcmVxdWVzdC4gKi9cclxuICAgIG9uRm9yd2FyZChhZGRyZXNzLCBmb3J3YXJkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0cy5oYXMoZm9yd2FyZC50bykpIHtcclxuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5zb2NrZXRzLmdldChmb3J3YXJkLnRvKTtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9ICdmb3J3YXJkJztcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGFkZHJlc3M7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvID0gZm9yd2FyZC50bztcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGZvcndhcmQuZGF0YTtcclxuICAgICAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlLCBmcm9tLCB0bywgZGF0YSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgc29ja2V0IG9uIGVycm9yIGV2ZW50cy4gKi9cclxuICAgIG9uRXJyb3IoYWRkcmVzcywgZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGFkZHJlc3MsIGVycm9yKTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzIHNvY2tldCBvbiBjbG9zZSBldmVudHMuICovXHJcbiAgICBvbkNsb3NlKGFkZHJlc3MpIHtcclxuICAgICAgICB0aGlzLnNvY2tldHMuZGVsZXRlKGFkZHJlc3MpO1xyXG4gICAgfVxyXG4gICAgLyoqIFN0YXJ0cyB0aGlzIHNlcnZlciBsaXN0ZW5pbmcgb24gdGhlIGdpdmVuIHBvcnQuICovXHJcbiAgICBsaXN0ZW4ocG9ydCkge1xyXG4gICAgICAgIHRoaXMuc2VydmVyID0gc29ja2V0c18xLmNyZWF0ZVNlcnZlcihzb2NrZXQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbihzb2NrZXQpO1xyXG4gICAgICAgIH0pLmxpc3Rlbihwb3J0KTtcclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIG9iamVjdC4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXIuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUGFnZUh1YlNlcnZlciA9IFBhZ2VIdWJTZXJ2ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGJ1c18xID0gcmVxdWlyZShcIi4vYnVzXCIpO1xyXG5jb25zdCBzb2NrZXRfMSA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuLy8gU2VydmVyXHJcbi8vXHJcbi8vIEEgdmlydHVhbCB3ZWIgc29ja2V0IHNlcnZlciBkZXNpZ25lZCB0byBydW4gaW4gcGFnZS4gVXNlZCB0byBlbXVsYXRlXHJcbi8vIGEgYWN0dWFsIG5ldHdvcmsgc29ja2V0IGNvbm5lY3Rpb24gZm9yIG5vZGVzIHRoYXQgbmVlZCB0byBydW4gaW4gcGFnZVxyXG4vLyB3aXRob3V0IGNvbm5lY3RpbmcgdG8gYSB3aWRlciBuZXR3b3JrLlxyXG4vL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jbGFzcyBTZXJ2ZXIge1xyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgc2VydmVyLiAqL1xyXG4gICAgY29uc3RydWN0b3IoZnVuYykge1xyXG4gICAgICAgIHRoaXMuZnVuYyA9IGZ1bmM7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsID0gMDtcclxuICAgICAgICB0aGlzLnNvY2tldHMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKiogU3RhcnRzIHRoaXMgc2VydmVyIGxpc3RlbmluZyBvbiB0aGUgZ2l2ZW4gcG9ydC4gKi9cclxuICAgIGxpc3Rlbihwb3J0KSB7XHJcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvICdjb25uZWN0JyBtZXNzYWdlcyBvbiBvbiB0aGUgZ2l2ZW5cclxuICAgICAgICAvLyBidXMgY2hhbm5lbC4gTWVzc2FnZXMgcmVjZWl2ZWQgb3ZlciBoZXJlIGFyZVxyXG4gICAgICAgIC8vIGluY29taW5nIHNvY2tldCBjb25uZWN0aW9ucy5cclxuICAgICAgICBidXNfMS5CdXMub24oYCR7cG9ydH06c2VydmVyOmNvbm5lY3RgLCBkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbDtcclxuICAgICAgICAgICAgLy8gU2V0dXAgc29ja2V0IHdpdGggdGhlIHNvY2tldHMgYHdyaXRlYCBhbmQgYGNsb3NlYFxyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiB1c2VkIHRvIHRyYW5zbWl0IGFuIGV2ZW50IG1lc3NhZ2VcclxuICAgICAgICAgICAgLy8gYmFjayBvdXQgb3ZlciB0aGUgYnVzLlxyXG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXcgc29ja2V0XzEuU29ja2V0KGRhdGEgPT4gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidXNfMS5CdXMuZW1pdChgJHtwb3J0fToke2NoYW5uZWx9OmNsaWVudDptZXNzYWdlYCwgZGF0YSk7XHJcbiAgICAgICAgICAgIH0sIDApLCAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ1c18xLkJ1cy5lbWl0KGAke3BvcnR9OiR7Y2hhbm5lbH06Y2xpZW50OmNsb3NlYCk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9LCAwKSk7XHJcbiAgICAgICAgICAgIC8vIFNldHVwIGxpc3RlbmVycyBmb3IgZXZlbnRzIHJlY2VpdmVkIGZyb20gY2xpZW50c1xyXG4gICAgICAgICAgICAvLyBvdmVyIHRoZSBidXMuIE5vdGU6IFRoZSBgY2hhbm5lbGAgaXMgbWFkZSBrbm93blxyXG4gICAgICAgICAgICAvLyB0byB0aGUgY2xpZW50IGZvbGxvd2luZyBzZW5kaW5nIGFuIGBjb25uZWN0YFxyXG4gICAgICAgICAgICAvLyBtZXNzYWdlIGJlbG93LlxyXG4gICAgICAgICAgICBidXNfMS5CdXMub24oYCR7cG9ydH06JHtjaGFubmVsfTpzZXJ2ZXI6bWVzc2FnZWAsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnbWVzc2FnZScsIHsgZGF0YSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ1c18xLkJ1cy5vbihgJHtwb3J0fToke2NoYW5uZWx9OnNlcnZlcjpjbG9zZWAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0cy5kZWxldGUoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHNvY2tldCB0byBhIHBvb2wgb2Ygc29ja2V0cywgdGhpc1xyXG4gICAgICAgICAgICAvLyBhbGxvd3MgdGhpcyBzZXJ2ZXIgdG8gZGlzY29ubmVjdCBjb25uZWN0ZWRcclxuICAgICAgICAgICAgLy8gc29ja2V0cyBvbiBgZGlzcG9zZWAuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0cy5zZXQoY2hhbm5lbCwgc29ja2V0KTtcclxuICAgICAgICAgICAgLy8gRW1pdCBzb2NrZXQgdG8gc2VydmVyIGxpc3RlbmVyLCBzZW5kIGNvbm5lY3RcclxuICAgICAgICAgICAgLy8gdG8gY2xpZW50LCBpbmNyZW1lbnQgdGhlIGNoYW5uZWwgaW5kZXguXHJcbiAgICAgICAgICAgIGJ1c18xLkJ1cy5lbWl0KGAke3BvcnR9OmNsaWVudDpjb25uZWN0YCwgY2hhbm5lbCk7XHJcbiAgICAgICAgICAgIHRoaXMuZnVuYyhzb2NrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwgKz0gMTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIG9iamVjdC4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFubmVsIG9mIHRoaXMuc29ja2V0cy5rZXlzKCkpIHtcclxuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5zb2NrZXRzLmdldChjaGFubmVsKTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgIHNvY2tldC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0cy5kZWxldGUoY2hhbm5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuU2VydmVyID0gU2VydmVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2UtaHViXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBEaGNwXHJcbiAqXHJcbiAqIEFsbG9jYXRlcyBJUHY0IGxpa2UgYWRkcmVzc2VzIG9uIGJlaGFsZiBvZiBjb25uZWN0aW5nIG5vZGVzLlxyXG4gKi9cclxuY2xhc3MgRGhjcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBuZXcgVWludDMyQXJyYXkoMSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50WzBdID0gMDtcclxuICAgIH1cclxuICAgIC8qKiBHZXRzIHRoZSBuZXh0IGFkZHJlc3MuICovXHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHRoaXMuZWxlbWVudC5idWZmZXIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5idWZmZXJdLmpvaW4oJy4nKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRbMF0gKz0gMTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRGhjcCA9IERoY3A7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XHJcbmNvbnN0IGFzeW5jXzIgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XHJcbmNvbnN0IHNvY2tldHNfMSA9IHJlcXVpcmUoXCIuL3NvY2tldHNcIik7XHJcbi8qKlxyXG4gKiBBbiBpbiBwYWdlIHNpZ25hbGxpbmcgaHViIGNsaWVudC4gVXNlZCB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBpbi1wYWdlXHJcbiAqIHNpZ25hbGxpbmcgaHViLiBVc2VkIGFzIGEgZGVmYXVsdCBodWIgd2hlbiBzbW9rZSBub2RlcyBhcmUgbm90IGdpdmVuXHJcbiAqIHNtb2tlLWh1YiBlbmRwb2ludHMgdG8gY29ubmVjdCB0by5cclxuICovXHJcbmNsYXNzIFBhZ2VIdWIgZXh0ZW5kcyBhc3luY18xLkV2ZW50cyB7XHJcbiAgICAvKiogQ29ubmVjdHMgdG8gYSBQYWdlU2VydmVySHViIG9uIHRoZSBnaXZlbiBwb3J0LiAqL1xyXG4gICAgY29uc3RydWN0b3IocG9ydCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcclxuICAgICAgICB0aGlzLmJhcnJpZXIgPSBuZXcgYXN5bmNfMi5CYXJyaWVyKCk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBzb2NrZXRzXzEuY29ubmVjdCh0aGlzLnBvcnQpO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHRoaXMub25NZXNzYWdlKG1lc3NhZ2UpKTtcclxuICAgICAgICB0aGlzLnNvY2tldC5vbignZXJyb3InLCBlcnJvciA9PiB0aGlzLm9uRXJyb3IoZXJyb3IpKTtcclxuICAgICAgICB0aGlzLnNvY2tldC5vbignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2UoKSk7XHJcbiAgICB9XHJcbiAgICBvbihldmVudCwgZnVuYykge1xyXG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBSVEMgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBodWIuICovXHJcbiAgICBjb25maWd1cmF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhcnJpZXIucnVuKCgpID0+IHRoaXMuYmluZGluZy5jb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBhZGRyZXNzIG9mIHRoaXMgaHViLiAqL1xyXG4gICAgYWRkcmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmJpbmRpbmcuYWRkcmVzcyk7XHJcbiAgICB9XHJcbiAgICAvKiogRm9yd2FyZHMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gdGhlIGdpdmVuICd0bycgYWRkcmVzcy4gKi9cclxuICAgIGZvcndhcmQodG8sIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAnZm9yd2FyZCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmJpbmRpbmcuYWRkcmVzcztcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHRvLCBmcm9tLCB0eXBlLCBkYXRhIH0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzICdtZXNzYWdlJyBldmVudHMuIChub3RlOiBldmVudCBpcyBzeW50aGV0aWMgaW4gcGFnZSBzb2NrZXRzKSAqL1xyXG4gICAgb25NZXNzYWdlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnYmluZGluZyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmluZGluZyhtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmb3J3YXJkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMub25Gb3J3YXJkKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgYGJpbmRpbmdgIG1lc3NhZ2VzLiAqL1xyXG4gICAgb25CaW5kaW5nKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLmJpbmRpbmcgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuYmFycmllci5yZXN1bWUoKTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzIGBmb3J3YXJkYCBtZXNzYWdlcy4gKi9cclxuICAgIG9uRm9yd2FyZChtZXNzYWdlKSB7XHJcbiAgICAgICAgc3VwZXIuZW1pdCgnZm9yd2FyZCcsIG1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgc29ja2V0ICdjbG9zZScgZXZlbnRzLiAqL1xyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICAvLyB0b2RvOiBjb25zaWRlciByZWNvbm5lY3Rpb24gaGVyZS5cclxuICAgICAgICB0aGlzLmJhcnJpZXIucGF1c2UoKTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzIGNsb3NlIGV2ZW50cy4gKi9cclxuICAgIG9uRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBzdXBlci5lbWl0KCdlcnJvcicsIGVycm9yKTtcclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIG9iamVjdC4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlBhZ2VIdWIgPSBQYWdlSHViO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY2xpZW50XzEgPSByZXF1aXJlKFwiLi9jbGllbnRcIik7XHJcbmV4cG9ydHMuTmV0d29ya0h1YiA9IGNsaWVudF8xLk5ldHdvcmtIdWI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XHJcbmNvbnN0IGFzeW5jXzIgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XHJcbi8qKlxyXG4gKiBBIG5ldHdvcmsgaHViIGNsaWVudC4gVGhpcyB0eXBlIGNvbm5lY3RzIHRvIGEgcmVtb3RlIHdlYiBzb2NrZXQgcnVubmluZyB0aGVcclxuICogc21va2Ugc2lnbmFsbGluZyBwcm90b2NvbC5cclxuICovXHJcbmNsYXNzIE5ldHdvcmtIdWIgZXh0ZW5kcyBhc3luY18xLkV2ZW50cyB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmRwb2ludCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xyXG4gICAgICAgIHRoaXMuYmFycmllciA9IG5ldyBhc3luY18yLkJhcnJpZXIoKTtcclxuICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy5lbmRwb2ludCk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG1lc3NhZ2UgPT4gdGhpcy5vbk1lc3NhZ2UobWVzc2FnZSkpO1xyXG4gICAgICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IgPT4gdGhpcy5vbkVycm9yKGVycm9yKSk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2UoKSk7XHJcbiAgICB9XHJcbiAgICBvbihldmVudCwgZnVuYykge1xyXG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBSVEMgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBodWIuICovXHJcbiAgICBjb25maWd1cmF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhcnJpZXIucnVuKCgpID0+IHRoaXMuYmluZGluZy5jb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSBhZGRyZXNzIG9mIHRoaXMgaHViLiAqL1xyXG4gICAgYWRkcmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB0aGlzLmJpbmRpbmcuYWRkcmVzcyk7XHJcbiAgICB9XHJcbiAgICAvKiogRm9yd2FyZHMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gdGhlIGdpdmVuICd0bycgYWRkcmVzcy4gKi9cclxuICAgIGZvcndhcmQodG8sIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXJyaWVyLnJ1bigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAnZm9yd2FyZCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmJpbmRpbmcuYWRkcmVzcztcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHRvLCBmcm9tLCB0eXBlLCBkYXRhIH0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGVzIGluY29taW5nIG1lc3NhZ2UuICovXHJcbiAgICBvbk1lc3NhZ2UoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdiaW5kaW5nJzpcclxuICAgICAgICAgICAgICAgIHRoaXMub25CaW5kaW5nKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZvcndhcmQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkZvcndhcmQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogSGFuZGxlcyAnYmluZGluZycgbWVzc2FnZXMuICovXHJcbiAgICBvbkJpbmRpbmcobWVzc2FnZSkge1xyXG4gICAgICAgIHRoaXMuYmluZGluZyA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5iYXJyaWVyLnJlc3VtZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZXMgJ2ZvcndhcmQnIG1lc3NhZ2VzLiAqL1xyXG4gICAgb25Gb3J3YXJkKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlci5lbWl0KCdmb3J3YXJkJywgbWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICAvKiogSGFuZGxlcyAnY2xvc2UnIGV2ZW50cy4gKi9cclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5iYXJyaWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGFuZGxlcyAnY2xvc2UnIGV2ZW50cy4gKi9cclxuICAgIG9uRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBzdXBlci5lbWl0KCdlcnJvcicsIGVycm9yKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLk5ldHdvcmtIdWIgPSBOZXR3b3JrSHViO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogQ3JlYXRlcyBhIHRpbWVvdXQgdGhhdCB0aHJvd3Mgd2l0aCB0aGUgZ2l2ZW4gZXJyb3IgbWVzc2FnZS4gKi9cclxuZnVuY3Rpb24gdGltZW91dChtcywgbWVzc2FnZSA9ICd0aW1lb3V0Jykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IobWVzc2FnZSkpLCBtcyk7XHJcbiAgICB9KTtcclxufVxyXG4vKiogUmVjZWl2ZXMgZXhhY3RseSBvbmUgbWVzc2FnZSBmcm9tIHRoaXMgZGF0YSBjaGFubmVsLiAqL1xyXG5mdW5jdGlvbiByZWNlaXZlKGNoYW5uZWwsIGV2ZW50TmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIGNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIHJlc29sdmUoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxudmFyIExvb3BiYWNrO1xyXG4oZnVuY3Rpb24gKExvb3BiYWNrKSB7XHJcbiAgICBMb29wYmFja1tMb29wYmFja1tcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgTG9vcGJhY2tbTG9vcGJhY2tbXCJTZW5kZXJcIl0gPSAxXSA9IFwiU2VuZGVyXCI7XHJcbiAgICBMb29wYmFja1tMb29wYmFja1tcIlJlY2VpdmVyXCJdID0gMl0gPSBcIlJlY2VpdmVyXCI7XHJcbn0pKExvb3BiYWNrIHx8IChMb29wYmFjayA9IHt9KSk7XHJcbmNvbnN0IGxvb3BiYWNrU3dpdGNoID0gKGxvb3BiYWNrKSA9PiBsb29wYmFjayA9PT0gTG9vcGJhY2suUmVjZWl2ZXIgPyBMb29wYmFjay5TZW5kZXIgOlxyXG4gICAgbG9vcGJhY2sgPT09IExvb3BiYWNrLlNlbmRlciA/IExvb3BiYWNrLlJlY2VpdmVyIDpcclxuICAgICAgICBsb29wYmFjaztcclxuY2xhc3MgTmVnb3RpYXRlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihsb2NhbCwgcmVtb3RlLCBlcnJvciwgc2RwKSB7XHJcbiAgICAgICAgc3VwZXIoYGxvY2FsOiAke2xvY2FsfSByZW1vdGU6ICR7cmVtb3RlfSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIHRoaXMubG9jYWwgPSBsb2NhbDtcclxuICAgICAgICB0aGlzLnJlbW90ZSA9IHJlbW90ZTtcclxuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XHJcbiAgICAgICAgdGhpcy5zZHAgPSBzZHA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5OZWdvdGlhdGVFcnJvciA9IE5lZ290aWF0ZUVycm9yO1xyXG5jbGFzcyBTaWduYWxsaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW1vdGUsIGVycm9yKSB7XHJcbiAgICAgICAgc3VwZXIoYHJlbW90ZTogJHtyZW1vdGV9IGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGUgPSByZW1vdGU7XHJcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuU2lnbmFsbGluZ0Vycm9yID0gU2lnbmFsbGluZ0Vycm9yO1xyXG5jbGFzcyBQb3J0SW5Vc2VFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcnQpIHtcclxuICAgICAgICBzdXBlcihgVGhlIHBvcnQgJyR7cG9ydH0nIGlzIGFscmVhZHkgaW4gdXNlLmApO1xyXG4gICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Qb3J0SW5Vc2VFcnJvciA9IFBvcnRJblVzZUVycm9yO1xyXG4vKipcclxuICogQSB3ZWJydGMgcGVlciBjb25uZWN0aW9uIGFuZCBuZWdvdGlhdGlvbiBsYXllci4gVGhpcyB0eXBlIGlzIGludGVuZGVkXHJcbiAqIHRvIGhhbmRsZSB0aGUgZGV0YWlscyBvZiBwZWVycywgcGVlciBzaWduYWxsaW5nLCBwb3J0IGJpbmRpbmcgYW5kXHJcbiAqIGNsaWVudCBsb29wYmFjay4gVGhpcyB0eXBlIGlzIHVzZWQgYnkgUlRDIGNvbnN1bWVycyB0byBpbnRlcmFjdCB3aXRoXHJcbiAqIHBlZXIgY29ubmVjdGlvbnMgd2l0aG91dCBkZWFsaW5nIHdpdGggdGhlIGRldGFpbHMgb2YgSUNFLlxyXG4gKi9cclxuY2xhc3MgTmV0d29yayB7XHJcbiAgICBjb25zdHJ1Y3RvcihodWIpIHtcclxuICAgICAgICB0aGlzLmh1YiA9IGh1YjtcclxuICAgICAgICB0aGlzLmh1Yi5vbignZm9yd2FyZCcsIGZvcndhcmQgPT4gdGhpcy5vbkZvcndhcmQoZm9yd2FyZCkpO1xyXG4gICAgICAgIHRoaXMucG9ydHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wZWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUxvb3BiYWNrKCk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyB0aGUgYWRkcmVzcyBvZiB0aGlzIHBlZXIgb24gdGhlIG5ldHdvcmsuICovXHJcbiAgICBhZGRyZXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmh1Yi5hZGRyZXNzKCk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyBhbGwgcGVlcnMgbWFuYWdlZCBieSB0aGlzIGRyaXZlci4gKi9cclxuICAgIGdldFBlZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBlZXJzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25uZWN0cyB0byBhIHJlbW90ZSBlbmRwb2ludCBhbmQgcmV0dXJucyBhIFBlZXIgYW5kIFJUQ0RhdGFDaGFubmVsLiBUaGlzXHJcbiAgICAgKiBmdW5jdGlvbiBoYW5kbGVzIGNvbm5lY3Rpb24gbmVnb3RpYXRlIHdpdGggdGhlIHJlbW90ZSBwZWVyIGFzIHdlbGwgYXNcclxuICAgICAqIGhhbmRsaW5nIG5ldHdvcmsgdGltZW91dHMgYW5kIHJlbW90ZSBwb3J0IHJlamVjdC4gVGhlIGRhdGEgY2hhbm5lbFxyXG4gICAgICogcmV0dXJuZWQgZnJvbSB0aGlzIGZ1bmN0aW9uIGlzIGdpdmVuIGluIGFuICdvcGVuJyBzdGF0ZSByZWFkeSBmb3IgdXNlLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBjb25uZWN0KHJlbW90ZSwgcG9ydCkge1xyXG4gICAgICAgIHJlbW90ZSA9IChyZW1vdGUgPT09IGF3YWl0IHRoaXMuaHViLmFkZHJlc3MoKSB8fCByZW1vdGUgPT09ICdsb2NhbGhvc3QnKSA/ICdsb2NhbGhvc3Q6MScgOiByZW1vdGU7XHJcbiAgICAgICAgY29uc3QgcGVlciA9IGF3YWl0IHRoaXMuZ2V0UGVlcihyZW1vdGUpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBwZWVyLmNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwocG9ydCk7XHJcbiAgICAgICAgY2hhbm5lbC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICAvLyB3YWl0IGZvciBjb25uZWN0aW9uXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcclxuICAgICAgICAgICAgdGltZW91dCg0MDAwLCBgQ29ubmVjdGlvbiB0byBob3N0ICcke3BlZXIucmVtb3RlfScgdGltZWQgb3V0LmApLFxyXG4gICAgICAgICAgICByZWNlaXZlKGNoYW5uZWwsICdvcGVuJylcclxuICAgICAgICBdKTtcclxuICAgICAgICAvLyB3YWl0IGZvciBhY2NlcHQgfCByZWplY3RcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFByb21pc2UucmFjZShbXHJcbiAgICAgICAgICAgIHRpbWVvdXQoNDAwMCwgYCR7cGVlci5yZW1vdGV9JyBpcyBub3QgcmVzcG9uZGluZy5gKSxcclxuICAgICAgICAgICAgcmVjZWl2ZShjaGFubmVsLCAnbWVzc2FnZScpXHJcbiAgICAgICAgXSkudGhlbihyZXNwb25zZSA9PiBuZXcgVWludDhBcnJheShyZXNwb25zZS5kYXRhKSk7XHJcbiAgICAgICAgLy8gcmVzb2x2ZSBvciByZWplY3RcclxuICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IDEpIHtcclxuICAgICAgICAgICAgY2hhbm5lbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgJyR7cGVlci5yZW1vdGV9JyBmb3JjZWZ1bGx5IGNsb3NlZCB0aGlzIGNvbm5lY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW3BlZXIsIGNoYW5uZWxdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQmluZHMgdGhlIGdpdmVuIHBvcnQgdG8gYWNjZXB0IHJlbW90ZSBwZWVyIGNvbm5lY3Rpb25zIG9uLiBEYXRhIGNoYW5uZWxzXHJcbiAgICAgKiBwYXNzZWQgb24gdGhpcyBjYWxsYmFjayBwYXNzZWQgaW4gYW4gJ29wZW4nIHN0YXRlIHJlYWR5IGZvciBpbW1lZGlhdGUgdXNlLlxyXG4gICAgICovXHJcbiAgICBiaW5kUG9ydChwb3J0LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLnBvcnRzLmhhcyhwb3J0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUG9ydEluVXNlRXJyb3IocG9ydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9ydHMuc2V0KHBvcnQsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kcyB0aGUgZ2l2ZW4gcG9ydCBwcmV2ZW50aW5nIGZ1cnRoZXIgY29ubmVjdGlvbnMgdG8gYmUgcmVjZWl2ZWQgb25cclxuICAgICAqIHRoaXMgcG9ydC4gVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBjbG9zZSBleGlzdGluZyBjb25uZWN0aW9ucyBvbiB0aGUgcG9ydCxcclxuICAgICAqIHNvIGNhbGxlcnMgd2lsbCBuZWVkIHRvIGV4cGxpY2l0bHkgdGVybWluYXRlIGFsbCBhY3RpdmUgY29ubmVjdGlvbnNcclxuICAgICAqIG1hbnVhbGx5LlxyXG4gICAgICovXHJcbiAgICB1bmJpbmRQb3J0KHBvcnQpIHtcclxuICAgICAgICB0aGlzLnBvcnRzLmRlbGV0ZShwb3J0KTtcclxuICAgIH1cclxuICAgIC8qKiBEaXNwb3NlcyBvZiB0aGlzIG9iamVjdC4gKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5wZWVycy5rZXlzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgcGVlciA9IHRoaXMucGVlcnMuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIHBlZXIuY29ubmVjdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnBlZXJzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gUGVlciByZXNvbHZlclxyXG4gICAgLyoqIEdldHMgb3IgY3JlYXRlcyBhIHBlZXIgdG8gdGhlIHJlbW90ZSBlbmRwb2ludC4gKi9cclxuICAgIGFzeW5jIGdldFBlZXIocmVtb3RlKSB7XHJcbiAgICAgICAgY29uc3QgY29uZmlndXJhdGlvbiA9IGF3YWl0IHRoaXMuaHViLmNvbmZpZ3VyYXRpb24oKTtcclxuICAgICAgICBjb25zdCBsb2NhbCA9IGF3YWl0IHRoaXMuaHViLmFkZHJlc3MoKTtcclxuICAgICAgICBpZiAoIXRoaXMucGVlcnMuaGFzKHJlbW90ZSkpIHtcclxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgbG9vcGJhY2sgPSBMb29wYmFjay5Ob25lO1xyXG4gICAgICAgICAgICBjb25zdCBwZWVyID0geyBjb25uZWN0aW9uLCBsb2NhbCwgcmVtb3RlLCBsb29wYmFjayB9O1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ25lZ290aWF0aW9ubmVlZGVkJywgZXZlbnQgPT4gdGhpcy5vbk5lZ290aWF0aW9uTmVlZGVkKHBlZXIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgZXZlbnQgPT4gdGhpcy5vbkljZUNhbmRpZGF0ZShwZWVyLCBldmVudCkpO1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgZXZlbnQgPT4gdGhpcy5vbkRhdGFDaGFubmVsKHBlZXIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIHRoaXMucGVlcnMuc2V0KHJlbW90ZSwgcGVlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBlZXJzLmdldChyZW1vdGUpO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBTaWduYWxsaW5nXHJcbiAgICAvKipcclxuICAgICAqIEZvcndhcmRzIGEgc2lnbmFsbGluZyBtZXNzYWdlIG92ZXIgdG8gYSByZW1vdGUgaG9zdC4gVGhpcyBmdW5jdGlvbiB0cmllc1xyXG4gICAgICogdG8gb3B0aW1pemUgaGVyZSBieSBkZXRlY3RpbmcgZm9yd2FyZHMgb24gbG9jYWxob3N0LiBUaGVzZSBhcmUgaW50ZXJjZXB0ZWRcclxuICAgICAqIGJlZm9yZSBtYWtpbmcgdG8gdGhlIHNpZ25hbGxpbmcgaHViLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBmb3J3YXJkKHJlbW90ZSwgZGF0YSkge1xyXG4gICAgICAgIGlmIChyZW1vdGUgPT09ICdsb2NhbGhvc3QnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAnZm9yd2FyZCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSAnbG9jYWxob3N0JztcclxuICAgICAgICAgICAgY29uc3QgdG8gPSAnbG9jYWxob3N0JztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub25Gb3J3YXJkKHsgdHlwZSwgdG8sIGZyb20sIGRhdGEgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaHViLmZvcndhcmQocmVtb3RlLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGlzcGF0Y2hlcyBpbmNvbWluZyBmb3J3YXJkZWQgbWVzc2FnZXMgb3V0IHRvIHRoZWlyIHJlc3BlY3RpdmUgaGFuZGxlcnMuXHJcbiAgICAgKi9cclxuICAgIG9uRm9yd2FyZChyZXF1ZXN0KSB7XHJcbiAgICAgICAgc3dpdGNoIChyZXF1ZXN0LmRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdjYW5kaWRhdGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNhbmRpZGF0ZShyZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhbnN3ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkFuc3dlcihyZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvZmZlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uT2ZmZXIocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgaW5jb21pbmcgb2ZmZXJzIGZyb20gcmVtb3RlIHBlZXJzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIG9uT2ZmZXIocmVxdWVzdCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBlZXIgPSBhd2FpdCB0aGlzLmdldFBlZXIodGhpcy5yZXNvbHZlTG9vcGJhY2tUYXJnZXQocmVxdWVzdCkpO1xyXG4gICAgICAgICAgICBhd2FpdCBwZWVyLmNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24ocmVxdWVzdC5kYXRhLnNkcCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNkcCA9IGF3YWl0IHBlZXIuY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgbG9vcGJhY2sgPSBsb29wYmFja1N3aXRjaChyZXF1ZXN0LmRhdGEubG9vcGJhY2spO1xyXG4gICAgICAgICAgICBhd2FpdCBwZWVyLmNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihzZHApO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZvcndhcmQocmVxdWVzdC5mcm9tLCB7IHR5cGU6ICdhbnN3ZXInLCBzZHAsIGxvb3BiYWNrIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWwgPSByZXF1ZXN0LnRvO1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdGUgPSByZXF1ZXN0LmZyb207XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuZXcgTmVnb3RpYXRlRXJyb3IobG9jYWwsIHJlbW90ZSwgZXJyb3IsIHJlcXVlc3QuZGF0YS5zZHApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgaW5jb21pbmcgYW5zd2VycyBmcm9tIHJlbW90ZSBwZWVyc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBvbkFuc3dlcihyZXF1ZXN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcGVlciA9IGF3YWl0IHRoaXMuZ2V0UGVlcih0aGlzLnJlc29sdmVMb29wYmFja1RhcmdldChyZXF1ZXN0KSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHBlZXIuY29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihyZXF1ZXN0LmRhdGEuc2RwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuZXcgTmVnb3RpYXRlRXJyb3IocmVxdWVzdC50bywgcmVxdWVzdC5mcm9tLCBlcnJvciwgcmVxdWVzdC5kYXRhLnNkcCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBpbmNvbWluZyBjYW5kaWRhdGVzIGZyb20gcmVtb3RlIHBlZXJzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIG9uQ2FuZGlkYXRlKHJlcXVlc3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBwZWVyID0gYXdhaXQgdGhpcy5nZXRQZWVyKHRoaXMucmVzb2x2ZUxvb3BiYWNrVGFyZ2V0KHJlcXVlc3QpKTtcclxuICAgICAgICAgICAgYXdhaXQgcGVlci5jb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShyZXF1ZXN0LmRhdGEuY2FuZGlkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuZXcgTmVnb3RpYXRlRXJyb3IocmVxdWVzdC50bywgcmVxdWVzdC5mcm9tLCBlcnJvciwgcmVxdWVzdC5kYXRhLmNhbmRpZGF0ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gUlRDUGVlckNvbm5lY3Rpb24gZXZlbnRzXHJcbiAgICBhc3luYyBvbk5lZ290aWF0aW9uTmVlZGVkKHBlZXIsIGV2ZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2RwID0gYXdhaXQgcGVlci5jb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvb3BiYWNrID0gcGVlci5sb29wYmFjaztcclxuICAgICAgICAgICAgYXdhaXQgcGVlci5jb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oc2RwKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mb3J3YXJkKHBlZXIucmVtb3RlLCB7IHR5cGU6ICdvZmZlcicsIHNkcCwgbG9vcGJhY2sgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbCA9IHBlZXIubG9jYWw7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZSA9IHBlZXIucmVtb3RlO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4obmV3IE5lZ290aWF0ZUVycm9yKGxvY2FsLCByZW1vdGUsIGVycm9yKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25JY2VDYW5kaWRhdGUocGVlciwgZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gZXZlbnQuY2FuZGlkYXRlO1xyXG4gICAgICAgICAgICBjb25zdCBsb29wYmFjayA9IHBlZXIubG9vcGJhY2s7XHJcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZChwZWVyLnJlbW90ZSwgeyB0eXBlOiAnY2FuZGlkYXRlJywgY2FuZGlkYXRlLCBsb29wYmFjayB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IE5lZ290aWF0ZUVycm9yKHBlZXIubG9jYWwsIHBlZXIucmVtb3RlLCBlcnJvcikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVjZWl2ZXMgYW4gaW5jb21pbmcgZGF0YSBjaGFubmVsIGZyb20gYSByZW1vdGUgcGVlci4gVGhpcyBmdW5jdGlvbiB3aWxsXHJcbiAgICAgKiB0ZXN0cyB0aGF0IHRoaXMgcGVlciBpcyBsaXN0ZW5pbmcgb24gdGhlIGdpdmVuIHBvcnQsIGFuZCBpZiBzbywgZW1pdHNcclxuICAgICAqIHRvIHRoYXQgcG9ydHMgbGlzdGVuZXIsIG90aGVyd2lzZSwgdGhlIHNvY2tldCBpcyBzZW50IGEgcmVqZWN0aW9uIHNpZ25hbFxyXG4gICAgICogYW5kIGNsb3NlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgb25EYXRhQ2hhbm5lbChwZWVyLCBldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHBvcnQgPSBldmVudC5jaGFubmVsLmxhYmVsO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBldmVudC5jaGFubmVsO1xyXG4gICAgICAgIGNoYW5uZWwuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQoMjAwMCwgYFJlY2VpdmVkIGNvbm5lY3Rpb24gZnJvbSAke3BlZXIucmVtb3RlfSBmYWlsZWQgdG8gb3Blbi5gKSxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmUoY2hhbm5lbCwgJ29wZW4nKVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBvcnRzLmhhcyhwb3J0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5zZW5kKG5ldyBVaW50OEFycmF5KFsxXSkpO1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5zZW5kKG5ldyBVaW50OEFycmF5KFswXSkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLnBvcnRzLmdldChwb3J0KTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFtwZWVyLCBjaGFubmVsXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2gge1xyXG4gICAgICAgICAgICAvKiogaWdub3JlICovXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBMb29wYmFjayBhbmQgUm91dGluZ1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHVwIHRoZSBwZWVyIGNvbm5lY3Rpb25zIGZvciBsb2NhbGhvc3QuIGxvY2FsaG9zdDowIGlzIGZvciBvdXRib3VuZFxyXG4gICAgICogY29ubmVjdGlvbnMsIGxvY2FsaG9zdDoxIGlzIGZvciBpbmJvdW5kLiBUaGVyZWZvcmUgd2hlbiBjb25uZWN0aW9ucyBhcmVcclxuICAgICAqIGNyZWF0ZWQgb24gbG9jYWxob3N0LCB0aGV5IGFyZSBhbHdheXMgY29ubmVjdGluZyB0byB0aGUgbG9jYWxob3N0OjFcclxuICAgICAqIGNvbm5lY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUxvb3BiYWNrKCkge1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBsb29wYmFjayA9IExvb3BiYWNrLlNlbmRlcjtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWwgPSAnbG9jYWxob3N0JztcclxuICAgICAgICAgICAgY29uc3QgcmVtb3RlID0gJ2xvY2FsaG9zdCc7XHJcbiAgICAgICAgICAgIGNvbnN0IHBlZXIgPSB7IGNvbm5lY3Rpb24sIGxvY2FsLCByZW1vdGUsIGxvb3BiYWNrIH07XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbmVnb3RpYXRpb25uZWVkZWQnLCBldmVudCA9PiB0aGlzLm9uTmVnb3RpYXRpb25OZWVkZWQocGVlciwgZXZlbnQpKTtcclxuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBldmVudCA9PiB0aGlzLm9uSWNlQ2FuZGlkYXRlKHBlZXIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignZGF0YWNoYW5uZWwnLCBldmVudCA9PiB0aGlzLm9uRGF0YUNoYW5uZWwocGVlciwgZXZlbnQpKTtcclxuICAgICAgICAgICAgdGhpcy5wZWVycy5zZXQoJ2xvY2FsaG9zdDowJywgcGVlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBsb29wYmFjayA9IExvb3BiYWNrLlJlY2VpdmVyO1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbCA9ICdsb2NhbGhvc3QnO1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdGUgPSAnbG9jYWxob3N0JztcclxuICAgICAgICAgICAgY29uc3QgcGVlciA9IHsgY29ubmVjdGlvbiwgbG9jYWwsIHJlbW90ZSwgbG9vcGJhY2sgfTtcclxuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIGV2ZW50ID0+IHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZChwZWVyLCBldmVudCkpO1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIGV2ZW50ID0+IHRoaXMub25JY2VDYW5kaWRhdGUocGVlciwgZXZlbnQpKTtcclxuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdkYXRhY2hhbm5lbCcsIGV2ZW50ID0+IHRoaXMub25EYXRhQ2hhbm5lbChwZWVyLCBldmVudCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBlZXJzLnNldCgnbG9jYWxob3N0OjEnLCBwZWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIHRoZSBsb29wYmFjayB0YXJnZXQuIFRoaXMgZnVuY3Rpb24gYWN0cyBhcyBhIHN3aXRjaCB3aGljaCBmbGlwc1xyXG4gICAgICogYmV0d2VlbiBsb2NhbGhvc3Q6MCBhbmQgbG9jYWxob3N0OjEgaWYgdGhlIGxvb3BiYWNrIGhhcHBlbnMgdG8gYmUgb25cclxuICAgICAqIGxvY2FsaG9zdC4gVXNlZCBkdXJpbmcgY29ubmVjdGlvbiBuZWdvdGlhdGUuXHJcbiAgICAgKi9cclxuICAgIHJlc29sdmVMb29wYmFja1RhcmdldChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QuZGF0YS5sb29wYmFjayA9PT0gTG9vcGJhY2suU2VuZGVyID8gJ2xvY2FsaG9zdDoxJyA6XHJcbiAgICAgICAgICAgIHJlcXVlc3QuZGF0YS5sb29wYmFjayA9PT0gTG9vcGJhY2suUmVjZWl2ZXIgPyAnbG9jYWxob3N0OjAnIDpcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuZnJvbTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLk5ldHdvcmsgPSBOZXR3b3JrO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBzb2NrZXRfMSA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcclxuY29uc3Qgc2VydmVyXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XHJcbi8qKlxyXG4gKiBBIFdlYiBTb2NrZXQgZW11bGF0aW9uIGNvbnRleHQuIEFsbG93cyBvbmUgdG8gY3JlYXRlXHJcbiAqIFJ0YyBzb2NrZXQgaG9zdHMgYW5kIGZ1bmN0aW9uYWxpdHkgdG8gY29ubmVjdCB0byB0aGVtXHJcbiAqIGFjcm9zcyBhIHBlZXIgbmV0d29yay4gU29ja2V0cyBjcmVhdGVkIGJ5IHRoaXMgdHlwZVxyXG4gKiBhcmUgZnVsbHkgZHVwbGV4IGFuZCBtaXJyb3IgdGhlIHNhbWUgZnVuY3Rpb25hbGl0eVxyXG4gKiBhcyBzdGFuZGFyZCBXZWIgU29ja2V0cy5cclxuICovXHJcbmNsYXNzIFNvY2tldHMge1xyXG4gICAgY29uc3RydWN0b3IobmV0KSB7XHJcbiAgICAgICAgdGhpcy5uZXQgPSBuZXQ7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJzID0gW107XHJcbiAgICB9XHJcbiAgICAvKiogQ3JlYXRlcyBSdGMgc29ja2V0IHNlcnZlciBmb3IgcmVtb3RlIHNvY2tldHMgdG8gY29ubmVjdCB0by4gKi9cclxuICAgIGNyZWF0ZVNlcnZlcihmdW5jKSB7XHJcbiAgICAgICAgY29uc3Qgc2VydmVyID0gbmV3IHNlcnZlcl8xLlNvY2tldFNlcnZlcih0aGlzLm5ldCwgZnVuYyk7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJzLnB1c2goc2VydmVyKTtcclxuICAgICAgICByZXR1cm4gc2VydmVyO1xyXG4gICAgfVxyXG4gICAgLyoqIENvbm5lY3RzIHRvIGEgcmVtb3RlIFJ0YyBzb2NrZXQgaG9zdC4qL1xyXG4gICAgY29ubmVjdChyZW1vdGUsIHBvcnQpIHtcclxuICAgICAgICByZXR1cm4gc29ja2V0XzEuU29ja2V0LmNyZWF0ZVNvY2tldCh0aGlzLm5ldCwgcmVtb3RlLCBwb3J0LnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgUnRjIGNvbnRleHQgKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuc2VydmVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlciA9IHRoaXMuc2VydmVycy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBzZXJ2ZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLlNvY2tldHMgPSBTb2NrZXRzO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBidWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9idWZmZXJcIik7XHJcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XHJcbmNvbnN0IHN0cmVhbXNfMSA9IHJlcXVpcmUoXCIuLi9zdHJlYW1zXCIpO1xyXG5jb25zdCBORVhUID0gMDtcclxuY29uc3QgQ0FOQ0VMID0gMTtcclxuY29uc3QgREFUQSA9IDI7XHJcbmNvbnN0IEVSUk9SID0gMztcclxuY29uc3QgRU5EID0gNDtcclxuLyoqXHJcbiAqIEFuIGFzeW5jaHJvbm91cyBuZXR3b3JrIHN0cmVhbS4gVGhpcyB0eXBlIGxheWVycyBhIFNvY2tldCBhbmQgc3BsaXRzIGl0IGludG9cclxuICogYSByZWFkYWJsZSBhbmQgd3JpdGFibGUgcGFpci4gVGhlIE5ldHdvcmtTdHJlYW0gaW50ZXJuYWxseSBpbXBsZW1lbnRzXHJcbiAqIGJpLWRpcmVjdGlvbmFsIFBVTEwgc2VtYW50aWNzIG92ZXIgdGhlIHNvY2tldCB2aWEgYSBtZXNzYWdpbmcgcHJvdG9jb2wgc29cclxuICogYm90aCBzZW5kZXIgYW5kIHJlY2VpdmVyIHNvY2tldHMgc2hvdWxkIGJlIHdyYXBwZWQgYXMgTmV0d29ya1N0cmVhbSB0byBlbmFibGVcclxuICogcHJvdG9jb2wgcmVhZC93cml0ZSBmb3IgdGhlIHNvY2tldC4gVGhlIHJlYWRhYmxlIHNpZGUgb2YgdGhpcyBuZXR3b3JrIHN0cmVhbVxyXG4gKiBpcyBhc3luYyBpdGVyYWJsZSBvdmVyIHRoZSBuZXR3b3JrIHVzaW5nIHRoZXNlIFBVTEwgc2VtYW50aWNzLiBUaGVcclxuICogTmV0d29ya1N0cmVhbSB3aWxsIG1hbmFnZSB0aW1lb3V0cyBvdmVyIHRoZSBuZXR3b3JrIHdoaWNoIG1heSBvY2N1ciBvbiBib3RoXHJcbiAqIHJlYWQgYW5kIHdyaXRpbmcgZW5kcyBvZiB0aGUgc3RyZWFtLlxyXG4gKi9cclxuY2xhc3MgTmV0d29ya1N0cmVhbSB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIE5ldHdvcmtTdHJlYW0gZnJvbSB0aGUgZ2l2ZW4gU29ja2V0LiAqL1xyXG4gICAgY29uc3RydWN0b3Ioc29ja2V0LCB0aW1lb3V0ID0gODAwMCkge1xyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XHJcbiAgICAgICAgLy8gcmVhZGFibGVcclxuICAgICAgICB0aGlzLnJlYWRfYnVmZmVyID0gW107XHJcbiAgICAgICAgdGhpcy5yZWFkX2JhcnJpZXIgPSBuZXcgYXN5bmNfMS5CYXJyaWVyKCk7XHJcbiAgICAgICAgdGhpcy5yZWFkYWJsZSA9IG5ldyBzdHJlYW1zXzEuUmVhZGFibGUoe1xyXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHRoaXMucHVzaChDQU5DRUwpLFxyXG4gICAgICAgICAgICBwdWxsOiBhc3luYyAoY29udHJvbGxlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKE5FWFQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWFkX2JhcnJpZXIucnVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRfYmFycmllci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBidWZmZXJdID0gdGhpcy5yZWFkX2J1ZmZlci5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEQVRBOiByZXR1cm4gY29udHJvbGxlci5lbnF1ZXVlKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVORDogcmV0dXJuIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRVJST1I6IHRocm93IG5ldyBFcnJvcihidWZmZXIudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYFJlYWRhYmxlIHJlY2VpdmUgaW52YWxpZCBoZWFkZXIuICR7dHlwZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gc2V0dXAgd3JpdGFibGVcclxuICAgICAgICB0aGlzLndyaXRlX2J1ZmZlciA9IFtdO1xyXG4gICAgICAgIHRoaXMud3JpdGVfYmFycmllciA9IG5ldyBhc3luY18xLkJhcnJpZXIoKTtcclxuICAgICAgICB0aGlzLndyaXRhYmxlID0gbmV3IHN0cmVhbXNfMS5Xcml0YWJsZSh7XHJcbiAgICAgICAgICAgIHdyaXRlOiBhc3luYyAoYnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbdHlwZV0gPSBhd2FpdCB0aGlzLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0FOQ0VMOiB0aHJvdyBFcnJvcignUmVhZGFibGUgY2FuY2VsbGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBORVhUOiByZXR1cm4gdGhpcy5wdXNoKERBVEEsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFib3J0OiBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlXSA9IGF3YWl0IHRoaXMubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQU5DRUw6IHRocm93IEVycm9yKCdSZWFkYWJsZSBjYW5jZWxsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6IHJldHVybiB0aGlzLnB1c2goRVJST1IsIGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGVycm9yLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xvc2U6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlXSA9IGF3YWl0IHRoaXMubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQU5DRUw6IHRocm93IEVycm9yKCdSZWFkYWJsZSBjYW5jZWxsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6IHJldHVybiB0aGlzLnB1c2goRU5EKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHN0YXJ0IG1lc3NhZ2UgbG9vcFxyXG4gICAgICAgIHRoaXMucmVhZEludGVybmFsKCk7XHJcbiAgICB9XHJcbiAgICAvKiogV2FpdHMgZm9yIHRoZSBORVhUIG9yIENBTkNFTCBzaWduYWwgZnJvbSByZW1vdGUuICovXHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBzZW5kIHRpbWVvdXQuJykpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSwgdGhpcy50aW1lb3V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVfYmFycmllci5ydW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlX2JhcnJpZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLndyaXRlX2J1ZmZlci5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUHVzaGVzIGRhdGEgdG8gdGhlIG5ldHdvcmsuICovXHJcbiAgICBwdXNoKHR5cGUsIGRhdGEgPSBidWZmZXJfMS5CdWZmZXIuYWxsb2MoMCkpIHtcclxuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKGJ1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoW1xyXG4gICAgICAgICAgICBidWZmZXJfMS5CdWZmZXIuZnJvbShbdHlwZV0pLFxyXG4gICAgICAgICAgICBidWZmZXJfMS5CdWZmZXIuZnJvbShkYXRhKVxyXG4gICAgICAgIF0pKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHVsbHMgZGF0YSBmcm9tIHRoZSBuZXR3b3JrLiBUaGlzIGZ1bmN0aW9uIGFsd2F5cyByZXNvbHZlcyB3aXRoIGEgJ1JlYWQnXHJcbiAgICAgKiB0dXBsZSBpbmRpY2F0aW5nIHRoZSByZXN1bHQgb2YgdGhhdCByZWFkLiBUaGUgcmVzdWx0IGdpdmVuIGhlcmUgaXMgdXNlZFxyXG4gICAgICogYnkgdGhlICdyZWFkSW50ZXJuYWwoKScgZnVuY3Rpb24gdG8gdW5sb2NrIHJlYWQgLyB3cml0ZSBiYXJyaWVycyBmb3JcclxuICAgICAqIHByb2Nlc3NpbmcsIGFuZCBmb3IgbG9vcCB0ZXJtaW5hdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVsbCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShbRVJST1IsIGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKCdOZXR3b3JrIHJlY2VpdmUgdGltZW91dC4nKV0pLCB0aGlzLnRpbWVvdXQpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmNlKCdlcnJvcicsICgpID0+IHJlc29sdmUoW0VSUk9SLCBidWZmZXJfMS5CdWZmZXIuZnJvbSgnTmV0d29ya1N0cmVhbSBTb2NrZXQgZW5jb3VudGVkIGVycm9yLicpXSkpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmNlKCdjbG9zZScsICgpID0+IHJlc29sdmUoW0VORCwgYnVmZmVyXzEuQnVmZmVyLmFsbG9jKDApXSkpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmNlKCdtZXNzYWdlJywgbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJfMS5CdWZmZXIuZnJvbShtZXNzYWdlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGJ1ZmZlci5yZWFkSW50OCgwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6IHJldHVybiByZXNvbHZlKFtORVhULCBidWZmZXJfMS5CdWZmZXIuYWxsb2MoMCldKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENBTkNFTDogcmV0dXJuIHJlc29sdmUoW0NBTkNFTCwgYnVmZmVyXzEuQnVmZmVyLmFsbG9jKDApXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEQVRBOiByZXR1cm4gcmVzb2x2ZShbREFUQSwgZGF0YV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVJST1I6IHJldHVybiByZXNvbHZlKFtFUlJPUiwgZGF0YV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRU5EOiByZXR1cm4gcmVzb2x2ZShbRU5ELCBidWZmZXJfMS5CdWZmZXIuYWxsb2MoMCldKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gcmVzb2x2ZShbRVJST1IsIGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKCdOZXR3b3JrU3RyZWFtIFNvY2tldCBzZW50IHVua25vd24gbWVzc2FnZSBoZWFkZXIuJyldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFuIGludGVybmFsIGV2ZW50IGxvb3AgdGhhdCByZWFkcyBtZXNzYWdlcyBmcm9tIHRoZSBuZXR3b3JrLCBhbmQgdW5sb2Nrc1xyXG4gICAgICogcmVhZCAvIHdyaXRlIGJhcnJpZXJzLiBUaGlzIGZ1bmN0aW9uIGlzIHRoZSBtYWluIGRyaXZpbmcgbG9naWMgZm9yIHRoZVxyXG4gICAgICogcmVhZGFibGUgYW5kIHdyaXRhYmxlIGluc3RhbmNlcyBvZiB0aGlzIHN0cmVhbSwgd2hlcmUgb3BlcmF0aW9ucyBhcmVcclxuICAgICAqIGxvY2tlZCB1bnRpbCBhIG5ldHdvcmsgbWVzc2FnZSB1bmxvY2tzIHRoZW0gKHZpYSByZXN1bWUpLiBUaGlzIGZ1bmN0aW9uXHJcbiAgICAgKiBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBjbG9zaW5nIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlYWRJbnRlcm5hbCgpIHtcclxuICAgICAgICBsZXQgcnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgd2hpbGUgKHJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGF3YWl0IHRoaXMucHVsbCgpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG5leHRbMF0pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZyb206IHJlYWRhYmxlXHJcbiAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlX2J1ZmZlci5wdXNoKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVfYmFycmllci5yZXN1bWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgQ0FOQ0VMOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZV9idWZmZXIucHVzaChuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlX2JhcnJpZXIucmVzdW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gZnJvbTogd3JpdGFibGVcclxuICAgICAgICAgICAgICAgIGNhc2UgREFUQToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZF9idWZmZXIucHVzaChuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRfYmFycmllci5yZXN1bWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgRU5EOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkX2J1ZmZlci5wdXNoKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZF9iYXJyaWVyLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgRVJST1I6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRfYnVmZmVyLnB1c2gobmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkX2JhcnJpZXIucmVzdW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5OZXR3b3JrU3RyZWFtID0gTmV0d29ya1N0cmVhbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgc2VydmVyXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XHJcbmNvbnN0IGZldGNoXzEgPSByZXF1aXJlKFwiLi9mZXRjaFwiKTtcclxuLyoqXHJcbiAqIEEgSFRUUCBlbXVsYXRpb24gY29udGV4dC4gQWxsb3dzIG9uZSB0byBjcmVhdGUgSFRUUCBsaWtlIHdlYiBob3N0cyBhbmQgZmV0Y2hcclxuICogcmVtb3RlIHJlc291cmNlcyBhY3Jvc3MgYSBwZWVyIG5ldHdvcmsgdXNpbmcgcmVxdWVzdCByZXNwb25zZSBzZW1hbnRpY3MuXHJcbiAqL1xyXG5jbGFzcyBSZXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNvY2tldHMpIHtcclxuICAgICAgICB0aGlzLnNvY2tldHMgPSBzb2NrZXRzO1xyXG4gICAgICAgIHRoaXMuc2VydmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgUmVzdCBzZXJ2ZXIuICovXHJcbiAgICBjcmVhdGVTZXJ2ZXIob3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHNlcnZlciA9IG5ldyBzZXJ2ZXJfMS5SZXN0U2VydmVyKHRoaXMuc29ja2V0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJzLnB1c2goc2VydmVyKTtcclxuICAgICAgICByZXR1cm4gc2VydmVyO1xyXG4gICAgfVxyXG4gICAgLyoqIEZldGNoZXMgYSByZXF1ZXN0IGZyb20gYSByZW1vdGUgaG9zdC4gKi9cclxuICAgIGFzeW5jIGZldGNoKGVuZHBvaW50LCBvcHRpb25zID0geyBtZXRob2Q6ICdnZXQnLCBoZWFkZXJzOiB7fSB9KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBmZXRjaF8xLkZldGNoKHRoaXMuc29ja2V0cykuZmV0Y2goZW5kcG9pbnQsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgb2JqZWN0LiAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB3aGlsZSAodGhpcy5zZXJ2ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gdGhpcy5zZXJ2ZXJzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHNlcnZlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVzdCA9IFJlc3Q7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiBSZXNvbHZlcyBtaWRkbGV3YXJlIGZ1bmN0aW9ucyBhcyBpbnRlcmZhY2VkIG1pZGRsZXdhcmUgb2JqZWN0cy4gKi9cclxuZnVuY3Rpb24gYXNNaWRkbGV3YXJlKG1pZGRsZXdhcmUpIHtcclxuICAgIGlmICh0eXBlb2YgbWlkZGxld2FyZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IG1pZGRsZXdhcmU7XHJcbiAgICAgICAgcmV0dXJuIHsgaGFuZGxlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbWlkZGxld2FyZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFzTWlkZGxld2FyZSA9IGFzTWlkZGxld2FyZTtcclxuLyoqIENvbW1vbiBmdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGEgbWlkZGxld2FyZSBzdGFjay4gRXhjZXB0cyBhIGNsb25lZCBzdGFjayBvbiBlYWNoIGludm9jYXRpb24uICovXHJcbmZ1bmN0aW9uIHJ1blN0YWNrKHN0YWNrLCByZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gICAgcmV0dXJuIChzdGFjay5sZW5ndGggPiAwKVxyXG4gICAgICAgID8gc3RhY2suc2hpZnQoKS5oYW5kbGUocmVxdWVzdCwgcmVzcG9uc2UsICgpID0+IHJ1blN0YWNrKHN0YWNrLCByZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkpXHJcbiAgICAgICAgOiBuZXh0KCk7XHJcbn1cclxuZXhwb3J0cy5ydW5TdGFjayA9IHJ1blN0YWNrO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jbGFzcyBQYXR0ZXJuIHtcclxuICAgIC8qKiBDcmVhdGVzIGEgcGF0dGVybiBtYXRjaGVyIG9iamVjdC4gKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcclxuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xyXG4gICAgICAgIHRoaXMucmVzdWx0cyA9IFBhdHRlcm4ucGFyc2VQYXR0ZXJuKHRoaXMucGF0dGVybik7XHJcbiAgICAgICAgdGhpcy5yZWdleCA9IFBhdHRlcm4uYnVpbGRSZWdleCh0aGlzLnJlc3VsdHMpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gUGF0dGVybi5idWlsZFBhcmFtcyh0aGlzLnJlc3VsdHMpO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hdGNoZXMgZm9yIHRoZSBnaXZlbiB1cmwuIElmIG1hdGNoIHJldHVybnMgUGFyYW1zIG90aGVyd2lzZSB1bmRlZmluZWQuICAqL1xyXG4gICAgbWF0Y2godXJsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2godGhpcy5yZWdleCk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtcy5yZWR1Y2UoKGFjYywgcGFyYW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY2NbcGFyYW1dID0gbWF0Y2hbaW5kZXggKyAxXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIC8qKiBQYXJzZXMgdGhlIHBhdHRlcm4sIHJlc29sdmluZyBhbiBhcnJheSBvZiBwYXJzZSB0b2tlbnMgdXNlZCB0byBidWlsZCBwYXJhbXMgcmVnZXggZXhwcmVzc2lvbnMuICovXHJcbiAgICBzdGF0aWMgcGFyc2VQYXR0ZXJuKHBhdHRlcm4pIHtcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gcGF0dGVybi5zcGxpdCgnJyk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgIGxldCBtb2RlID0gJ2xpdGVyYWwnO1xyXG4gICAgICAgIGxldCBidWZmZXIgPSBbXTtcclxuICAgICAgICB3aGlsZSAoY2hhcmFjdGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGFyYWN0ZXJzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSAnPycgfHwgY3VycmVudCA9PT0gJyYnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSWxsZWdhbCBjaGFyYWN0ZXIgJyR7Y3VycmVudH0nIGluIHBhdHRlcm4gJyR7cGF0dGVybn0nYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdsaXRlcmFsJyAmJiBjdXJyZW50ICE9PSAnOicpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9ICdsaXRlcmFsJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnVmZmVyLmpvaW4oJycpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgdHlwZSwgdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RlID0gJ3BhcmFtJztcclxuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbScgJiYgKGN1cnJlbnQgPT09ICcvJyB8fCBjdXJyZW50ID09PSAnLScpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gJ3BhcmFtJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnVmZmVyLmpvaW4oJycpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgdHlwZSwgdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RlID0gJ2xpdGVyYWwnO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XHJcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IG1vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnVmZmVyLmpvaW4oJycpO1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goeyB0eXBlLCB2YWx1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcbiAgICAvKiogQnVpbGRzIHRoZSBwYXR0ZXJucyByZWd1bGFyIGV4cHJlc3Npb24gZnJvbSBwYXJzZXIgcmVzdWx0cy4gKi9cclxuICAgIHN0YXRpYyBidWlsZFJlZ2V4KHJlc3VsdHMpIHtcclxuICAgICAgICBjb25zdCBleHByID0gcmVzdWx0c1xyXG4gICAgICAgICAgICAubWFwKHJlc3VsdCA9PiAocmVzdWx0LnR5cGUgPT09ICdwYXJhbScgPyAnKFtcXFxcdy1fJF0qKScgOiByZXN1bHQudmFsdWUpKVxyXG4gICAgICAgICAgICAuam9pbignJyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke2V4cHJ9JGApO1xyXG4gICAgfVxyXG4gICAgLyoqIEJ1aWxkcyB0aGUgcGF0dGVybnMgcGFyYW0gbmFtZXMgZnJvbSBwYXJzZXIgcmVzdWx0cy4gKi9cclxuICAgIHN0YXRpYyBidWlsZFBhcmFtcyhyZXN1bHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNcclxuICAgICAgICAgICAgLmZpbHRlcihyZXN1bHQgPT4gcmVzdWx0LnR5cGUgPT09ICdwYXJhbScpXHJcbiAgICAgICAgICAgIC5tYXAocmVzdWx0ID0+IHJlc3VsdC52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5QYXR0ZXJuID0gUGF0dGVybjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vLi4vYnVmZmVyXCIpO1xyXG5jbGFzcyBSZXNwb25zZUhlYWRlck5vdFJlY2VpdmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VydmVyIGNsb3NlZCB3aXRob3V0IHNlbmRpbmcgYSBoZWFkZXIuJyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZXNwb25zZUhlYWRlck5vdFJlY2VpdmVkRXJyb3IgPSBSZXNwb25zZUhlYWRlck5vdFJlY2VpdmVkRXJyb3I7XHJcbmNsYXNzIFJlc3BvbnNlSGVhZGVySW52YWxpZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NlcnZlciBzZW50IGFuIGludmFsaWQgcmVxdWVzdCBoZWFkZXIuJyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZXNwb25zZUhlYWRlckludmFsaWRFcnJvciA9IFJlc3BvbnNlSGVhZGVySW52YWxpZEVycm9yO1xyXG5jbGFzcyBSZXF1ZXN0SGVhZGVySW52YWxpZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NsaWVudCBzZW50IGFuIGludmFsaWQgcmVxdWVzdCBoZWFkZXIuJyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5SZXF1ZXN0SGVhZGVySW52YWxpZEVycm9yID0gUmVxdWVzdEhlYWRlckludmFsaWRFcnJvcjtcclxuY2xhc3MgSGVhZGVyUHJvdG9jb2wge1xyXG4gICAgLyoqIFNlbmRzIHRoZSBjbGllbnQgcmVxdWVzdCBoZWFkZXIuICovXHJcbiAgICBzdGF0aWMgYXN5bmMgd3JpdGVSZXF1ZXN0SGVhZGVyKHN0cmVhbSwgaGVhZGVyKSB7XHJcbiAgICAgICAgYXdhaXQgc3RyZWFtLndyaXRhYmxlLndyaXRlKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGhlYWRlcikpKTtcclxuICAgIH1cclxuICAgIC8qKiBSZWFkcyB0aGUgY2xpZW50IHJlcXVlc3QgaGVhZGVyLiAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHJlYWRSZXF1ZXN0SGVhZGVyKHN0cmVhbSkge1xyXG4gICAgICAgIGNvbnN0IHJlYWQgPSBhd2FpdCBzdHJlYW0ucmVhZGFibGUucmVhZCgpO1xyXG4gICAgICAgIGlmIChyZWFkLmRvbmUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlcXVlc3RIZWFkZXJJbnZhbGlkRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gSlNPTi5wYXJzZShyZWFkLnZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmIChoZWFkZXIudXJsID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGhlYWRlci51cmwgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXF1ZXN0SGVhZGVySW52YWxpZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoZWFkZXIubWV0aG9kID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGhlYWRlci5tZXRob2QgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXF1ZXN0SGVhZGVySW52YWxpZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoZWFkZXIuaGVhZGVycyA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBoZWFkZXIuaGVhZGVycyAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlcXVlc3RIZWFkZXJJbnZhbGlkRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2FpdCBmb3IgbWVkaWFzdHJlYW0gdHJhY2sgdG8gYXBwZWFyLlxyXG4gICAgICAgIHJldHVybiBoZWFkZXI7XHJcbiAgICB9XHJcbiAgICAvKiogU2VuZHMgdGhlIHNlcnZlciByZXNwb25zZSBoZWFkZXIuICovXHJcbiAgICBzdGF0aWMgYXN5bmMgd3JpdGVSZXNwb25zZUhlYWRlcihzdHJlYW0sIGhlYWRlcikge1xyXG4gICAgICAgIGF3YWl0IHN0cmVhbS53cml0YWJsZS53cml0ZShidWZmZXJfMS5CdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShoZWFkZXIpKSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVhZHMgdGhlIHNlcnZlciByZXNwb25zZSBoZWFkZXIuICovXHJcbiAgICBzdGF0aWMgYXN5bmMgcmVhZFJlc3BvbnNlSGVhZGVyKHN0cmVhbSkge1xyXG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHN0cmVhbS5yZWFkYWJsZS5yZWFkKCk7XHJcbiAgICAgICAgaWYgKGRvbmUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlSGVhZGVyTm90UmVjZWl2ZWRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBKU09OLnBhcnNlKHZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmIChoZWFkZXIuc3RhdHVzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlSGVhZGVySW52YWxpZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoZWFkZXIuaGVhZGVycyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUhlYWRlckludmFsaWRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGVhZGVyO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuSGVhZGVyUHJvdG9jb2wgPSBIZWFkZXJQcm90b2NvbDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgcXVlcnlhYmxlXzEgPSByZXF1aXJlKFwiLi4vLi4vcXVlcnlhYmxlXCIpO1xyXG5jb25zdCBzdHJlYW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vc3RyZWFtc1wiKTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vLi4vYnVmZmVyXCIpO1xyXG5jb25zdCBTRU5EX0NIVU5LX1NJWkUgPSA2NTUzNjsgLy8gNjRrXHJcbi8qKlxyXG4gKiBUaGUgUkVTVCBib2R5IHByb3RvY29sLiBQcm92aWRlcyByZXF1ZXN0IGJvZHkgcmVhZCAvIHdyaXRlIGJldHdlZW4gY2xpZW50XHJcbiAqIGFuZCBzZXJ2ZXIuIEFsc28gc3VwcG9ydHMgdGhlIHRyYW5zbWlzc2lvbiBvZiBtZWRpYXN0cmVhbXMuXHJcbiAqL1xyXG5jbGFzcyBCb2R5UHJvdG9jb2wge1xyXG4gICAgLy8gI3JlZ2lvbiByZWFkYWJsZVxyXG4gICAgLyoqIFNlZ21lbnRzIHRoZSBnaXZlbiBidWZmZXJzIHdpdGggdGhlIGdpdmVuIHNpemUuICovXHJcbiAgICBzdGF0aWMgcGFydGl0aW9uKGJ1ZmZlcnMsIHNpemUpIHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xyXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW107XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2xpY2UgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzaXplKTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IHNsaWNlLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKHNsaWNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2xpY2UpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNtaXRzIHRoZSBnaXZlbiByZWFkYWJsZSB0byB0aGUgd3JpdGFibGUuIFdpbGwgc2lnbmFsIEVPRiBhcyBhIHplcm9cclxuICAgICAqIGxlbmd0aCBidWZmZXIuIFRoaXMgZnVuY3Rpb24gd2lsbCBwYXJ0aXRpb24gdGhlIGJ1ZmZlcnMgcmVjZWl2ZWQgZnJvbSB0aGVcclxuICAgICAqIGdpdmVuIHJlYWRhYmxlIGludG8gYnVmZmVyIHNsaWNlcyBtYW5hZ2VhYmxlIGZvciB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyB3cml0ZVJlYWRhYmxlKHN0cmVhbSwgcmVhZGFibGUsIG9wdGlvbnMgPSB7IGlnbm9yZUVycm9yOiBmYWxzZSB9KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZW1wdHkgPSBidWZmZXJfMS5CdWZmZXIuYWxsb2MoMCk7XHJcbiAgICAgICAgICAgIGxldCBzdG9yZSA9IGVtcHR5O1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGJ1ZmZlciBvZiByZWFkYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVycyA9IHRoaXMucGFydGl0aW9uKFtzdG9yZSwgYnVmZmVyXSwgU0VORF9DSFVOS19TSVpFKTtcclxuICAgICAgICAgICAgICAgIHN0b3JlID0gZW1wdHk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IFNFTkRfQ0hVTktfU0laRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdHJlYW0ud3JpdGFibGUud3JpdGUoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlID0gYnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RvcmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc3RyZWFtLndyaXRhYmxlLndyaXRlKHN0b3JlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBzdHJlYW0ud3JpdGFibGUud3JpdGUoYnVmZmVyXzEuQnVmZmVyLmFsbG9jKDApKTsgLy8gRU9GXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkcyBmcm9tIHRoZSBuZXR3b3JrIHN0cmVhbSBhcyBhIFJFU1QgYm9keS4gQ29udGludWVzIHRvIHB1bGwgY29udGVudFxyXG4gICAgICogZnJvbSB0aGUgbmV0d29yayBzdHJlYW0gdW50aWwgRU9GLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZFJlYWRhYmxlKHN0cmVhbSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtc18xLlJlYWRhYmxlKHtcclxuICAgICAgICAgICAgcHVsbDogYXN5bmMgKGNvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGF3YWl0IHN0cmVhbS5yZWFkYWJsZS5yZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV4dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSAoYnVmZmVyLmxlbmd0aCA9PT0gMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihuZXcgRXJyb3IoJ1VuYWJsZSB0byByZWFkIGZyb20gdGhpcyBzdHJlYW0uJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIHF1ZXJ5YWJsZVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc21pdHMgdGhlIGdpdmVuIHF1ZXJ5YWJsZSBvbiB0aGUgcmVzcG9uc2Ugc3RyZWFtLiBUaGlzIGFsbG93cyBmb3IgdGhlXHJcbiAgICAgKiByZWNlaXZlciB0byBwdWxsIG5ldyB2YWx1ZXMgZnJvbSB0aGUgcXVlcnlhYmxlIHZpYSB0aGUgTmV0d29ya1N0cmVhbVxyXG4gICAgICogcHJvdG9jb2wuIFRoZSBkaWZmZXJlbnQgYmV0d2VlbiB0aGlzIGFuZCB0aGUgd3JpdGVSZWFkYWJsZSBpcyB0aGF0XHJcbiAgICAgKiByZWNvcmRzIGFyZSBlbmNvZGVkIGFzIEpTT04gYnVmZmVycy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHdyaXRlUXVlcnlhYmxlKHN0cmVhbSwgcXVlcnlhYmxlLCBvcHRpb25zID0geyBpZ25vcmVFcnJvcjogZmFsc2UgfSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgcmVjb3JkIG9mIHF1ZXJ5YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJfMS5CdWZmZXIuZnJvbShqc29uLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0YWJsZS53cml0ZShidWZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0YWJsZS53cml0ZShidWZmZXJfMS5CdWZmZXIuYWxsb2MoMCkpOyAvLyBFT0ZcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWRzIHRoZSBnaXZlbiBxdWVyeWFibGUgYXMgYSBSRVNUIGJvZHkuIFRoaXMgZnVuY3Rpb24gd2lsbCB3cmFwIHRoZSBnaXZlblxyXG4gICAgICogcXVlcnlhYmxlIGFuZCBjb250aW51ZSB0byBlbWl0IHZhbHVlcyBmcm9tIGl0IHNvIGxvbmcgYXMgdGhlIHBheWxvYWRcclxuICAgICAqIHJlY2VpdmVkIGlzIG5vdCB6ZXJvIGxlbmd0aCAoc2lnbmFsbGluZyBFT0YpLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZFF1ZXJ5YWJsZShzdHJlYW0pIHtcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKHN0cmVhbSkge1xyXG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGJ1ZmZlciBvZiBzdHJlYW0ucmVhZGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gSlNPTi5wYXJzZShqc29uKTtcclxuICAgICAgICAgICAgICAgIHlpZWxkIHJlY29yZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IHF1ZXJ5YWJsZV8xLlF1ZXJ5YWJsZShnZW5lcmF0b3Ioc3RyZWFtKSk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIG1lZGlhc3RyZWFtXHJcbiAgICAvKipcclxuICAgICAqIFdyaXRlcyB0aGUgZ2l2ZW4gbWVkaWFzdHJlYW0gb3V0IGFzIHRoZSBib2R5IG9uIHRoaXMgc3RyZWFtcyB3cml0YWJsZS5cclxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBzZW5kIGEgZGlzcG9zaXRpb24gaGVhZGVyIG9uIHRoZSByZXNwb25zZSBzdHJlYW1cclxuICAgICAqIGZvbGxvd2VkIGJ5IHRoZSB0cmFja3MgdGhlbXNlbHZlcy4gUmVjZWl2ZXJzIHNob3VsZCBjaGVjayB0aGUgZGlzcG9zaXRpb25cclxuICAgICAqIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHdhaXQgb24gaW5jb21pbmcgdHJhY2tzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgd3JpdGVNZWRpYVN0cmVhbShzdHJlYW0sIG1lZGlhc3RyZWFtLCBvcHRpb25zID0geyBpZ25vcmVFcnJvcjogZmFsc2UgfSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFNlbmQgZGlzcG9zaXRpb24gZGVzY3JpcHRvciBvbiByZXNwb25zZSB0aGVuIEVPRi4gV2UgY291bGQgYWRkaXRpb25hbGx5XHJcbiAgICAgICAgICAgIC8vIGZvcndhcmQgdGhlIG1lZGlhc3RyZWFtIGlkIG9uIHRoZSBib2R5IGZvciB0aGUgcmVjaXBpZW50IHRvIGNoZWNrLiBcclxuICAgICAgICAgICAgLy8gQ29uc2lkZXIgdGhpcyBpZiBpc3N1ZXMgYXJlIG9ic2VydmVkIHdpdGggY29uY3VycmVudCBtZWRpYXN0cmVhbXMgb3ZlcmxhcFxyXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSBzYW1lIHNlbmRlci5cclxuICAgICAgICAgICAgYXdhaXQgc3RyZWFtLndyaXRhYmxlLndyaXRlKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKCdtZWRpYXN0cmVhbScpKTtcclxuICAgICAgICAgICAgLy8gU2VuZCBtZWRpYXN0cmVhbXMgdGhyb3VnaCB0aGUgc29ja2V0IGRpcmVjdG9yeS4gSXQgbWF5IGJlIHdvcnRoIGxvb2tpbmdcclxuICAgICAgICAgICAgLy8gYXQgYW5vdGhlciBtZWNoYW5pc20gZm9yIGRvaW5nIGluc3RlYWQgb2YgaGF2aW5nIHRvIHBpcGUgdGhyb3VnaCB0aGVcclxuICAgICAgICAgICAgLy8gU29ja2V0IGludGVyZmFjZS5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiBtZWRpYXN0cmVhbS5nZXRUcmFja3MoKSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc3RyZWFtLnNvY2tldC5hZGRUcmFjayh0cmFjaywgbWVkaWFzdHJlYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbmQgRU9GLCBzaWduYWxsaW5nIHRoZSBtZWRpYXN0cmVhbSB0cmFja3MgKGJvZHkpIGhhdmUgYmVlbiBzZW50LlxyXG4gICAgICAgICAgICBhd2FpdCBzdHJlYW0ud3JpdGFibGUud3JpdGUoYnVmZmVyXzEuQnVmZmVyLmFsbG9jKDApKTsgLy8gRU9GXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkcyBhIG1lZGlhc3RyZWFtIGFzIGEgcmVzcG9uc2UuIFRoaXMgZnVuY3Rpb24gd2lsbCBjaGVjayB0aGUgZGlzcG9zaXRpb25cclxuICAgICAqIHByaW9yIHRvIGxpc3RlbmluZyBmb3IgaW5jb21pbmcgdHJhY2tzLiBUaGlzIGNoZWNrIGlzIHRvIGhlbHAgdGhlIHJlY2VpdmVyXHJcbiAgICAgKiBsZWFybiBpZiB0aGV5IGFyZSBhY3R1YWxseSByZWNlaXZpbmcgdGhlIGNvcnJlY3QgdHlwZS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHJlYWRNZWRpYVN0cmVhbShzdHJlYW0pIHtcclxuICAgICAgICBmdW5jdGlvbiB3YWl0X2Zvcl9zdHJlYW0oc3RyZWFtLCB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ01lZGlhU3RyZWFtIHJlY2VpdmUgdGltZW91dC4nKSksIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgc3RyZWFtLnNvY2tldC5vbmNlKCd0cmFjaycsIHRyYWNrID0+IHJlc29sdmUodHJhY2suc3RyZWFtc1swXSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcmVhZF9kaXNwb3NpdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogZGlzcG9zaXRpb24gfSA9IGF3YWl0IHN0cmVhbS5yZWFkYWJsZS5yZWFkKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGVvZiB9ID0gYXdhaXQgc3RyZWFtLnJlYWRhYmxlLnJlYWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtkaXNwb3NpdGlvbiwgZW9mXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcmVhZF90cmFuc21pdCgpIHtcclxuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBidWZmZXIgb2Ygc3RyZWFtLnJlYWRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIZXJlLCB3ZSBvbmx5IHJlYWQgdGhlIHZhbHVlcyBmcm9tIHRoZSBzZW5kZXJzIE1lZGlhU3RyZWFtQ29udGV4dCxcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXRlcmF0aW9uIHdpbGwgY29udGludWUgdW50aWwgdGhlIHJlbW90ZSBzZW5kZXIgaGFzIGRpc3Bvc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgY29udGV4dC4gXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgW2Rpc3Bvc2l0aW9uLCBlb2ZdID0gYXdhaXQgcmVhZF9kaXNwb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChkaXNwb3NpdGlvbi50b1N0cmluZygpICE9PSAnbWVkaWFzdHJlYW0nICYmIGVvZi5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VuYWJsZSB0byByZWFkIG1lZGlhc3RyZWFtLiBTZW5kZXIgc2VudCBpbnZhbGlkIGRhdGEuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lZGlhc3RyZWFtID0gYXdhaXQgd2FpdF9mb3Jfc3RyZWFtKHN0cmVhbSwgNDAwMCk7XHJcbiAgICAgICAgcmVhZF90cmFuc21pdCgpO1xyXG4gICAgICAgIHJldHVybiBtZWRpYXN0cmVhbTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkJvZHlQcm90b2NvbCA9IEJvZHlQcm90b2NvbDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgc29ja2V0c18xID0gcmVxdWlyZShcIi4uLy4uL3NvY2tldHNcIik7XHJcbmNvbnN0IHByb3RvY29sXzEgPSByZXF1aXJlKFwiLi4vcHJvdG9jb2xcIik7XHJcbmNvbnN0IHJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3JlcXVlc3RcIik7XHJcbmNvbnN0IHJlc3BvbnNlXzEgPSByZXF1aXJlKFwiLi9yZXNwb25zZVwiKTtcclxuY29uc3Qgcm91dGVyXzEgPSByZXF1aXJlKFwiLi9yb3V0ZXJcIik7XHJcbmNvbnN0IE5FVFdPUktfVElNRU9VVCA9IDQwMDA7XHJcbi8qKlxyXG4gKiBBIFJlc3Qgc2VydmVyIGltcGxlbWVudGF0aW9uIGZhc2hpb25lZCBvbiB0aGUgbm9kZWpzIGV4cHJlc3MgbW9kdWxlLlxyXG4gKiBUaGlzIHNlcnZlciBwcm92aWRlcyByb3V0ZSBtYXRjaGluZywgbWlkZGxld2FyZSwgYW5kIHJvdXRlciBhbmQgYWxsb3dzXHJcbiAqIGZvciB0aGUgdHJhbnNtaXNzaW9uIG9mIGJ5dGUgZGF0YSBhcyB3ZWxsIGFzIE1lZGlhU3RyZWFtIHNoYXJpbmcgdXNpbmdcclxuICogcmVzcG9uc2UgcmVzcG9uc2Ugc2VtYW50aWNzLlxyXG4gKi9cclxuY2xhc3MgUmVzdFNlcnZlciBleHRlbmRzIHJvdXRlcl8xLlJvdXRlciB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGlzIHNlcnZlciAqL1xyXG4gICAgY29uc3RydWN0b3Ioc29ja2V0cywgb3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRzID0gc29ja2V0cztcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMub3B0aW9ucyB8fCB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMudGltZW91dCA9IHRoaXMub3B0aW9ucy50aW1lb3V0IHx8IE5FVFdPUktfVElNRU9VVDtcclxuICAgIH1cclxuICAgIC8qKiBTdGFydHMgdGhpcyBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHRoZSBnaXZlbiBwb3J0LiAqL1xyXG4gICAgbGlzdGVuKHBvcnQpIHtcclxuICAgICAgICB0aGlzLnNlcnZlciA9IHRoaXMuc29ja2V0cy5jcmVhdGVTZXJ2ZXIoc29ja2V0ID0+IHRoaXMub25Tb2NrZXQoc29ja2V0KSk7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXIubGlzdGVuKHBvcnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIERpc3Bvc2VzIG9mIHRoaXMgc2VydmVyLiAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLnNlcnZlci5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGFuZGxlcyB0aGlzIHNvY2tldCBhcyBhIHJlcXVlc3QgLyByZXNwb25zZS4gKi9cclxuICAgIGFzeW5jIG9uU29ja2V0KHNvY2tldCkge1xyXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBzb2NrZXRzXzEuTmV0d29ya1N0cmVhbShzb2NrZXQsIHRoaXMub3B0aW9ucy50aW1lb3V0KTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IG5ldyByZXNwb25zZV8xLlJlc3RSZXNwb25zZShzdHJlYW0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHByb3RvY29sXzEuSGVhZGVyUHJvdG9jb2wucmVhZFJlcXVlc3RIZWFkZXIoc3RyZWFtKTtcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyByZXF1ZXN0XzEuUmVzdFJlcXVlc3Qoc3RyZWFtLCBoZWFkZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZShyZXF1ZXN0LCByZXNwb25zZSwgKCkgPT4geyByZXNwb25zZS50ZXh0KCdub3QgZm91bmQnLCA0MDQpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoJ2ludGVybmFsIHNlcnZlciBlcnJvcicsIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUmVzdFNlcnZlciA9IFJlc3RTZXJ2ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcIi4uLy4uL3VybFwiKTtcclxuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi4vLi4vYnVmZmVyXCIpO1xyXG5jb25zdCBzdHJlYW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vc3RyZWFtc1wiKTtcclxuY29uc3Qgc29ja2V0c18xID0gcmVxdWlyZShcIi4uLy4uL3NvY2tldHNcIik7XHJcbmNvbnN0IHJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3JlcXVlc3RcIik7XHJcbmNvbnN0IHJlc3BvbnNlXzEgPSByZXF1aXJlKFwiLi9yZXNwb25zZVwiKTtcclxuY2xhc3MgRmV0Y2hVcmxFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZldGNoVXJsRXJyb3IgPSBGZXRjaFVybEVycm9yO1xyXG5jbGFzcyBGZXRjaFJlYWRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGV4cGVjdGVkLCBhY3R1YWwpIHtcclxuICAgICAgICBzdXBlcihgQ2Fubm90IHJlYWQgYSAnJHtleHBlY3RlZH0nIGZyb20gYSAnJHthY3R1YWx9JyByZXNwb25zZS5gKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZldGNoUmVhZEVycm9yID0gRmV0Y2hSZWFkRXJyb3I7XHJcbi8qKlxyXG4gKiBBIFJFU1QgZmV0Y2ggQVBJIHRoYXQgYWxsb3dzIGNhbGxlcnMgdG8gcmV0cmlldmUgcmVzb3VyY2VzIGhvc3RlZCBvbiByZW1vdGVcclxuICogUkVTVCBzZXJ2ZXJzIHJ1bm5pbmcgd2l0aGluIGEgcGVlciBuZXR3b3JrLiBQcm92aWRlcyBzaW1pbGFyIGZ1bmN0aW9uYWxpdHlcclxuICogdG8gdGhlIHN0YW5kYXJkIGJyb3dzZXIgZmV0Y2ggQVBJIHdpdGggdGhlIGFkZGVkIGFiaWxpdHkgdG8gbWFwIHJlYWRhYmxlXHJcbiAqIHF1ZXJ5YWJsZSBhbmQgbWVkaWFzdHJlYW1zIHJlc3BvbnNlcy5cclxuICovXHJcbmNsYXNzIEZldGNoIHtcclxuICAgIGNvbnN0cnVjdG9yKHNvY2tldHMpIHtcclxuICAgICAgICB0aGlzLnNvY2tldHMgPSBzb2NrZXRzO1xyXG4gICAgfVxyXG4gICAgLyoqIENyZWF0ZXMgYSByZWFkYWJsZSBmcm9tIHRoZSBnaXZlbiBidWZmZXIuICovXHJcbiAgICBjcmVhdGVSZWFkYWJsZShidWZmZXIpIHtcclxuICAgICAgICBjb25zdCBxdWV1ZSA9IChidWZmZXIubGVuZ3RoID4gMCkgPyBbYnVmZmVyXSA6IFtdO1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtc18xLlJlYWRhYmxlKHtcclxuICAgICAgICAgICAgcHVsbDogKGNvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogUmVzb2x2ZXMgYSByZWFkYWJsZSBzdHJlYW0gZnJvbSBib2R5LiAqL1xyXG4gICAgcmVzb2x2ZUJvZHlBc1JlYWRhYmxlKGJvZHkpIHtcclxuICAgICAgICBpZiAoYm9keSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJlYWRhYmxlKGJ1ZmZlcl8xLkJ1ZmZlci5hbGxvYygwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJvZHkgaW5zdGFuY2VvZiBzdHJlYW1zXzEuUmVhZGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7IC8vIG1hdGNoZXM6IEJ1ZmZlclxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVSZWFkYWJsZShib2R5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJlYWRhYmxlKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJvZHkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJlYWRhYmxlKGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJvZHkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUmVhZGFibGUoYnVmZmVyXzEuQnVmZmVyLmZyb20oanNvbikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBPcGVucyBhIHNvY2tldCB0byB0aGUgcmVtb3RlIGhvc3QuICovXHJcbiAgICBhc3luYyBjb25uZWN0KGhvc3QsIHBvcnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSB0aGlzLnNvY2tldHMuY29ubmVjdChob3N0LCBwb3J0KTtcclxuICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2Vycm9yJywgZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbmNlKCdjbG9zZScsICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ZldGNoIHNvY2tldCBjbG9zZWQgdW5leHBlY3RlZGx5LicpKSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbmNlKCdvcGVuJywgKCkgPT4gcmVzb2x2ZShzb2NrZXQpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGZldGNoIHJlcXVlc3QgdG8gYSByZW1vdGUgUmVzdCBzZXJ2ZXIgYW5kIHJldHVybnMgYSBGZXRjaFJlc3BvbnNlLlxyXG4gICAgICogQHBhcmFtIGVuZHBvaW50IFRoZSAncmVzdDovLzxhZGRyZXNzPjo8cG9ydD5gIGVuZHBvaW50LiBJZiBubyBwb3J0IGlzIGdpdmVuLFxyXG4gICAgICogcG9ydCA4MCBpcyB1c2VkLiBJZiBmZXRjaGluZyByZXNvdXJjZXMgZnJvbSBsb2NhbGhvc3QsIHlvdSBjYW4gcGFzcyB0aGUgcm9vdFxyXG4gICAgICogcmVsYXRpdmUgcGF0aC5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBtZXRob2QsIGhlYWRlciBhbmQgYm9keSBvcHRpb25zIGZvciB0aGlzIHJlcXVlc3QuIElmIHVuZGVmaW5lZFxyXG4gICAgICogdGhlIHJlcXVlc3QgbWV0aG9kIHdpbGwgYmUgR0VULlxyXG4gICAgICovXHJcbiAgICBhc3luYyBmZXRjaChlbmRwb2ludCwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ2dldCc7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVybF8xLlVybC5wYXJzZShlbmRwb2ludCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5wcm90b2NvbCAmJiByZXN1bHQucHJvdG9jb2wgIT09ICdyZXN0OicpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEZldGNoVXJsRXJyb3IoYENhbiBvbmx5IGZldGNoIHdpdGggJ3Jlc3Q6Ly8gcHJvdG9jb2xzLidgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3VsdC5wYXRoID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBGZXRjaFVybEVycm9yKGBUaGUgZmV0Y2ggVVJMICcke3Jlc3VsdC5wYXRofScgaXMgaW52YWxpZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXJsID0gcmVzdWx0LnBhdGg7XHJcbiAgICAgICAgY29uc3QgaG9zdCA9IHJlc3VsdC5ob3N0IHx8ICdsb2NhbGhvc3QnO1xyXG4gICAgICAgIGNvbnN0IHBvcnQgPSByZXN1bHQucG9ydCB8fCAnODAnO1xyXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8ICdnZXQnO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMucmVzb2x2ZUJvZHlBc1JlYWRhYmxlKG9wdGlvbnMuYm9keSk7XHJcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IHNvY2tldHNfMS5OZXR3b3JrU3RyZWFtKGF3YWl0IHRoaXMuY29ubmVjdChob3N0LCBwb3J0KSk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyByZXF1ZXN0XzEuRmV0Y2hSZXF1ZXN0KHN0cmVhbSwgeyB1cmwsIG1ldGhvZCwgaGVhZGVycyB9LCBib2R5KTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuZ2V0UmVzcG9uc2UoKTtcclxuICAgICAgICByZXR1cm4gbmV3IHJlc3BvbnNlXzEuRmV0Y2hSZXNwb25zZShzdHJlYW0sIHJlc3BvbnNlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkZldGNoID0gRmV0Y2g7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHN5c3RlbV8xID0gcmVxdWlyZShcIi4vc3lzdGVtXCIpO1xyXG5jb25zdCBodWJfMSA9IHJlcXVpcmUoXCIuL2h1YlwiKTtcclxuY29uc3QgbmV0d29ya18xID0gcmVxdWlyZShcIi4vbmV0d29ya1wiKTtcclxuY29uc3Qgc29ja2V0c18xID0gcmVxdWlyZShcIi4vc29ja2V0c1wiKTtcclxuY29uc3QgcmVzdF8xID0gcmVxdWlyZShcIi4vcmVzdFwiKTtcclxuY29uc3QgbWVkaWFfMSA9IHJlcXVpcmUoXCIuL21lZGlhXCIpO1xyXG5uZXcgaHViXzEuUGFnZUh1YlNlcnZlcih7fSkubGlzdGVuKDApO1xyXG4vKipcclxuICogQSBwZWVyIHRvIHBlZXIgbmV0d29ya2luZyBub2RlIHRoYXQgcnVucyBpbnNpZGUgdGhlIGJyb3dzZXIuIEluc3RhbmNlcyBvZlxyXG4gKiB0aGlzIHR5cGUgZm9ybSB0aGUgcHJpbWFyeSBBUEkgZm9yIHNtb2tlLiBJdCBpbmNsdWRlcyBuZXR3b3JraW5nIGFuZCBzdG9yYWdlXHJcbiAqIEFQSXMgdGhhdCBlbmFibGUgZm9yIHRoZSBjcmVhdGlvbiBvZiByaWNoIGRhdGEgZHJpdmVuIHNlcnZpY2VzIG92ZXIgV2ViUlRDLlxyXG4gKi9cclxuY2xhc3MgTm9kZSB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBTbW9rZSBub2RlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICB0aGlzLmh1YiA9IG9wdGlvbnMuaHViIHx8IG5ldyBodWJfMS5QYWdlSHViKDApO1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBuZXR3b3JrXzEuTmV0d29yayh0aGlzLmh1Yik7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW0gPSBuZXcgc3lzdGVtXzEuU3lzdGVtKHRoaXMubmV0d29yayk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRzID0gbmV3IHNvY2tldHNfMS5Tb2NrZXRzKHRoaXMubmV0d29yayk7XHJcbiAgICAgICAgdGhpcy5yZXN0ID0gbmV3IHJlc3RfMS5SZXN0KHRoaXMuc29ja2V0cyk7XHJcbiAgICAgICAgdGhpcy5tZWRpYSA9IG5ldyBtZWRpYV8xLk1lZGlhKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG5ldHdvcmsgYWRkcmVzcyBvZiB0aGlzIG5vZGUuIFRoaXMgYWRkcmVzcyBpcyBnaXZlbiB0byB0aGVcclxuICAgICAqIG5vZGUgYnkgd2F5IG9mIHRoZSBodWIgdGhpcyBub2RlIGlzIGNvbm5lY3RlZCB0by4gVG8gYXNzaWduIGEgaG9zdG5hbWVcclxuICAgICAqIGZvciB0aGlzIG5vZGUsIHVzZSB0aGUgaHViIGFwaS5cclxuICAgICAqL1xyXG4gICAgYWRkcmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5odWIuYWRkcmVzcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyBvZiB0aGlzIG5vZGUgYWxvbmcgd2l0aCBpdHMgY29ubmVjdGlvbiB0byB0aGUgbmV0d29yay5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGlzcG9zZSgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnJlc3QuZGlzcG9zZSgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc29ja2V0cy5kaXNwb3NlKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5uZXR3b3JrLmRpc3Bvc2UoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLk5vZGUgPSBOb2RlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWVkaWFfMSA9IHJlcXVpcmUoXCIuL21lZGlhXCIpO1xyXG5leHBvcnRzLk1lZGlhID0gbWVkaWFfMS5NZWRpYTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNtb2tlLW5vZGVcclxuXHJcblRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE5IEhheWRuIFBhdGVyc29uIChzaW5jbGFpcikgPGhheWRuLmRldmVsb3BlckBnbWFpbC5jb20+XHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcblRIRSBTT0ZUV0FSRS5cclxuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgd2VicnRjXzEgPSByZXF1aXJlKFwiLi93ZWJydGNcIik7XHJcbmNvbnN0IG1zZV8xID0gcmVxdWlyZShcIi4vbXNlXCIpO1xyXG4vKipcclxuICogUHJvdmlkZXMgaW50ZXJmYWNlIGZvciBjcmVhdGluZyBhbmQgZ2VuZXJhdGluZyBNZWRpYVN0cmVhbSBhbmQgTWVkaWFTb3VyY2VcclxuICogb2JqZWN0cyBmb3IgdmlkZW8gcGxheWJhY2sgYW5kIHN0cmVhbWluZy4gVGhpcyBuYW1lc3BhY2UgZGVhbHMgd2l0aCBib3RoXHJcbiAqIHRoZSBXZWJSVEMgTWVkaWFTdHJlYW0gQVBJIGFzIHdlbGwgYXMgdGhlIE1lZGlhIFNvdXJjZSBFeHRlbnNpb24gQVBJLlxyXG4gKi9cclxuY2xhc3MgTWVkaWEge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgYSBsaXZlIHZpZGVvIGZlZWQgZnJvbSBhIGJhY2tncm91bmQgY2FwdHVyZVN0cmVhbSgpLiBVc2VmdWwgZm9yXHJcbiAgICAgKiB0ZXN0aW5nIG1lZGlhc3RyZWFtIHBhc3MtdGhyb3VnaCBvdmVyIHdlYnJ0Yy5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBtZWRpYXN0cmVhbSA9IG1lZGlhLmNyZWF0ZVRlc3RQYXR0ZXJuKClcclxuICAgICAqIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWlkJylcclxuICAgICAqIHZpZGVvLnNyY09iamVjdCA9IG1lZGlhc3RyZWFtXHJcbiAgICAgKiB2aWRlby5wbGF5KClcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVUZXN0UGF0dGVybigpIHtcclxuICAgICAgICByZXR1cm4gd2VicnRjXzEuV2ViUlRDLmNyZWF0ZVRlc3RQYXR0ZXJuKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBnaXZlbiBSZWFkYWJsZTxCdWZmZXI+LiBBY2NlcHRzIGEgY29kZWMgdHlwZVxyXG4gICAgICogZm9yIHBsYXliYWNrIG9mICd3ZWJtJyBhbmQgJ21wNCcgY29udGVudCBvbmx5LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICpcclxuICAgICAqIGNvbnN0IHJlYWRhYmxlID0gZmlsZXMucmVhZGFibGUoJy92aWRlby53ZWJtJylcclxuICAgICAqIGNvbnN0IG1lZGlhc291cmNlID0gbWVkaWEuY3JlYXRlTWVkaWFTb3VyY2UocmVhZGFibGUsICd3ZWJtJylcclxuICAgICAqIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWlkJylcclxuICAgICAqIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwobWVkaWFzb3VyY2UpXHJcbiAgICAgKiB2aWRlby5wbGF5KClcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVNZWRpYVNvdXJjZShyZWFkYWJsZSwgY29kZWMpIHtcclxuICAgICAgICByZXR1cm4gbXNlXzEuTWVkaWFTb3VyY2VFeHRlbnNpb25zLmNyZWF0ZU1lZGlhU291cmNlKHJlYWRhYmxlLCBjb2RlYyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5NZWRpYSA9IE1lZGlhO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuc21va2Utbm9kZVxyXG5cclxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTkgSGF5ZG4gUGF0ZXJzb24gKHNpbmNsYWlyKSA8aGF5ZG4uZGV2ZWxvcGVyQGdtYWlsLmNvbT5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuVEhFIFNPRlRXQVJFLlxyXG5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jbGFzcyBXZWJSVEMge1xyXG4gICAgLyoqIEdlbmVyYXRlcyBhIGxpdmUgTWVkaWFTdHJlYW0gdGVzdCBwYXR0ZXJuLiAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZVRlc3RQYXR0ZXJuKCkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDEwMjQ7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDc2ODtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KTtcclxuICAgICAgICAgICAgY29uc3QgZyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGByZ2IoJHtyfSwgJHtnfSwgJHtifSlgO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDEwMCwgMTAwKTtcclxuICAgICAgICB9LCAxMCk7XHJcbiAgICAgICAgY29uc3QgZmFjYWRlID0gY2FudmFzO1xyXG4gICAgICAgIHJldHVybiBmYWNhZGVbJ2NhcHR1cmVTdHJlYW0nXSgzMCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5XZWJSVEMgPSBXZWJSVEM7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5zbW9rZS1ub2RlXHJcblxyXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxOSBIYXlkbiBQYXRlcnNvbiAoc2luY2xhaXIpIDxoYXlkbi5kZXZlbG9wZXJAZ21haWwuY29tPlxyXG5cclxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG5USEUgU09GVFdBUkUuXHJcblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IG92ZXIgdGhlIE1lZGlhIFNvdXJjZSBFeHRlbnNpb25zIEFQSS5cclxuICovXHJcbmNsYXNzIE1lZGlhU291cmNlRXh0ZW5zaW9ucyB7XHJcbiAgICBzdGF0aWMgcmVzb2x2ZUNvZGVjKGNvZGVjKSB7XHJcbiAgICAgICAgc3dpdGNoIChjb2RlYykge1xyXG4gICAgICAgICAgICBjYXNlICdtcDQnOiByZXR1cm4gJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS42NDAwMjksIG1wNGEuNDAuNVwiJztcclxuICAgICAgICAgICAgY2FzZSAnd2VibSc6IHJldHVybiAndmlkZW8vd2VibTsgY29kZWNzPVwidnA4LCB2b3JiaXNcIic7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IEVycm9yKGBVbmtub3duIG1lZGlhIGNvZGVjIHR5cGUgJHtjb2RlY31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYXN5bmMgd3JpdGVTb3VyY2VCdWZmZXIocmVhZGFibGUsIGJ1ZmZlcikge1xyXG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRhYmxlLnJlYWQoKTtcclxuICAgICAgICBpZiAoIWRvbmUpIHtcclxuICAgICAgICAgICAgYnVmZmVyLmFwcGVuZEJ1ZmZlcih2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBnaXZlbiBSZWFkYWJsZTxCdWZmZXI+LiBBY2NlcHRzIGEgY29kZWMgdHlwZVxyXG4gICAgICogZm9yIHBsYXliYWNrIG9mICd3ZWJtJyBhbmQgJ21wNCcgY29udGVudCBvbmx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlTWVkaWFTb3VyY2UocmVhZGFibGUsIGNvZGVjKSB7XHJcbiAgICAgICAgY29uc3QgbWVkaWFzb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcclxuICAgICAgICBtZWRpYXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBtZWRpYXNvdXJjZS5hZGRTb3VyY2VCdWZmZXIodGhpcy5yZXNvbHZlQ29kZWMoY29kZWMpKTtcclxuICAgICAgICAgICAgYnVmZmVyLm1vZGUgPSAnc2VxdWVuY2UnO1xyXG4gICAgICAgICAgICBidWZmZXIuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdHRlbiA9IGF3YWl0IHRoaXMud3JpdGVTb3VyY2VCdWZmZXIocmVhZGFibGUsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAod3JpdHRlbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhc291cmNlLmVuZE9mU3RyZWFtKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCB3cml0dGVuID0gYXdhaXQgdGhpcy53cml0ZVNvdXJjZUJ1ZmZlcihyZWFkYWJsZSwgYnVmZmVyKTtcclxuICAgICAgICAgICAgaWYgKHdyaXR0ZW4gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIG1lZGlhc291cmNlLmVuZE9mU3RyZWFtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWVkaWFzb3VyY2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5NZWRpYVNvdXJjZUV4dGVuc2lvbnMgPSBNZWRpYVNvdXJjZUV4dGVuc2lvbnM7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=